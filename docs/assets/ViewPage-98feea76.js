import{d as de,t as P,r as se,c as te,o as j,a as J,b as he,u as x,n as be,p as Ct,e as ut,f as _a,w as me,h as ue,g as ba,i as St,j as Un,k as xo,l as xt,m as wa,q as bl,s as ce,v as fe,F as ye,x as Me,y as wl,z as zt,A as xl,B as kl,C as El,D as eo,E as ie,G as we,H as pe,I as Te,J as Cl,K as ve,L as Sl,M as Ve,N as gt,O as xa,P as Al,Q as ka,R as Ea,S as $l,T as vt,U as Dl,V as Nl,W as Zt,X as Ca,Y as Sa}from"./index-a64dd1f9.js";import{u as ht,b as an,O as Ml,T as Tl,s as ql,f as zl,L as Il,p as Pl,g as Ol,a as Fl,d as Bl}from"./dbmlParser-e7ae4300.js";var Es;const Zr=typeof window<"u",Rl=e=>typeof e<"u",Ll=e=>typeof e=="boolean",ot=e=>typeof e=="function",Je=e=>typeof e=="number",et=e=>typeof e=="string",Vl=()=>{};Zr&&(Es=window==null?void 0:window.navigator)!=null&&Es.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ae(e){return typeof e=="function"?e():x(e)}function Hl(e,t){function n(...o){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(s)})}return n}const Aa=e=>e();function Ul(e=Aa){const t=se(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...s)=>{t.value&&e(...s)};return{isActive:Sl(t),pause:n,resume:o,eventFilter:r}}function Cs(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function Gl(e){return e}function Qo(e,t){let n,o,r;const s=se(!0),i=()=>{s.value=!0,r()};me(e,i,{flush:"sync"});const a=ot(t)?t:t.get,c=ot(t)?void 0:t.set,l=Al((u,h)=>(o=u,r=h,{get(){return s.value&&(n=a(),s.value=!1),o(),n},set(d){c==null||c(d)}}));return Object.isExtensible(l)&&(l.trigger=i),l}function wn(e){return ba()?(Un(e),!0):!1}function jl(e,t=!0){xo()?ut(e):t?e():xt(e)}function Cr(e,t=!1){function n(h,{flush:d="sync",deep:p=!1,timeout:g,throwOnTimeout:v}={}){let k=null;const y=[new Promise(E=>{k=me(e,M=>{h(M)!==t&&(k==null||k(),E(M))},{flush:d,deep:p,immediate:!0})})];return g!=null&&y.push(Cs(g,v).then(()=>ae(e)).finally(()=>k==null?void 0:k())),Promise.race(y)}function o(h,d){if(!Cl(h))return n(M=>M===h,d);const{flush:p="sync",deep:g=!1,timeout:v,throwOnTimeout:k}=d??{};let y=null;const E=[new Promise(M=>{y=me([e,h],([_,D])=>{t!==(_===D)&&(y==null||y(),M(_))},{flush:p,deep:g,immediate:!0})})];return v!=null&&E.push(Cs(v,k).then(()=>ae(e)).finally(()=>(y==null||y(),ae(e)))),Promise.race(E)}function r(h){return n(d=>!!d,h)}function s(h){return o(null,h)}function i(h){return o(void 0,h)}function a(h){return n(Number.isNaN,h)}function c(h,d){return n(p=>{const g=Array.from(p);return g.includes(h)||g.includes(ae(h))},d)}function l(h){return u(1,h)}function u(h=1,d){let p=-1;return n(()=>(p+=1,p>=h),d)}return Array.isArray(ae(e))?{toMatch:n,toContains:c,changed:l,changedTimes:u,get not(){return Cr(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:s,toBeNaN:a,toBeUndefined:i,changed:l,changedTimes:u,get not(){return Cr(e,!t)}}}function Ae(e){return Cr(e)}var Ss=Object.getOwnPropertySymbols,Yl=Object.prototype.hasOwnProperty,Xl=Object.prototype.propertyIsEnumerable,Zl=(e,t)=>{var n={};for(var o in e)Yl.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Ss)for(var o of Ss(e))t.indexOf(o)<0&&Xl.call(e,o)&&(n[o]=e[o]);return n};function Wl(e,t,n={}){const o=n,{eventFilter:r=Aa}=o,s=Zl(o,["eventFilter"]);return me(e,Hl(r,t),s)}var Kl=Object.defineProperty,Ql=Object.defineProperties,Jl=Object.getOwnPropertyDescriptors,to=Object.getOwnPropertySymbols,$a=Object.prototype.hasOwnProperty,Da=Object.prototype.propertyIsEnumerable,As=(e,t,n)=>t in e?Kl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eu=(e,t)=>{for(var n in t||(t={}))$a.call(t,n)&&As(e,n,t[n]);if(to)for(var n of to(t))Da.call(t,n)&&As(e,n,t[n]);return e},tu=(e,t)=>Ql(e,Jl(t)),nu=(e,t)=>{var n={};for(var o in e)$a.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&to)for(var o of to(e))t.indexOf(o)<0&&Da.call(e,o)&&(n[o]=e[o]);return n};function Mt(e,t,n={}){const o=n,{eventFilter:r}=o,s=nu(o,["eventFilter"]),{eventFilter:i,pause:a,resume:c,isActive:l}=Ul(r);return{stop:Wl(e,t,tu(eu({},s),{eventFilter:i})),pause:a,resume:c,isActive:l}}function Na(e){var t;const n=ae(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Wr=Zr?window:void 0;function Kr(...e){let t,n,o,r;if(et(e[0])||Array.isArray(e[0])?([n,o,r]=e,t=Wr):[t,n,o,r]=e,!t)return Vl;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],i=()=>{s.forEach(u=>u()),s.length=0},a=(u,h,d,p)=>(u.addEventListener(h,d,p),()=>u.removeEventListener(h,d,p)),c=me(()=>[Na(t),ae(r)],([u,h])=>{i(),u&&s.push(...n.flatMap(d=>o.map(p=>a(u,d,p,h))))},{immediate:!0,flush:"post"}),l=()=>{c(),i()};return wn(l),l}const ou=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0;function $s(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=Wr,eventName:s="keydown",passive:i=!1}=o,a=ou(t);return Kr(r,s,c=>{a(c)&&n(c)},i)}function ru(e,t=!1){const n=se(),o=()=>n.value=!!e();return o(),jl(o,t),n}function su(e){return JSON.parse(JSON.stringify(e))}const Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ns="__vueuse_ssr_handlers__";Ds[Ns]=Ds[Ns]||{};var Ms=Object.getOwnPropertySymbols,iu=Object.prototype.hasOwnProperty,au=Object.prototype.propertyIsEnumerable,cu=(e,t)=>{var n={};for(var o in e)iu.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Ms)for(var o of Ms(e))t.indexOf(o)<0&&au.call(e,o)&&(n[o]=e[o]);return n};function lu(e,t,n={}){const o=n,{window:r=Wr}=o,s=cu(o,["window"]);let i;const a=ru(()=>r&&"ResizeObserver"in r),c=()=>{i&&(i.disconnect(),i=void 0)},l=me(()=>Na(e),h=>{c(),a.value&&r&&h&&(i=new ResizeObserver(t),i.observe(h,s))},{immediate:!0,flush:"post"}),u=()=>{c(),l()};return wn(u),{isSupported:a,stop:u}}var Ts;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Ts||(Ts={}));var uu=Object.defineProperty,qs=Object.getOwnPropertySymbols,du=Object.prototype.hasOwnProperty,hu=Object.prototype.propertyIsEnumerable,zs=(e,t,n)=>t in e?uu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fu=(e,t)=>{for(var n in t||(t={}))du.call(t,n)&&zs(e,n,t[n]);if(qs)for(var n of qs(t))hu.call(t,n)&&zs(e,n,t[n]);return e};const pu={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};fu({linear:Gl},pu);function cn(e,t,n,o={}){var r,s,i;const{clone:a=!1,passive:c=!1,eventName:l,deep:u=!1,defaultValue:h}=o,d=xo(),p=n||(d==null?void 0:d.emit)||((r=d==null?void 0:d.$emit)==null?void 0:r.bind(d))||((i=(s=d==null?void 0:d.proxy)==null?void 0:s.$emit)==null?void 0:i.bind(d==null?void 0:d.proxy));let g=l;t||(t="modelValue"),g=l||g||`update:${t.toString()}`;const v=y=>a?ot(a)?a(y):su(y):y,k=()=>Rl(e[t])?v(e[t]):h;if(c){const y=k(),E=se(y);return me(()=>e[t],M=>E.value=v(M)),me(E,M=>{(M!==e[t]||u)&&p(g,M)},{deep:u}),E}else return te({get(){return k()},set(y){p(g,y)}})}function W(e=()=>{}){const t=se(new Set);e&&t.value.add(e);const n=o=>{t.value.delete(o)};return{on:o=>{t.value.has(e)&&t.value.delete(e),t.value.add(o);const r=()=>n(o);return wn(r),{off:r}},off:n,trigger:o=>Promise.all(Array.from(t.value).map(r=>r(o))),fns:t}}const gu=["production","prod"];function Ma(e,...t){gu.includes("production")||console.warn(`[Vue Flow]: ${e}`,...t)}function mu(){return{edgesChange:W(),nodesChange:W(),nodeDoubleClick:W(),nodeClick:W(),nodeMouseEnter:W(),nodeMouseMove:W(),nodeMouseLeave:W(),nodeContextMenu:W(),nodeDragStart:W(),nodeDrag:W(),nodeDragStop:W(),nodesInitialized:W(),miniMapNodeClick:W(),miniMapNodeDoubleClick:W(),miniMapNodeMouseEnter:W(),miniMapNodeMouseMove:W(),miniMapNodeMouseLeave:W(),connect:W(),connectStart:W(),connectEnd:W(),clickConnectStart:W(),clickConnectEnd:W(),paneReady:W(),move:W(),moveStart:W(),moveEnd:W(),selectionDragStart:W(),selectionDrag:W(),selectionDragStop:W(),selectionContextMenu:W(),selectionStart:W(),selectionEnd:W(),viewportChangeStart:W(),viewportChange:W(),viewportChangeEnd:W(),paneScroll:W(),paneClick:W(),paneContextMenu:W(),paneMouseEnter:W(),paneMouseMove:W(),paneMouseLeave:W(),edgeContextMenu:W(),edgeMouseEnter:W(),edgeMouseMove:W(),edgeMouseLeave:W(),edgeDoubleClick:W(),edgeClick:W(),edgeUpdateStart:W(),edgeUpdate:W(),edgeUpdateEnd:W(),updateNodeInternals:W(),error:W(e=>Ma(e.message))}}function vu(e,t){wl(()=>{for(const[n,o]of Object.entries(t.value)){const r=s=>{e(n,s)};o.on(r),wn(()=>{o.off(r)})}})}var ke=(e=>(e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e))(ke||{});const Is={MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`};let Ee=class extends Error{constructor(t,...n){var o;super((o=Is[t])==null?void 0:o.call(Is,...n)),this.code=t}};const Qr=()=>typeof window<"u"?window:{chrome:!1};function Ps(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Sr(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function ko(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Rt(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Ta(e,t){return{x:Rt(e.x,t[0][0],t[1][0]),y:Rt(e.y,t[0][1],t[1][1])}}function Os(e){const t=e.getRootNode(),n=Qr();return"elementFromPoint"in t?t:n.document}function Lt(e){return e&&"id"in e&&"source"in e&&"target"in e}function yu(e){return Lt(e)&&"sourceNode"in e&&"targetNode"in e}function Gn(e){return e&&"id"in e&&!Lt(e)}function qt(e){return Gn(e)&&"computedPosition"in e}function _u(e){return!!e.width&&!!e.height&&!!e.x&&!!e.y}function bu(e,t={}){let n=t;return qt(e)||(n={type:e.type??t.type??"default",dimensions:zt({width:0,height:0}),handleBounds:{source:[],target:[]},computedPosition:zt({z:0,...e.position}),draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,...t,data:_e(e.data)?e.data:{},events:zt(_e(e.events)?e.events:{})}),Object.assign({},n,e,{id:e.id.toString()})}function qa(e,t={}){const n=_e(e.events)?e.events:t.events&&_e(t.events)?t.events:{},o=_e(e.data)?e.data:t.data&&_e(t.data)?t.data:{};return t=yu(e)?t:{...t,sourceHandle:(e.sourceHandle?e.sourceHandle.toString():void 0)||t.sourceHandle,targetHandle:(e.targetHandle?e.targetHandle.toString():void 0)||t.targetHandle,type:e.type??t.type??"default",source:e.source.toString()||t.source,target:e.target.toString()||t.target,updatable:e.updatable??t.updatable,selectable:e.selectable??t.selectable,focusable:e.focusable??t.focusable,data:o,events:zt(n),label:(e.label&&!et(e.label)?zt(e.label):e.label)||t.label,interactionWidth:e.interactionWidth||t.interactionWidth},Object.assign({},t,e,{id:e.id.toString()})}function za({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function wu(e,t){return t.some(n=>Lt(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function xu({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function Ia({x:e,y:t},{x:n,y:o,zoom:r},s,[i,a]){const c={x:(e-n)/r,y:(t-o)/r};return s?{x:i*Math.round(c.x/i),y:a*Math.round(c.y/a)}:c}function Pa(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function no({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function Oa({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function ku(e,t){return Oa(Pa(no(e),no(t)))}function Jr(e){const t=e.reduce((n,{computedPosition:o={x:0,y:0},dimensions:r={width:0,height:0}}={})=>Pa(n,no({...o,...r})),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Oa(t)}function Fa(e,t,{x:n,y:o,zoom:r}={x:0,y:0,zoom:1},s=!1,i=!1){const a={x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r};return e.filter(c=>{const{computedPosition:l={x:0,y:0},dimensions:u={width:0,height:0},selectable:h}=c;if(i&&!h)return!1;const d={...l,width:u.width||0,height:u.height||0},p=Sr(a,d),g=typeof u.width>"u"||typeof u.height>"u"||u.width===0||u.height===0,v=s&&p>0,k=u.width*u.height;return g||v||p>=k})}function Qe(e,t){const n=e.map(o=>et(o)?o:o.id);return t.filter(o=>n.includes(o.source)||n.includes(o.target))}function Fs(e,t,n,o,r,s=.1,i={x:0,y:0}){const a=t/(e.width*(1+s)),c=n/(e.height*(1+s)),l=Math.min(a,c),u=Rt(l,o,r),h=e.x+e.width/2,d=e.y+e.height/2,p=t/2-h*u+(i.x??0),g=n/2-d*u+(i.y??0);return{x:p,y:g,zoom:u}}function Eu(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function Ba(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:Ba(n,t):!1}function yt(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`}function _e(e){return typeof x(e)<"u"}function Cu(e,t,n){if(!e.source||!e.target)return n(new Ee(ke.EDGE_INVALID,e.id)),!1;let o;return Lt(e)?o=e:o={...e,id:za(e)},o=qa(o),wu(o,t)?!1:o}function Su(e,t,n,o,r,s){if(!t.source||!t.target)return s(new Ee(ke.EDGE_INVALID,e.id)),!1;const i=o(e.id);if(!i)return s(new Ee(ke.EDGE_NOT_FOUND,e.id)),!1;const{id:a,...c}=e,l={...c,id:r?za(t):a,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(i),1,l),l}function Bs(e,t,n,o){const r={},s=e.map(a=>{const c=bu(a,{...n(a.id),parentNode:a.parentNode});return a.parentNode&&(r[a.parentNode]=!0),c}),i=[...s,...t];return s.forEach(a=>{const c=i.find(l=>l.id===a.parentNode);a.parentNode&&!c&&o(new Ee(ke.NODE_MISSING_PARENT,a.id,a.parentNode)),(a.parentNode||r[a.id])&&(r[a.id]&&(a.isParent=!0),c&&(c.isParent=!0))}),s}var oe=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(oe||{}),es=(e=>(e.Partial="partial",e.Full="full",e))(es||{}),mt=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(mt||{}),dt=(e=>(e.Strict="strict",e.Loose="loose",e))(dt||{}),Ar=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Ar||{}),oo=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(oo||{}),Ra=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(Ra||{});const Rs=Symbol("vueFlow"),La=Symbol("nodeId"),Va=Symbol("nodeRef"),Au=Symbol("edgeId"),$u=Symbol("edgeRef"),Eo=Symbol("slots");function Du(e){const t=e??St(La,""),n=St(Va,null),{findNode:o,edges:r,emits:s}=ge(),i=o(t);return i||s.error(new Ee(ke.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:i,parentNode:te(()=>o(i.parentNode)),connectedEdges:te(()=>Qe([i],r.value))}}function ts(e){return"clientX"in e}function It(e,t){var n,o;const r=ts(e),s=r?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,i=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:s-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}}function ro(e,t,n){const o=((n==null?void 0:n.x)??0)+t.x,r=((n==null?void 0:n.y)??0)+t.y,s=(n==null?void 0:n.width)??t.width,i=(n==null?void 0:n.height)??t.height;switch(e){case oe.Top:return{x:o+s/2,y:r};case oe.Right:return{x:o+s,y:r+i/2};case oe.Bottom:return{x:o+s/2,y:r+i};case oe.Left:return{x:o,y:r+i/2}}}function Ls(e=[],t){return e.length?!t||e.length===1?e[0]:t&&e.find(n=>n.id===t)||null:null}function Nu(e,t,n,o,r,s){const i=ro(n,{...e.dimensions,...e.computedPosition},t),a=ro(s,{...o.dimensions,...o.computedPosition},r);return{sourceX:i.x,sourceY:i.y,targetX:a.x,targetY:a.y}}function Mu({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:s,width:i,height:a,viewport:c}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+s)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const u=no({x:(0-c.x)/c.zoom,y:(0-c.y)/c.zoom,width:i/c.zoom,height:a/c.zoom}),h=Math.max(0,Math.min(u.x2,l.x2)-Math.max(u.x,l.x)),d=Math.max(0,Math.min(u.y2,l.y2)-Math.max(u.y,l.y));return Math.ceil(h*d)>0}function Tu(e,t,n=!1){let o=-1;const r=e.reduce((s,i)=>{const a=Je(i.zIndex);let c=a?i.zIndex:0;const l=t(i.source),u=t(i.target);return!l||!u||(n&&(c=a?i.zIndex:Math.max(l.computedPosition.z||0,u.computedPosition.z||0)),s[c]?s[c].push(i):s[c]=[i],o=c>o?c:o),s},{});return Object.entries(Object.keys(r).length?r:{0:[]}).map(([s,i])=>{const a=+s;return{edges:i,level:a,isMaxLevel:a===o}})}function Jo(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Vs(e,t,n,o){return(t[n]||[]).reduce((r,s)=>(`${e.id}-${s.id}-${n}`!==o&&r.push({id:s.id||null,type:n,nodeId:e.id,...ro(s.position,{...e.dimensions,...e.computedPosition},s)}),r),[])}function qu(e,t,n){let o=null,r=1/0;return n.forEach(s=>{const i=Math.sqrt((s.x-e.x)**2+(s.y-e.y)**2);i<=t&&i<r&&(r=i,o=s)}),o}function Hs(e,t,n,o,r,s,i,a,c,l){const u=s==="target",h=a.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:d,y:p}=It(e),g=a.elementFromPoint(d,p),v=g!=null&&g.classList.contains("vue-flow__handle")?g:h,k={handleDomNode:v,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null};if(v){const y=Ha(void 0,v),E=v.getAttribute("data-nodeid"),M=v.getAttribute("data-handleid"),_=v.classList.contains("connectable"),D=v.classList.contains("connectableend"),A={source:u?E:o,sourceHandle:u?M:r,target:u?o:E,targetHandle:u?r:M};k.connection=A,_&&D&&(n===dt.Strict?u&&y==="source"||!u&&y==="target":E!==o||M!==r)&&(k.endHandle={nodeId:E,handleId:M,type:y},k.isValid=i(A,{edges:c,sourceNode:l(A.source),targetNode:l(A.target)}))}return k}function zu({nodes:e,nodeId:t,handleId:n,handleType:o}){return e.reduce((r,s)=>{const{handleBounds:i}=s;let a=[],c=[];return i&&(a=Vs(s,i,"source",`${t}-${n}-${o}`),c=Vs(s,i,"target",`${t}-${n}-${o}`)),r.push(...a,...c),r},[])}function Ha(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Iu(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Us(e,t,n){return e<t?Rt(Math.abs(e-t),1,50)/50:e>n?-Rt(Math.abs(e-n),1,50)/50:0}function Ua(e,t){const n=Us(e.x,35,t.width-35)*20,o=Us(e.y,35,t.height-35)*20;return[n,o]}function Nn(){return!0}function Ga({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:r,onEdgeUpdate:s,onEdgeUpdateEnd:i}){const a=te(()=>ae(n)==="target"),{vueFlowRef:c,connectionMode:l,connectionRadius:u,connectOnClick:h,connectionClickStartHandle:d,nodesConnectable:p,autoPanOnConnect:g,findNode:v,panBy:k,getNodes:y,startConnection:E,updateConnection:M,endConnection:_,emits:D,viewport:A,edges:b,isValidConnection:V}=ge();let I=null,N=!1,R=null;function ee(f){var $;const m=ts(f),C=Os(f.target);if(m&&f.button===0||!m){let T=function(ne){U=It(ne,S),O=qu(Ia(U,A.value,!1,[1,1]),u.value,X),Y||(F(),Y=!0);const re=Hs(ne,O,l.value,ae(t),ae(e),a.value?"target":"source",H,C,b.value,v);if(I=re.connection,N=re.isValid,R=re.handleDomNode,M(O&&N?xu({x:O.x,y:O.y},A.value):U,re.endHandle,Iu(!!O,N)),!O&&!N&&!R)return Jo(L);I&&I.source!==I.target&&R&&(Jo(L),L=R,R.classList.add("connecting","vue-flow__handle-connecting"),R.classList.toggle("valid",N),R.classList.toggle("vue-flow__handle-valid",N))},z=function(ne){(O||R)&&I&&N&&(s?s(ne,I):D.connect(I)),D.connectEnd(ne),r&&(i==null||i(ne)),Jo(L),cancelAnimationFrame(Q),_(ne),Y=!1,N=!1,I=null,R=null,C.removeEventListener("mousemove",T),C.removeEventListener("mouseup",z),C.removeEventListener("touchmove",T),C.removeEventListener("touchend",z)};const q=v(ae(t));let H=o||V.value||Nn;!H&&q&&(H=(a?q.isValidSourcePos:q.isValidTargetPos)||Nn);let O,Q=0;const{x:G,y:Z}=It(f),B=C==null?void 0:C.elementFromPoint(G,Z),w=Ha(ae(r),B),S=($=c.value)==null?void 0:$.getBoundingClientRect();if(!S||!w)return;let L,U=It(f,S),Y=!1;const X=zu({nodes:y.value,nodeId:ae(t),handleId:ae(e),handleType:w}),F=()=>{if(!g)return;const[ne,re]=Ua(U,S);k({x:ne,y:re}),Q=requestAnimationFrame(F)};E({nodeId:ae(t),handleId:ae(e),type:w},{x:G-S.left,y:Z-S.top},f),D.connectStart({event:f,nodeId:ae(t),handleId:ae(e),handleType:w}),C.addEventListener("mousemove",T),C.addEventListener("mouseup",z),C.addEventListener("touchmove",T),C.addEventListener("touchend",z)}}function K(f){if(h.value)if(!d.value)D.clickConnectStart({event:f,nodeId:ae(t),handleId:ae(e)}),E({nodeId:ae(t),type:ae(n),handleId:ae(e)},void 0,f,!0);else{let $=o||V.value||Nn;const m=v(ae(t));if(!$&&m&&($=(a?m.isValidSourcePos:m.isValidTargetPos)||Nn),m&&(typeof m.connectable>"u"?p.value:m.connectable)===!1)return;const C=Os(f.target),{connection:T,isValid:z}=Hs(f,{nodeId:ae(t),id:ae(e),type:ae(n)},l.value,d.value.nodeId,d.value.handleId||null,d.value.type,$,C,b.value,v),q=T.source===T.target;z&&!q&&D.connect(T),D.clickConnectEnd(f),_(f,!0)}}return{handlePointerDown:ee,handleClick:K}}function Pu(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}const Ou=["data-id","data-handleid","data-nodeid","data-handlepos"],Fu={name:"Handle",compatConfig:{MODE:3}},dn=de({...Fu,props:{id:null,type:null,position:{default:oe.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e){const t=Pu(e,["position","connectable","connectableStart","connectableEnd","id","isValidConnection"]),n=P(t,"type","source"),{connectionStartHandle:o,connectionClickStartHandle:r,connectionEndHandle:s,vueFlowRef:i,nodesConnectable:a,noDragClassName:c,noPanClassName:l}=ge(),{id:u,node:h,nodeEl:d,connectedEdges:p}=Du(),g=se(),v=te(()=>e.id??`${u}__handle-${e.position}`),k=te(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),y=te(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),{handlePointerDown:E,handleClick:M}=Ga({nodeId:u,handleId:v,isValidConnection:e.isValidConnection,type:n}),_=te(()=>et(e.connectable)&&e.connectable==="single"?!p.value.some(I=>{const N=I[`${n.value}Handle`];return I[n.value]!==u?!1:N?N===v.value:!0}):ot(e.connectable)?e.connectable(h,p.value):_e(e.connectable)?e.connectable:a.value),D=te(()=>{var I,N,R,ee,K,f;return((I=o.value)==null?void 0:I.nodeId)===u&&((N=o.value)==null?void 0:N.handleId)===v.value&&((R=o.value)==null?void 0:R.type)===n.value||((ee=s.value)==null?void 0:ee.nodeId)===u&&((K=s.value)==null?void 0:K.handleId)===v.value&&((f=s.value)==null?void 0:f.type)===n.value}),A=te(()=>{var I,N,R;return((I=r.value)==null?void 0:I.nodeId)===u&&((N=r.value)==null?void 0:N.handleId)===v.value&&((R=r.value)==null?void 0:R.type)===n.value});Ae(()=>h.initialized).toBe(!0,{flush:"post"}).then(()=>{var I;const N=(I=h.handleBounds[n.value])==null?void 0:I.find(C=>C.id===v.value);if(!i.value||N)return;const R=i.value.querySelector(".vue-flow__transformationpane");if(!d||!g.value||!R||!v.value)return;const ee=d.value.getBoundingClientRect(),K=g.value.getBoundingClientRect(),f=window.getComputedStyle(R),{m22:$}=new window.DOMMatrixReadOnly(f.transform),m={id:v.value,position:e.position,x:(K.left-ee.left)/$,y:(K.top-ee.top)/$,...ko(g.value)};h.handleBounds[n.value]=[...h.handleBounds[n.value]??[],m]});function b(I){const N=ts(I);_.value&&k.value&&(N&&I.button===0||!N)&&E(I)}function V(I){!u||!r.value&&!k.value||_.value&&M(I)}return(I,N)=>(j(),J("div",{ref_key:"handle",ref:g,"data-id":`${x(u)}-${x(v)}-${x(n)}`,"data-handleid":x(v),"data-nodeid":x(u),"data-handlepos":e.position,class:be(["vue-flow__handle",[`vue-flow__handle-${e.position}`,`vue-flow__handle-${x(v)}`,x(c),x(l),x(n),{connectable:x(_),connecting:x(A),connectablestart:x(k),connectableend:x(y),connectionindicator:x(_)&&(x(k)&&!x(D)||x(y)&&x(D))}]]),onMousedown:b,onTouchstartPassive:b,onClick:V},[he(I.$slots,"default",{id:e.id})],42,Ou))}}),Co=function({sourcePosition:e=oe.Bottom,targetPosition:t=oe.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:s}){return[ue(dn,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof n!="string"&&n?ue(n):ue("div",{innerHTML:n}),ue(dn,{type:"source",position:e,connectable:o,isValidConnection:s})]};Co.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable"];Co.inheritAttrs=!1;Co.compatConfig={MODE:3};const Bu=Co,So=function({sourcePosition:e=oe.Bottom,label:t,connectable:n=!0,isValidSourcePos:o}){return[typeof t!="string"&&t?ue(t):ue("div",{innerHTML:t}),ue(dn,{type:"source",position:e,connectable:n,isValidConnection:o})]};So.props=["sourcePosition","label","isValidSourcePos","connectable"];So.inheritAttrs=!1;So.compatConfig={MODE:3};const Ru=So,Ao=function({targetPosition:e=oe.Top,label:t,connectable:n=!0,isValidTargetPos:o}){return[ue(dn,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof t!="string"&&t?ue(t):ue("div",{innerHTML:t})]};Ao.props=["targetPosition","label","isValidTargetPos","connectable"];Ao.inheritAttrs=!1;Ao.compatConfig={MODE:3};const Lu=Ao;function Gs(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function Vu(e,t,n,o,r){return e.filter(s=>(s.selected||s.id===r)&&(!s.parentNode||!Ba(s,o))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,a;return zt({id:s.id,position:s.position||{x:0,y:0},distance:{x:n.x-((i=s.computedPosition)==null?void 0:i.x)||0,y:n.y-((a=s.computedPosition)==null?void 0:a.y)||0},from:s.computedPosition,extent:s.extent,parentNode:s.parentNode,dimensions:s.dimensions})})}function er({id:e,dragItems:t,findNode:n}){const o=t.map(r=>n(r.id));return[e?o.find(r=>r.id===e):o[0],o]}function ja(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Hu(e,t,n){const[o,r,s,i]=typeof e!="string"?ja(e.padding):[0,0,0,0];return n&&Je(n.computedPosition.x)&&Je(n.computedPosition.y)&&Je(n.dimensions.width)&&Je(n.dimensions.height)?[[n.computedPosition.x+i,n.computedPosition.y+o],[n.computedPosition.x+(n.dimensions.width-t.dimensions.width)-r,n.computedPosition.y+(n.dimensions.height-t.dimensions.height)-s]]:!1}function Uu(e,t,n,o){let r=e.extent||n;if(r==="parent"||!Array.isArray(r)&&(r==null?void 0:r.range)==="parent")if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const s=Hu(r,e,o);s&&(r=s)}else t(new Ee(ke.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){const s=(o==null?void 0:o.computedPosition.x)||0,i=(o==null?void 0:o.computedPosition.y)||0;r=[[r[0][0]+s,r[0][1]+i],[r[1][0]+s,r[1][1]+i]]}else if(r!=null&&r.range&&Array.isArray(r.range)){const[s,i,a,c]=ja(r.padding),l=(o==null?void 0:o.computedPosition.x)||0,u=(o==null?void 0:o.computedPosition.y)||0;r=[[r.range[0][0]+l+c,r.range[0][1]+u+s],[r.range[1][0]+l-i,r.range[1][1]+u-a]]}return r}function ns(e,t,n,o,r){const s=Uu(e,n,o,r),i=Ta(t,s);return{position:{x:i.x-((r==null?void 0:r.computedPosition.x)||0),y:i.y-((r==null?void 0:r.computedPosition.y)||0)},computedPosition:i}}function Ya(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:s,nodesDraggable:i,emits:a}=ge();return(c,l=!1)=>{const u=s.value?r.value[0]:5,h=s.value?r.value[1]:5,d=l?4:1,p=c.x*u*d,g=c.y*h*d,v=e.value.filter(k=>k.draggable||i&&typeof k.draggable>"u").map(k=>{const y={x:k.computedPosition.x+p,y:k.computedPosition.y+g},{computedPosition:E}=ns(k,y,a.error,t.value,k.parentNode?o(k.parentNode):void 0);return{id:k.id,position:E,from:k.position,distance:{x:c.x,y:c.y},dimensions:k.dimensions}});n(v,!0,!1)}}function Gu(){return{doubleClick:W(),click:W(),mouseEnter:W(),mouseMove:W(),mouseLeave:W(),contextMenu:W(),dragStart:W(),drag:W(),dragStop:W()}}function ju(e,t){const n=Gu();return n.doubleClick.on(o=>{var r,s;t.nodeDoubleClick(o),(s=(r=e.events)==null?void 0:r.doubleClick)==null||s.call(r,o)}),n.click.on(o=>{var r,s;t.nodeClick(o),(s=(r=e.events)==null?void 0:r.click)==null||s.call(r,o)}),n.mouseEnter.on(o=>{var r,s;t.nodeMouseEnter(o),(s=(r=e.events)==null?void 0:r.mouseEnter)==null||s.call(r,o)}),n.mouseMove.on(o=>{var r,s;t.nodeMouseMove(o),(s=(r=e.events)==null?void 0:r.mouseMove)==null||s.call(r,o)}),n.mouseLeave.on(o=>{var r,s;t.nodeMouseLeave(o),(s=(r=e.events)==null?void 0:r.mouseLeave)==null||s.call(r,o)}),n.contextMenu.on(o=>{var r,s;t.nodeContextMenu(o),(s=(r=e.events)==null?void 0:r.contextMenu)==null||s.call(r,o)}),n.dragStart.on(o=>{var r,s;t.nodeDragStart(o),(s=(r=e.events)==null?void 0:r.dragStart)==null||s.call(r,o)}),n.drag.on(o=>{var r,s;t.nodeDrag(o),(s=(r=e.events)==null?void 0:r.drag)==null||s.call(r,o)}),n.dragStop.on(o=>{var r,s;t.nodeDragStop(o),(s=(r=e.events)==null?void 0:r.dragStop)==null||s.call(r,o)}),Object.entries(n).reduce((o,[r,s])=>(o.emit[r]=s.trigger,o.on[r]=s.on,o),{emit:{},on:{}})}function Yu(){const{viewport:e,snapGrid:t,snapToGrid:n}=ge();return({sourceEvent:o})=>{const r=o.touches?o.touches[0].clientX:o.clientX,s=o.touches?o.touches[0].clientY:o.clientY,i={x:(r-e.value.x)/e.value.zoom,y:(s-e.value.y)/e.value.zoom};return{xSnapped:n.value?t.value[0]*Math.round(i.x/t.value[0]):i.x,ySnapped:n.value?t.value[1]*Math.round(i.y/t.value[1]):i.y,...i}}}function js(e,t,n){const o=t.querySelectorAll(`.vue-flow__handle${e}`);if(!o||!o.length)return;const r=Array.from(o),s=t.getBoundingClientRect();return r.map(i=>{const a=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),position:i.getAttribute("data-handlepos"),x:(a.left-s.left)/n,y:(a.top-s.top)/n,...ko(i)}})}function $r(e,t,n,o,r,s=!1,i){r.value=!1,e.selected?(s||e.selected&&t)&&(o([e]),xt(i.blur)):n([e])}var Xu={value:()=>{}};function $o(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new jn(n)}function jn(e){this._=e}function Zu(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}jn.prototype=$o.prototype={constructor:jn,on:function(e,t){var n=this._,o=Zu(e+"",n),r,s=-1,i=o.length;if(arguments.length<2){for(;++s<i;)if((r=(e=o[s]).type)&&(r=Wu(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(r=(e=o[s]).type)n[r]=Ys(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Ys(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new jn(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,s;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,r=s.length;o<r;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)}};function Wu(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function Ys(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Xu,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Dr="http://www.w3.org/1999/xhtml";const Xs={svg:"http://www.w3.org/2000/svg",xhtml:Dr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Do(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Xs.hasOwnProperty(t)?{space:Xs[t],local:e}:e}function Ku(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Dr&&t.documentElement.namespaceURI===Dr?t.createElement(e):t.createElementNS(n,e)}}function Qu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Xa(e){var t=Do(e);return(t.local?Qu:Ku)(t)}function Ju(){}function os(e){return e==null?Ju:function(){return this.querySelector(e)}}function ed(e){typeof e!="function"&&(e=os(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=new Array(i),c,l,u=0;u<i;++u)(c=s[u])&&(l=e.call(c,c.__data__,u,s))&&("__data__"in c&&(l.__data__=c.__data__),a[u]=l);return new $e(o,this._parents)}function td(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function nd(){return[]}function Za(e){return e==null?nd:function(){return this.querySelectorAll(e)}}function od(e){return function(){return td(e.apply(this,arguments))}}function rd(e){typeof e=="function"?e=od(e):e=Za(e);for(var t=this._groups,n=t.length,o=[],r=[],s=0;s<n;++s)for(var i=t[s],a=i.length,c,l=0;l<a;++l)(c=i[l])&&(o.push(e.call(c,c.__data__,l,i)),r.push(c));return new $e(o,r)}function Wa(e){return function(){return this.matches(e)}}function Ka(e){return function(t){return t.matches(e)}}var sd=Array.prototype.find;function id(e){return function(){return sd.call(this.children,e)}}function ad(){return this.firstElementChild}function cd(e){return this.select(e==null?ad:id(typeof e=="function"?e:Ka(e)))}var ld=Array.prototype.filter;function ud(){return Array.from(this.children)}function dd(e){return function(){return ld.call(this.children,e)}}function hd(e){return this.selectAll(e==null?ud:dd(typeof e=="function"?e:Ka(e)))}function fd(e){typeof e!="function"&&(e=Wa(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],c,l=0;l<i;++l)(c=s[l])&&e.call(c,c.__data__,l,s)&&a.push(c);return new $e(o,this._parents)}function Qa(e){return new Array(e.length)}function pd(){return new $e(this._enter||this._groups.map(Qa),this._parents)}function so(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}so.prototype={constructor:so,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function gd(e){return function(){return e}}function md(e,t,n,o,r,s){for(var i=0,a,c=t.length,l=s.length;i<l;++i)(a=t[i])?(a.__data__=s[i],o[i]=a):n[i]=new so(e,s[i]);for(;i<c;++i)(a=t[i])&&(r[i]=a)}function vd(e,t,n,o,r,s,i){var a,c,l=new Map,u=t.length,h=s.length,d=new Array(u),p;for(a=0;a<u;++a)(c=t[a])&&(d[a]=p=i.call(c,c.__data__,a,t)+"",l.has(p)?r[a]=c:l.set(p,c));for(a=0;a<h;++a)p=i.call(e,s[a],a,s)+"",(c=l.get(p))?(o[a]=c,c.__data__=s[a],l.delete(p)):n[a]=new so(e,s[a]);for(a=0;a<u;++a)(c=t[a])&&l.get(d[a])===c&&(r[a]=c)}function yd(e){return e.__data__}function _d(e,t){if(!arguments.length)return Array.from(this,yd);var n=t?vd:md,o=this._parents,r=this._groups;typeof e!="function"&&(e=gd(e));for(var s=r.length,i=new Array(s),a=new Array(s),c=new Array(s),l=0;l<s;++l){var u=o[l],h=r[l],d=h.length,p=bd(e.call(u,u&&u.__data__,l,o)),g=p.length,v=a[l]=new Array(g),k=i[l]=new Array(g),y=c[l]=new Array(d);n(u,h,v,k,y,p,t);for(var E=0,M=0,_,D;E<g;++E)if(_=v[E]){for(E>=M&&(M=E+1);!(D=k[M])&&++M<g;);_._next=D||null}}return i=new $e(i,o),i._enter=a,i._exit=c,i}function bd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wd(){return new $e(this._exit||this._groups.map(Qa),this._parents)}function xd(e,t,n){var o=this.enter(),r=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),o&&r?o.merge(r).order():r}function kd(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,s=o.length,i=Math.min(r,s),a=new Array(r),c=0;c<i;++c)for(var l=n[c],u=o[c],h=l.length,d=a[c]=new Array(h),p,g=0;g<h;++g)(p=l[g]||u[g])&&(d[g]=p);for(;c<r;++c)a[c]=n[c];return new $e(a,this._parents)}function Ed(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,s=o[r],i;--r>=0;)(i=o[r])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function Cd(e){e||(e=Sd);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s){for(var i=n[s],a=i.length,c=r[s]=new Array(a),l,u=0;u<a;++u)(l=i[u])&&(c[u]=l);c.sort(t)}return new $e(r,this._parents).order()}function Sd(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ad(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $d(){return Array.from(this)}function Dd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length;r<s;++r){var i=o[r];if(i)return i}return null}function Nd(){let e=0;for(const t of this)++e;return e}function Md(){return!this.node()}function Td(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],s=0,i=r.length,a;s<i;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function qd(e){return function(){this.removeAttribute(e)}}function zd(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Id(e,t){return function(){this.setAttribute(e,t)}}function Pd(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Od(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Fd(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Bd(e,t){var n=Do(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?zd:qd:typeof t=="function"?n.local?Fd:Od:n.local?Pd:Id)(n,t))}function Ja(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Rd(e){return function(){this.style.removeProperty(e)}}function Ld(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Vd(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Hd(e,t,n){return arguments.length>1?this.each((t==null?Rd:typeof t=="function"?Vd:Ld)(e,t,n??"")):Vt(this.node(),e)}function Vt(e,t){return e.style.getPropertyValue(t)||Ja(e).getComputedStyle(e,null).getPropertyValue(t)}function Ud(e){return function(){delete this[e]}}function Gd(e,t){return function(){this[e]=t}}function jd(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Yd(e,t){return arguments.length>1?this.each((t==null?Ud:typeof t=="function"?jd:Gd)(e,t)):this.node()[e]}function ec(e){return e.trim().split(/^|\s+/)}function rs(e){return e.classList||new tc(e)}function tc(e){this._node=e,this._names=ec(e.getAttribute("class")||"")}tc.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function nc(e,t){for(var n=rs(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function oc(e,t){for(var n=rs(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function Xd(e){return function(){nc(this,e)}}function Zd(e){return function(){oc(this,e)}}function Wd(e,t){return function(){(t.apply(this,arguments)?nc:oc)(this,e)}}function Kd(e,t){var n=ec(e+"");if(arguments.length<2){for(var o=rs(this.node()),r=-1,s=n.length;++r<s;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Wd:t?Xd:Zd)(n,t))}function Qd(){this.textContent=""}function Jd(e){return function(){this.textContent=e}}function eh(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function th(e){return arguments.length?this.each(e==null?Qd:(typeof e=="function"?eh:Jd)(e)):this.node().textContent}function nh(){this.innerHTML=""}function oh(e){return function(){this.innerHTML=e}}function rh(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function sh(e){return arguments.length?this.each(e==null?nh:(typeof e=="function"?rh:oh)(e)):this.node().innerHTML}function ih(){this.nextSibling&&this.parentNode.appendChild(this)}function ah(){return this.each(ih)}function ch(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lh(){return this.each(ch)}function uh(e){var t=typeof e=="function"?e:Xa(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function dh(){return null}function hh(e,t){var n=typeof e=="function"?e:Xa(e),o=t==null?dh:typeof t=="function"?t:os(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function fh(){var e=this.parentNode;e&&e.removeChild(this)}function ph(){return this.each(fh)}function gh(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mh(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vh(e){return this.select(e?mh:gh)}function yh(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _h(e){return function(t){e.call(this,t,this.__data__)}}function bh(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function wh(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function xh(e,t,n){return function(){var o=this.__on,r,s=_h(t);if(o){for(var i=0,a=o.length;i<a;++i)if((r=o[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(r):this.__on=[r]}}function kh(e,t,n){var o=bh(e+""),r,s=o.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,u;c<l;++c)for(r=0,u=a[c];r<s;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}return}for(a=t?xh:wh,r=0;r<s;++r)this.each(a(o[r],t,n));return this}function rc(e,t,n){var o=Ja(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Eh(e,t){return function(){return rc(this,e,t)}}function Ch(e,t){return function(){return rc(this,e,t.apply(this,arguments))}}function Sh(e,t){return this.each((typeof t=="function"?Ch:Eh)(e,t))}function*Ah(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length,i;r<s;++r)(i=o[r])&&(yield i)}var sc=[null];function $e(e,t){this._groups=e,this._parents=t}function xn(){return new $e([[document.documentElement]],sc)}function $h(){return this}$e.prototype=xn.prototype={constructor:$e,select:ed,selectAll:rd,selectChild:cd,selectChildren:hd,filter:fd,data:_d,enter:pd,exit:wd,join:xd,merge:kd,selection:$h,order:Ed,sort:Cd,call:Ad,nodes:$d,node:Dd,size:Nd,empty:Md,each:Td,attr:Bd,style:Hd,property:Yd,classed:Kd,text:th,html:sh,raise:ah,lower:lh,append:uh,insert:hh,remove:ph,clone:vh,datum:yh,on:kh,dispatch:Sh,[Symbol.iterator]:Ah};function ze(e){return typeof e=="string"?new $e([[document.querySelector(e)]],[document.documentElement]):new $e([[e]],sc)}function Dh(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Re(e,t){if(e=Dh(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Nh={passive:!1},hn={capture:!0,passive:!1};function tr(e){e.stopImmediatePropagation()}function Pt(e){e.preventDefault(),e.stopImmediatePropagation()}function ic(e){var t=e.document.documentElement,n=ze(e).on("dragstart.drag",Pt,hn);"onselectstart"in t?n.on("selectstart.drag",Pt,hn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ac(e,t){var n=e.document.documentElement,o=ze(e).on("dragstart.drag",null);t&&(o.on("click.drag",Pt,hn),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Mn=e=>()=>e;function Nr(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:s,x:i,y:a,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}Nr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Mh(e){return!e.ctrlKey&&!e.button}function Th(){return this.parentNode}function qh(e,t){return t??{x:e.x,y:e.y}}function zh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ih(){var e=Mh,t=Th,n=qh,o=zh,r={},s=$o("start","drag","end"),i=0,a,c,l,u,h=0;function d(_){_.on("mousedown.drag",p).filter(o).on("touchstart.drag",k).on("touchmove.drag",y,Nh).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,D){if(!(u||!e.call(this,_,D))){var A=M(this,t.call(this,_,D),_,D,"mouse");A&&(ze(_.view).on("mousemove.drag",g,hn).on("mouseup.drag",v,hn),ic(_.view),tr(_),l=!1,a=_.clientX,c=_.clientY,A("start",_))}}function g(_){if(Pt(_),!l){var D=_.clientX-a,A=_.clientY-c;l=D*D+A*A>h}r.mouse("drag",_)}function v(_){ze(_.view).on("mousemove.drag mouseup.drag",null),ac(_.view,l),Pt(_),r.mouse("end",_)}function k(_,D){if(e.call(this,_,D)){var A=_.changedTouches,b=t.call(this,_,D),V=A.length,I,N;for(I=0;I<V;++I)(N=M(this,b,_,D,A[I].identifier,A[I]))&&(tr(_),N("start",_,A[I]))}}function y(_){var D=_.changedTouches,A=D.length,b,V;for(b=0;b<A;++b)(V=r[D[b].identifier])&&(Pt(_),V("drag",_,D[b]))}function E(_){var D=_.changedTouches,A=D.length,b,V;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),b=0;b<A;++b)(V=r[D[b].identifier])&&(tr(_),V("end",_,D[b]))}function M(_,D,A,b,V,I){var N=s.copy(),R=Re(I||A,D),ee,K,f;if((f=n.call(_,new Nr("beforestart",{sourceEvent:A,target:d,identifier:V,active:i,x:R[0],y:R[1],dx:0,dy:0,dispatch:N}),b))!=null)return ee=f.x-R[0]||0,K=f.y-R[1]||0,function $(m,C,T){var z=R,q;switch(m){case"start":r[V]=$,q=i++;break;case"end":delete r[V],--i;case"drag":R=Re(T||C,D),q=i;break}N.call(m,_,new Nr(m,{sourceEvent:C,subject:f,target:d,identifier:V,active:q,x:R[0]+ee,y:R[1]+K,dx:R[0]-z[0],dy:R[1]-z[1],dispatch:N}),b)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Mn(!!_),d):e},d.container=function(_){return arguments.length?(t=typeof _=="function"?_:Mn(_),d):t},d.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Mn(_),d):n},d.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Mn(!!_),d):o},d.on=function(){var _=s.on.apply(s,arguments);return _===s?d:_},d.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,d):Math.sqrt(h)},d}function cc(e){const t=ge(),n=P(t,"vueFlowRef"),o=P(t,"snapToGrid"),r=P(t,"snapGrid"),s=P(t,"noDragClassName"),i=P(t,"nodes"),a=P(t,"nodeExtent"),c=P(t,"viewport"),l=P(t,"autoPanOnNodeDrag"),u=P(t,"nodesDraggable"),h=P(t,"panBy"),d=P(t,"findNode"),p=P(t,"multiSelectionActive"),g=P(t,"nodesSelectionActive"),v=P(t,"selectNodesOnDrag"),k=P(t,"removeSelectedElements"),y=P(t,"addSelectedNodes"),E=P(t,"updateNodePositions"),M=P(t,"emits"),{onStart:_,onDrag:D,onStop:A,el:b,disabled:V,id:I,selectable:N}=e,R=se(!1);let ee=se([]),K=se(),f=se(null),$=se({x:void 0,y:void 0}),m=se({x:0,y:0}),C=se(null),T=se(0),z=se(!1),q=se({x:0,y:0});const H=Yu(),O=({x:G,y:Z})=>{$.value={x:G,y:Z};let B=!1;if(ee.value=ee.value.map(w=>{const S={x:G-w.distance.x,y:Z-w.distance.y};o.value&&(S.x=r.value[0]*Math.round(S.x/r.value[0]),S.y=r.value[1]*Math.round(S.y/r.value[1]));const{computedPosition:L}=ns(w,S,M.value.error,a.value,w.parentNode?d.value(w.parentNode):void 0);return B=B||w.position.x!==L.x||w.position.y!==L.y,w.position=L,w}),!!B&&(E.value(ee.value,!0,!0),R.value=!0,C.value)){const[w,S]=er({id:I,dragItems:ee.value,findNode:d.value});D({event:C.value,node:w,nodes:S})}},Q=()=>{if(!f.value)return;const[G,Z]=Ua(m.value,f.value);if(G!==0||Z!==0){const B={x:($.value.x??0)-G/c.value.zoom,y:($.value.y??0)-Z/c.value.zoom};h.value({x:G,y:Z},w=>{(Math.round(w.x)!==Math.round(q.value.x)||Math.round(w.y)!==Math.round(q.value.y))&&(O(B),q.value=w,$.value=B)})}T.value=requestAnimationFrame(Q)};return me([()=>ae(V),b],([G,Z])=>{if(Z){const B=ze(Z);if(G)B.on(".drag",null);else{const w=d.value(I);K.value=Ih().on("start",S=>{var L;!v.value&&!p.value&&w&&(w.selected||k.value()),w&&ae(N)&&v.value&&$r(w,p.value,y.value,k.value,g,!1,Z);const U=H(S);if($.value=U,ee.value=Vu(i.value,u.value,U,d.value,I),ee.value.length){const[Y,X]=er({id:I,dragItems:ee.value,findNode:d.value});_({event:S.sourceEvent,node:Y,nodes:X})}f.value=((L=n.value)==null?void 0:L.getBoundingClientRect())||null,m.value=It(S.sourceEvent,f.value)}).on("drag",S=>{const L=H(S);!z.value&&l.value&&(z.value=!0,Q()),($.value.x!==L.xSnapped||$.value.y!==L.ySnapped)&&ee.value.length&&(C.value=S.sourceEvent,m.value=It(S.sourceEvent,f.value),O(L))}).on("end",S=>{if(R.value=!1,z.value=!1,cancelAnimationFrame(T.value),ee.value.length){E.value(ee.value,!1,!1);const[L,U]=er({id:I,dragItems:ee.value,findNode:d.value});A({event:S.sourceEvent,node:L,nodes:U})}}).filter(S=>{const L=S.target;return!S.button&&(!s.value||!Gs(L,`.${s.value}`,Z)&&(!(w!=null&&w.dragHandle)||Gs(L,w.dragHandle,Z)))}),B.call(K.value)}}}),R}const lc="vue-flow__node-desc",uc="vue-flow__edge-desc",Ph="vue-flow__aria-live",dc=["Enter"," ","Escape"],Ot={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Mr(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=ot(o.hasAttribute)?o.hasAttribute("contenteditable"):!1,s=ot(o.closest)?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||r||!!s}function Oh(e){return e.ctrlKey||e.metaKey||e.shiftKey}function Fh(e,t){return n=>e.some(o=>{const r=o.split("+").map(s=>s.trim().toLowerCase());return r.length===1?n.key===o:(t.add(n.key.toLowerCase()),r.every(s=>t.has(s)))})}const ln=(e,t)=>{const n=Qr(),o=se(ae(e)===!0),r=se(!1),s=se(new Set);return me(o,()=>{t==null||t(o.value)}),eo(()=>{let i=ae(e);if(n&&typeof n.addEventListener<"u"&&Kr(n,"blur",()=>{o.value=!1}),Ll(i)){o.value=i;return}Array.isArray(i)&&(i=Fh(i,s.value)),i&&($s(i,a=>{r.value=Oh(a),!(!r.value&&Mr(a))&&(a.preventDefault(),o.value=!0)},{eventName:"keydown"}),$s(i,a=>{if(o.value){if(!r.value&&Mr(a))return;r.value=!1,s.value.clear(),o.value=!1}},{eventName:"keyup"}))}),o},Bh=de({name:"Node",compatConfig:{MODE:3},props:["name","type","id","draggable","selectable","focusable","connectable","node","resizeObserver"],setup(e){Ct(La,e.id);const t=ge(),n=P(t,"id"),o=P(t,"edges"),r=P(t,"noPanClassName"),s=P(t,"selectNodesOnDrag"),i=P(t,"nodesSelectionActive"),a=P(t,"multiSelectionActive"),c=P(t,"emits"),l=P(t,"findNode"),u=P(t,"removeSelectedNodes"),h=P(t,"addSelectedNodes"),d=P(t,"updateNodeDimensions"),p=P(t,"onUpdateNodeInternals"),g=P(t,"getIntersectingNodes"),v=P(t,"getNodeTypes"),k=P(t,"nodeExtent"),y=P(t,"elevateNodesOnSelect"),E=P(t,"disableKeyboardA11y"),M=P(t,"ariaLiveMessage"),_=P(t,"snapToGrid"),D=P(t,"snapGrid"),A=Ya(),b=cn(e,"node"),V=te(()=>l.value(b.value.parentNode)),I=te(()=>Qe([b.value],o.value)),N=se();Ct(Va,N);const{emit:R,on:ee}=ju(b.value,c.value),K=cc({id:e.id,el:N,disabled:()=>!e.draggable,selectable:()=>e.selectable,onStart(B){R.dragStart({...B,intersections:g.value(b.value)})},onDrag(B){R.drag({...B,intersections:g.value(b.value)})},onStop(B){R.dragStop({...B,intersections:g.value(b.value)})}}),f=te(()=>b.value.class instanceof Function?b.value.class(b.value):b.value.class),$=te(()=>{const B=(b.value.style instanceof Function?b.value.style(b.value):b.value.style)||{},w=b.value.width instanceof Function?b.value.width(b.value):b.value.width,S=b.value.height instanceof Function?b.value.height(b.value):b.value.height;return w&&(B.width=typeof w=="string"?w:`${w}px`),S&&(B.height=typeof S=="string"?S:`${S}px`),B}),m=()=>Number(b.value.zIndex??$.value.zIndex??0);return p.value(B=>{B.includes(e.id)&&T()}),ut(()=>{e.resizeObserver.observe(N.value)}),_a(()=>{e.resizeObserver.unobserve(N.value)}),me([()=>b.value.type,()=>b.value.sourcePosition,()=>b.value.targetPosition],()=>{d.value([{id:e.id,nodeElement:N.value,forceUpdate:!0}])},{flush:"pre"}),me([()=>b.value.position.x,()=>b.value.position.y,()=>{var B;return(B=V.value)==null?void 0:B.computedPosition.x},()=>{var B;return(B=V.value)==null?void 0:B.computedPosition.y},()=>{var B;return(B=V.value)==null?void 0:B.computedPosition.z},()=>m(),()=>b.value.selected,()=>b.value.dimensions.height,()=>b.value.dimensions.width,()=>{var B;return(B=V.value)==null?void 0:B.dimensions.height},()=>{var B;return(B=V.value)==null?void 0:B.dimensions.width}],([B,w,S,L,U,Y])=>{const X={x:B,y:w,z:Y+(y.value&&b.value.selected?1e3:0)};Je(S)&&Je(L)?b.value.computedPosition=Eu({x:S,y:L,z:U},X):b.value.computedPosition=X},{flush:"pre",immediate:!0}),me([()=>b.value.extent,()=>k.value],([B,w],[S,L])=>{(B!==S||w!==L)&&C()}),b.value.extent==="parent"||typeof b.value.extent=="object"&&"range"in b.value.extent&&b.value.extent.range==="parent"?Ae(()=>b.value.initialized).toBe(!0).then(C):C(),()=>ue("div",{ref:N,"data-id":b.value.id,class:["vue-flow__node",`vue-flow__node-${e.type===!1?"default":e.name}`,{[r.value]:e.draggable,dragging:K==null?void 0:K.value,selected:b.value.selected,selectable:e.selectable},f.value],style:{zIndex:b.value.computedPosition.z??m(),transform:`translate(${b.value.computedPosition.x}px,${b.value.computedPosition.y}px)`,pointerEvents:e.selectable||e.draggable?"all":"none",visibility:b.value.initialized?"visible":"hidden",...$.value},tabIndex:e.focusable?0:void 0,role:e.focusable?"button":void 0,"aria-describedby":E.value?void 0:`${lc}-${n.value}`,"aria-label":b.value.ariaLabel,onMouseenter:z,onMousemove:q,onMouseleave:H,onContextmenu:O,onClick:G,onDblclick:Q,onKeydown:Z},[ue(e.type===!1?v.value.default:e.type,{id:b.value.id,type:b.value.type,data:b.value.data,events:{...b.value.events,...ee},selected:!!b.value.selected,resizing:!!b.value.resizing,dragging:K.value,connectable:e.connectable,position:b.value.position,dimensions:b.value.dimensions,isValidTargetPos:b.value.isValidTargetPos,isValidSourcePos:b.value.isValidSourcePos,parent:b.value.parentNode,zIndex:b.value.computedPosition.z,targetPosition:b.value.targetPosition,sourcePosition:b.value.sourcePosition,label:b.value.label,dragHandle:b.value.dragHandle,onUpdateNodeInternals:T})]);function C(){const B=b.value.computedPosition;_.value&&(B.x=D.value[0]*Math.round(B.x/D.value[0]),B.y=D.value[1]*Math.round(B.y/D.value[1]));const{computedPosition:w,position:S}=ns(b.value,B,c.value.error,k.value,V.value);(b.value.computedPosition.x!==w.x||b.value.computedPosition.y!==w.y)&&(b.value.computedPosition={...b.value.computedPosition,...w}),(b.value.position.x!==S.x||b.value.position.y!==S.y)&&(b.value.position=S)}function T(){N.value&&d.value([{id:e.id,nodeElement:N.value,forceUpdate:!0}])}function z(B){K!=null&&K.value||R.mouseEnter({event:B,node:b.value,connectedEdges:I.value})}function q(B){K!=null&&K.value||R.mouseMove({event:B,node:b.value,connectedEdges:I.value})}function H(B){K!=null&&K.value||R.mouseLeave({event:B,node:b.value,connectedEdges:I.value})}function O(B){return R.contextMenu({event:B,node:b.value,connectedEdges:I.value})}function Q(B){return R.doubleClick({event:B,node:b.value,connectedEdges:I.value})}function G(B){e.selectable&&(!s.value||!e.draggable)&&$r(b.value,a.value,h.value,u.value,i,!1,N.value),R.click({event:B,node:b.value,connectedEdges:I.value})}function Z(B){var w;if(!Mr(B))if(dc.includes(B.key)&&e.selectable){const S=B.key==="Escape";S&&((w=N.value)==null||w.blur()),$r(b.value,a.value,h.value,u.value,i,S,N.value)}else!E.value&&e.draggable&&b.value.selected&&Ot[B.key]&&(M.value=`Moved selected node ${B.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~b.value.position.x}, y: ${~~b.value.position.y}`,A({x:Ot[B.key].x,y:Ot[B.key].y},B.shiftKey))}}}),Rh=Bh,Lh=["transform"],Vh=["width","height","x","y","rx","ry"],Hh=["y"],Uh={name:"EdgeText",compatConfig:{MODE:3}},Gh=de({...Uh,props:{x:null,y:null,label:null,labelStyle:{default:{}},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:{}},labelBgPadding:{default:[2,4]},labelBgBorderRadius:{default:2}},setup(e){let t=se({x:0,y:0,width:0,height:0});const n=se(null),o=te(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);ut(r),me([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;const s=n.value.getBBox();(s.width!==t.value.width||s.height!==t.value.height)&&(t.value=s)}return(s,i)=>(j(),J("g",{transform:x(o),class:"vue-flow__edge-textwrapper"},[e.labelShowBg?(j(),J("rect",{key:0,class:"vue-flow__edge-textbg",width:`${x(t).width+2*e.labelBgPadding[0]}px`,height:`${x(t).height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:Te(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,Vh)):pe("",!0),ie("text",xa(s.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:x(t).height/2,dy:"0.3em",style:e.labelStyle}),[he(s.$slots,"default",{},()=>[x(et)(e.label)?(j(),J(ye,{key:1},[Ve(we(e.label),1)],64)):(j(),ve(gt(e.label),{key:0}))])],16,Hh)],8,Lh))}}),No=function({path:e,label:t,labelX:n,labelY:o,labelBgBorderRadius:r,labelBgPadding:s,labelBgStyle:i,labelShowBg:a=!0,labelStyle:c,markerStart:l,markerEnd:u,interactionWidth:h=20},{attrs:d}){return[ue("path",{style:d.style,class:["vue-flow__edge-path",d.class].join(" "),d:e,"marker-end":u,"marker-start":l}),h?ue("path",{d:e,fill:"none","stroke-opacity":0,"stroke-width":h}):null,t&&Je(n)&&Je(o)?ue(Gh,{x:n,y:o,label:t,labelStyle:c,labelShowBg:a,labelBgStyle:i,labelBgPadding:s,labelBgBorderRadius:r}):null]};No.props=["path","labelX","labelY","label","labelBgBorderRadius","labelBgPadding","labelBgStyle","labelShowBg","labelStyle","markerStart","markerEnd","interactionWidth"];No.inheritAttrs=!1;No.compatConfig={MODE:3};const kn=No;function hc({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,s=n<e?n+r:n-r,i=Math.abs(o-t)/2,a=o<t?o+i:o-i;return[s,a,r,i]}function fc({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:s,targetControlX:i,targetControlY:a}){const c=e*.125+r*.375+i*.375+n*.125,l=t*.125+s*.375+a*.375+o*.125,u=Math.abs(c-e),h=Math.abs(l-t);return[c,l,u,h]}function Tn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Zs({pos:e,x1:t,y1:n,x2:o,y2:r,c:s}){let i,a;switch(e){case oe.Left:i=t-Tn(t-o,s),a=n;break;case oe.Right:i=t+Tn(o-t,s),a=n;break;case oe.Top:i=t,a=n-Tn(n-r,s);break;case oe.Bottom:i=t,a=n+Tn(r-n,s);break}return[i,a]}function Tr({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:o,targetY:r,targetPosition:s=oe.Top,curvature:i=.25}){const[a,c]=Zs({pos:n,x1:e,y1:t,x2:o,y2:r,c:i}),[l,u]=Zs({pos:s,x1:o,y1:r,x2:e,y2:t,c:i}),[h,d,p,g]=fc({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:a,sourceControlY:c,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${c} ${l},${u} ${o},${r}`,h,d,p,g]}const Mo=function({sourcePosition:e=oe.Bottom,targetPosition:t=oe.Top,...n},{attrs:o}){const[r,s,i]=Tr({sourcePosition:e,targetPosition:t,...n});return ue(kn,{path:r,labelX:s,labelY:i,...n,...o})};Mo.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"];Mo.inheritAttrs=!1;Mo.compatConfig={MODE:3};const jh=Mo;function Ws({pos:e,x1:t,y1:n,x2:o,y2:r}){let s,i;switch(e){case oe.Left:case oe.Right:s=.5*(t+o),i=n;break;case oe.Top:case oe.Bottom:s=t,i=.5*(n+r);break}return[s,i]}function pc({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:o,targetY:r,targetPosition:s=oe.Top}){const[i,a]=Ws({pos:n,x1:e,y1:t,x2:o,y2:r}),[c,l]=Ws({pos:s,x1:o,y1:r,x2:e,y2:t}),[u,h,d,p]=fc({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:c,targetControlY:l});return[`M${e},${t} C${i},${a} ${c},${l} ${o},${r}`,u,h,d,p]}const To=function({sourcePosition:e=oe.Bottom,targetPosition:t=oe.Top,...n},{attrs:o}){const[r,s,i]=pc({sourcePosition:e,targetPosition:t,...n});return ue(kn,{path:r,labelX:s,labelY:i,...n,...o})};To.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"];To.inheritAttrs=!1;To.compatConfig={MODE:3};const Yh=To,Ks={[oe.Left]:{x:-1,y:0},[oe.Right]:{x:1,y:0},[oe.Top]:{x:0,y:-1},[oe.Bottom]:{x:0,y:1}};function Xh({source:e,sourcePosition:t=oe.Bottom,target:n}){return t===oe.Left||t===oe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Qs(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Zh({source:e,sourcePosition:t=oe.Bottom,target:n,targetPosition:o=oe.Top,center:r,offset:s}){const i=Ks[t],a=Ks[o],c={x:e.x+i.x*s,y:e.y+i.y*s},l={x:n.x+a.x*s,y:n.y+a.y*s},u=Xh({source:c,sourcePosition:t,target:l}),h=u.x!==0?"x":"y",d=u[h];let p,g,v;const[k,y,E,M]=hc({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[h]*a[h]===-1){g=r.x||k,v=r.y||y;const _=[{x:g,y:c.y},{x:g,y:l.y}],D=[{x:c.x,y:v},{x:l.x,y:v}];i[h]===d?p=h==="x"?_:D:p=h==="x"?D:_}else{const _=[{x:c.x,y:l.y}],D=[{x:l.x,y:c.y}];if(h==="x"?p=i.x===d?D:_:p=i.y===d?_:D,t!==o){const A=h==="x"?"y":"x",b=i[h]===a[A],V=c[A]>l[A],I=c[A]<l[A];(i[h]===1&&(!b&&V||b&&I)||i[h]!==1&&(!b&&I||b&&V))&&(p=h==="x"?_:D)}g=p[0].x,v=p[0].y}return[[e,c,...p,l,n],g,v,E,M]}function Wh(e,t,n,o){const r=Math.min(Qs(e,t)/2,Qs(t,n)/2,o),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const l=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${s+r*l},${i}Q ${s},${i} ${s},${i+r*u}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${s},${i+r*c}Q ${s},${i} ${s+r*a},${i}`}function io({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:o,targetY:r,targetPosition:s=oe.Top,borderRadius:i=5,centerX:a,centerY:c,offset:l=20}){const[u,h,d,p,g]=Zh({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:r},targetPosition:s,center:{x:a,y:c},offset:l});return[u.reduce((v,k,y)=>{let E;return y>0&&y<u.length-1?E=Wh(u[y-1],k,u[y+1],i):E=`${y===0?"M":"L"}${k.x} ${k.y}`,v+=E,v},""),h,d,p,g]}const qo=function({sourcePosition:e=oe.Bottom,targetPosition:t=oe.Top,...n},{attrs:o}){const[r,s,i]=io({sourcePosition:e,targetPosition:t,...n});return ue(kn,{path:r,labelX:s,labelY:i,...n,...o})};qo.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"];qo.inheritAttrs=!1;qo.compatConfig={MODE:3};const gc=qo,zo=function(e,{attrs:t}){return ue(gc,{...e,...t,borderRadius:0})};zo.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"];zo.inheritAttrs=!1;zo.compatConfig={MODE:3};const Kh=zo;function mc({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[r,s,i,a]=hc({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,r,s,i,a]}const Io=function(e,{attrs:t}){const[n,o,r]=mc(e);return ue(kn,{path:n,labelX:o,labelY:r,...e,...t})};Io.props=["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"];Io.inheritAttrs=!1;Io.compatConfig={MODE:3};const Qh=Io;function Jh(e,t,n){return n===oe.Left?e-t:n===oe.Right?e+t:e}function ef(e,t,n){return n===oe.Top?e-t:n===oe.Bottom?e+t:e}const ss=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=oe.Top,type:r}){return ue("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:Jh(t,e,o),cy:ef(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};ss.props=["radius","centerX","centerY","position","type"];ss.compatConfig={MODE:3};const Js=ss;function tf(){return{doubleClick:W(),click:W(),mouseEnter:W(),mouseMove:W(),mouseLeave:W(),contextMenu:W(),updateStart:W(),update:W(),updateEnd:W()}}function nf(e,t){const n=tf();return n.doubleClick.on(o=>{var r,s;t.edgeDoubleClick(o),(s=(r=e.events)==null?void 0:r.doubleClick)==null||s.call(r,o)}),n.click.on(o=>{var r,s;t.edgeClick(o),(s=(r=e.events)==null?void 0:r.click)==null||s.call(r,o)}),n.mouseEnter.on(o=>{var r,s;t.edgeMouseEnter(o),(s=(r=e.events)==null?void 0:r.mouseEnter)==null||s.call(r,o)}),n.mouseMove.on(o=>{var r,s;t.edgeMouseMove(o),(s=(r=e.events)==null?void 0:r.mouseMove)==null||s.call(r,o)}),n.mouseLeave.on(o=>{var r,s;t.edgeMouseLeave(o),(s=(r=e.events)==null?void 0:r.mouseLeave)==null||s.call(r,o)}),n.contextMenu.on(o=>{var r,s;t.edgeContextMenu(o),(s=(r=e.events)==null?void 0:r.contextMenu)==null||s.call(r,o)}),n.updateStart.on(o=>{var r,s;t.edgeUpdateStart(o),(s=(r=e.events)==null?void 0:r.updateStart)==null||s.call(r,o)}),n.update.on(o=>{var r,s;t.edgeUpdate(o),(s=(r=e.events)==null?void 0:r.update)==null||s.call(r,o)}),n.updateEnd.on(o=>{var r,s;t.edgeUpdateEnd(o),(s=(r=e.events)==null?void 0:r.updateEnd)==null||s.call(r,o)}),Object.entries(n).reduce((o,[r,s])=>(o.emit[r]=s.trigger,o.on[r]=s.on,o),{emit:{},on:{}})}const of=de({name:"Edge",compatConfig:{MODE:3},props:["name","type","id","updatable","selectable","focusable","edge"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:s,nodesSelectionActive:i,noPanClassName:a,getEdgeTypes:c,removeSelectedEdges:l,findEdge:u,findNode:h,isValidConnection:d}=ge(),p=nf(e.edge,s),g=cn(e,"edge");let v=se(!1),k=se(!1);const y=se(""),E=se(null),M=se("source"),_=se();Ct(Au,e.id),Ct($u,_);const D=te(()=>g.value.class instanceof Function?g.value.class(g.value):g.value.class),A=te(()=>g.value.style instanceof Function?g.value.style(g.value):g.value.style),{handlePointerDown:b}=Ga({nodeId:y,handleId:E,type:M,isValidConnection:d.value,edgeUpdaterType:M,onEdgeUpdate:N,onEdgeUpdateEnd:R});return()=>{const O=h(g.value.source),Q=h(g.value.target);if(!O||!Q||!g.value)return null;let G;o.value===dt.Strict?G=O.handleBounds.source:G=[...O.handleBounds.source||[],...O.handleBounds.target||[]];const Z=Ls(G,g.value.sourceHandle);let B;o.value===dt.Strict?B=Q.handleBounds.target:B=[...Q.handleBounds.target||[],...Q.handleBounds.source||[]];const w=Ls(B,g.value.targetHandle),S=Z?Z.position:oe.Bottom,L=w?w.position:oe.Top,{sourceX:U,sourceY:Y,targetY:X,targetX:F}=Nu(O,Z,S,Q,w,L);return g.value.sourceX=U,g.value.sourceY=Y,g.value.targetX=F,g.value.targetY=X,ue("g",{ref:_,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${e.type===!1?"default":e.name}`,a.value,D.value,{updating:v.value,selected:g.value.selected,animated:g.value.animated,inactive:!e.selectable}],onClick:K,onContextmenu:f,onDblclick:$,onMouseenter:m,onMousemove:C,onMouseleave:T,onKeyDown:e.focusable?H:void 0,tabIndex:e.focusable?0:void 0,"aria-label":g.value.ariaLabel===null?void 0:g.value.ariaLabel||`Edge from ${g.value.source} to ${g.value.target}`,"aria-describedby":e.focusable?`${uc}-${t}`:void 0,role:e.focusable?"button":void 0},[k.value?null:ue(e.type===!1?c.value.default:e.type,{id:e.id,sourceNode:O,targetNode:Q,source:g.value.source,target:g.value.target,type:g.value.type,updatable:e.updatable,selected:g.value.selected,animated:g.value.animated,label:g.value.label,labelStyle:g.value.labelStyle,labelShowBg:g.value.labelShowBg,labelBgStyle:g.value.labelBgStyle,labelBgPadding:g.value.labelBgPadding,labelBgBorderRadius:g.value.labelBgBorderRadius,data:g.value.data,events:{...g.value.events,...p.on},style:A.value,markerStart:`url(#${yt(g.value.markerStart,t)})`,markerEnd:`url(#${yt(g.value.markerEnd,t)})`,sourcePosition:S,targetPosition:L,sourceX:U,sourceY:Y,targetX:F,targetY:X,sourceHandleId:g.value.sourceHandle,targetHandleId:g.value.targetHandle,interactionWidth:g.value.interactionWidth}),[e.updatable==="source"||e.updatable===!0?[ue("g",{onMousedown:z,onMouseenter:V,onMouseout:I},ue(Js,{position:S,centerX:U,centerY:Y,radius:r.value,type:"source","data-type":"source"}))]:null,e.updatable==="target"||e.updatable===!0?[ue("g",{onMousedown:q,onMouseenter:V,onMouseout:I},ue(Js,{position:L,centerX:F,centerY:X,radius:r.value,type:"target","data-type":"target"}))]:null]])};function V(){v.value=!0}function I(){v.value=!1}function N(O,Q){p.emit.update({event:O,edge:g.value,connection:Q})}function R(O){p.emit.updateEnd({event:O,edge:g.value}),k.value=!1}function ee(O,Q){O.button===0&&(k.value=!0,y.value=Q?g.value.target:g.value.source,E.value=(Q?g.value.targetHandle:g.value.sourceHandle)??"",M.value=Q?"target":"source",p.emit.updateStart({event:O,edge:g.value}),b(O))}function K(O){const Q={event:O,edge:g.value};e.selectable&&(i.value=!1,n([g.value])),p.emit.click(Q)}function f(O){p.emit.contextMenu({event:O,edge:g.value})}function $(O){p.emit.doubleClick({event:O,edge:g.value})}function m(O){p.emit.mouseEnter({event:O,edge:g.value})}function C(O){p.emit.mouseMove({event:O,edge:g.value})}function T(O){p.emit.mouseLeave({event:O,edge:g.value})}function z(O){ee(O,!0)}function q(O){ee(O,!1)}function H(O){var Q;dc.includes(O.key)&&e.selectable&&(O.key==="Escape"?((Q=_.value)==null||Q.blur(),l([u(e.id)])):n([u(e.id)]))}}}),rf=of,sf={class:"vue-flow__connection"},af=["d","marker-end","marker-start"],cf={name:"ConnectionLine",compatConfig:{MODE:3}},lf=de({...cf,props:{sourceNode:null},setup(e){var t;const n=ge(),o=P(n,"connectionMode"),r=P(n,"connectionStartHandle"),s=P(n,"connectionEndHandle"),i=P(n,"connectionPosition"),a=P(n,"connectionLineType"),c=P(n,"connectionLineStyle"),l=P(n,"connectionLineOptions"),u=P(n,"connectionStatus"),h=P(n,"viewport"),d=P(n,"findNode"),p={[oe.Left]:oe.Right,[oe.Right]:oe.Left,[oe.Top]:oe.Bottom,[oe.Bottom]:oe.Top},g=(t=St(Eo))==null?void 0:t["connection-line"],v=te(()=>r.value.handleId),k=te(()=>r.value.type),y=te(()=>{var N;return((N=s.value)==null?void 0:N.handleId)&&d.value(s.value.nodeId)||null}),E=te(()=>{var N,R;return(o.value===dt.Strict?(N=e.sourceNode.handleBounds[k.value])==null?void 0:N.find(ee=>ee.id===v.value):[...e.sourceNode.handleBounds.source||[],...e.sourceNode.handleBounds.target||[]].find(ee=>ee.id===v.value))||((R=e.sourceNode.handleBounds[k.value??"source"])==null?void 0:R[0])}),M=te(()=>{var N,R,ee;return y.value&&((N=s.value)==null?void 0:N.handleId)&&((o.value===dt.Strict?(R=y.value.handleBounds[k.value==="source"?"target":"source"])==null?void 0:R.find(K=>{var f;return K.id===((f=s.value)==null?void 0:f.handleId)}):[...y.value.handleBounds.source||[],...y.value.handleBounds.target||[]].find(K=>{var f;return K.id===((f=s.value)==null?void 0:f.handleId)}))||((ee=y.value.handleBounds[k.value??"target"])==null?void 0:ee[0]))||null}),_=te(()=>{var N;return(N=E.value)==null?void 0:N.position}),D=te(()=>E.value?ro(_.value||oe.Top,{...e.sourceNode.dimensions,...e.sourceNode.computedPosition},E.value):{x:e.sourceNode.dimensions.width/2,y:e.sourceNode.dimensions.height/2}),A=te(()=>_.value?p[_.value]:void 0),b=te(()=>(i.value.x-h.value.x)/h.value.zoom),V=te(()=>(i.value.y-h.value.y)/h.value.zoom),I=te(()=>{let N;const R={sourceX:D.value.x,sourceY:D.value.y,sourcePosition:_.value,targetX:b.value,targetY:V.value,targetPosition:A.value};switch(a.value??l.value.type){case mt.Bezier:[N]=Tr(R);break;case mt.Step:[N]=io({...R,borderRadius:0});break;case mt.SmoothStep:[N]=io(R);break;case mt.SimpleBezier:[N]=pc(R);break;case mt.Straight:[N]=mc(R);break;default:[N]=Tr(R);break}return N});return(N,R)=>{var ee;return j(),J("g",sf,[x(g)?(j(),ve(gt(x(g)),ka(xa({key:0},{sourceX:x(D).x,sourceY:x(D).y,sourcePosition:(ee=x(E))==null?void 0:ee.position,targetX:x(b),targetY:x(V),targetPosition:x(A),sourceNode:e.sourceNode,sourceHandle:x(E),targetNode:x(y),targetHandle:x(M),markerEnd:`url(#${x(yt)(x(l).markerEnd)})`,markerStart:`url(#${x(yt)(x(l).markerStart)})`,connectionStatus:x(u)})),null,16)):(j(),J("path",{key:1,d:x(I),class:be(["vue-flow__connection-path",[x(l).class,x(u)]]),style:Te(x(c)||x(l).style||{}),"marker-end":`url(#${x(yt)(x(l).markerEnd)})`,"marker-start":`url(#${x(yt)(x(l).markerStart)})`},null,14,af))])}}}),uf=["tabIndex"],df={name:"NodesSelection",compatConfig:{MODE:3}},hf=de({...df,setup(e){const t=ge(),n=P(t,"emits"),o=P(t,"viewport"),r=P(t,"getSelectedNodes"),s=P(t,"noPanClassName"),i=P(t,"disableKeyboardA11y"),a=P(t,"userSelectionActive"),c=Ya(),l=se(),u=cc({el:l,onStart(v){n.value.selectionDragStart(v)},onDrag(v){n.value.selectionDrag(v)},onStop(v){n.value.selectionDragStop(v)}});ut(()=>{var v;i.value||(v=l.value)==null||v.focus({preventScroll:!0})});const h=te(()=>Jr(r.value)),d=te(()=>({width:`${h.value.width}px`,height:`${h.value.height}px`,top:`${h.value.y}px`,left:`${h.value.x}px`}));function p(v){n.value.selectionContextMenu({event:v,nodes:r.value})}function g(v){i.value||Ot[v.key]&&c({x:Ot[v.key].x,y:Ot[v.key].y},v.shiftKey)}return(v,k)=>!x(a)&&x(h).width&&x(h).height?(j(),J("div",{key:0,class:be(["vue-flow__nodesselection vue-flow__container",x(s)]),style:Te({transform:`translate(${x(o).x}px,${x(o).y}px) scale(${x(o).zoom})`})},[ie("div",{ref_key:"el",ref:l,class:be([{dragging:x(u)},"vue-flow__nodesselection-rect"]),style:Te(x(d)),tabIndex:x(i)?void 0:-1,onContextmenu:p,onKeydown:g},null,46,uf)],6)):pe("",!0)}}),ff={name:"UserSelection",compatConfig:{MODE:3}},pf=de({...ff,setup(e){const{userSelectionRect:t}=ge();return(n,o)=>{var r,s,i,a;return j(),J("div",{class:"vue-flow__selection vue-flow__container",style:Te({width:`${(r=x(t))==null?void 0:r.width}px`,height:`${(s=x(t))==null?void 0:s.height}px`,transform:`translate(${(i=x(t))==null?void 0:i.x}px, ${(a=x(t))==null?void 0:a.y}px)`})},null,4)}}}),gf={input:Ru,default:Bu,output:Lu},mf={default:jh,straight:Qh,step:Kh,smoothstep:gc,simplebezier:Yh};function vf(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:es.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:oo.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:mt.Bezier,style:{}},connectionMode:dt.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:NaN,y:NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:"Meta",zoomActivationKeyCode:"Meta",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:mu(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,disableKeyboardA11y:!1,ariaLiveMessage:"",__experimentalFeatures:{nestedFlow:!1},vueFlowVersion:"1.19.0"}}function vc(e){const t=vf();return e&&Object.keys(e).forEach(n=>{const o=e[n];_e(o)&&(t[n]=o)}),t}function yf(e,t,n){const o=te(()=>v=>e.nodes&&!t.value.length?e.nodes.find(k=>k.id===v):e.nodes[t.value.indexOf(v)]),r=te(()=>v=>e.edges&&!n.value.length?e.edges.find(k=>k.id===v):e.edges[n.value.indexOf(v)]),s=te(()=>{var v;const k={...mf,...e.edgeTypes},y=Object.keys(k);return(v=e.edges)==null||v.forEach(E=>E.type&&!y.includes(E.type)&&(k[E.type]=E.type)),k}),i=te(()=>{var v;const k={...gf,...e.nodeTypes},y=Object.keys(k);return(v=e.nodes)==null||v.forEach(E=>E.type&&!y.includes(E.type)&&(k[E.type]=E.type)),k}),a=te(()=>{const v=e.nodes.filter(k=>!k.hidden);return e.onlyRenderVisibleElements?v&&Fa(v,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):v??[]}),c=(v,k,y)=>{if(k=k??o.value(v.source),y=y??o.value(v.target),!k||!y){e.hooks.error.trigger(new Ee(ke.EDGE_ORPHANED,v.id));return}return!v.hidden&&!y.hidden&&!k.hidden},l=te(()=>e.onlyRenderVisibleElements?e.edges.filter(v=>{const k=o.value(v.source),y=o.value(v.target);return c(v,k,y)&&Mu({sourcePos:k.computedPosition||{x:0,y:0},targetPos:y.computedPosition||{x:0,y:0},sourceWidth:k.dimensions.width,sourceHeight:k.dimensions.height,targetWidth:y.dimensions.width,targetHeight:y.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})}):e.edges.filter(v=>c(v))),u=te(()=>[...a.value,...l.value]),h=te(()=>e.nodes.filter(v=>v.selected)),d=te(()=>e.edges.filter(v=>v.selected)),p=te(()=>[...h.value??[],...d.value??[]]),g=te(()=>a.value.filter(v=>v.initialized&&v.handleBounds!==void 0));return{getNode:o,getEdge:r,getElements:u,getEdgeTypes:s,getNodeTypes:i,getEdges:l,getNodes:a,getSelectedElements:p,getSelectedNodes:h,getSelectedEdges:d,getNodesInitialized:g}}function is(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yc(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function En(){}var fn=.7,ao=1/fn,Ft="\\s*([+-]?\\d+)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",He="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_f=/^#([0-9a-f]{3,8})$/,bf=new RegExp(`^rgb\\(${Ft},${Ft},${Ft}\\)$`),wf=new RegExp(`^rgb\\(${He},${He},${He}\\)$`),xf=new RegExp(`^rgba\\(${Ft},${Ft},${Ft},${pn}\\)$`),kf=new RegExp(`^rgba\\(${He},${He},${He},${pn}\\)$`),Ef=new RegExp(`^hsl\\(${pn},${He},${He}\\)$`),Cf=new RegExp(`^hsla\\(${pn},${He},${He},${pn}\\)$`),ei={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};is(En,gn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ti,formatHex:ti,formatHex8:Sf,formatHsl:Af,formatRgb:ni,toString:ni});function ti(){return this.rgb().formatHex()}function Sf(){return this.rgb().formatHex8()}function Af(){return _c(this).formatHsl()}function ni(){return this.rgb().formatRgb()}function gn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_f.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?oi(t):n===3?new Ce(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bf.exec(e))?new Ce(t[1],t[2],t[3],1):(t=wf.exec(e))?new Ce(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xf.exec(e))?qn(t[1],t[2],t[3],t[4]):(t=kf.exec(e))?qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ef.exec(e))?ii(t[1],t[2]/100,t[3]/100,1):(t=Cf.exec(e))?ii(t[1],t[2]/100,t[3]/100,t[4]):ei.hasOwnProperty(e)?oi(ei[e]):e==="transparent"?new Ce(NaN,NaN,NaN,0):null}function oi(e){return new Ce(e>>16&255,e>>8&255,e&255,1)}function qn(e,t,n,o){return o<=0&&(e=t=n=NaN),new Ce(e,t,n,o)}function $f(e){return e instanceof En||(e=gn(e)),e?(e=e.rgb(),new Ce(e.r,e.g,e.b,e.opacity)):new Ce}function qr(e,t,n,o){return arguments.length===1?$f(e):new Ce(e,t,n,o??1)}function Ce(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}is(Ce,qr,yc(En,{brighter(e){return e=e==null?ao:Math.pow(ao,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fn:Math.pow(fn,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ce(kt(this.r),kt(this.g),kt(this.b),co(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ri,formatHex:ri,formatHex8:Df,formatRgb:si,toString:si}));function ri(){return`#${_t(this.r)}${_t(this.g)}${_t(this.b)}`}function Df(){return`#${_t(this.r)}${_t(this.g)}${_t(this.b)}${_t((isNaN(this.opacity)?1:this.opacity)*255)}`}function si(){const e=co(this.opacity);return`${e===1?"rgb(":"rgba("}${kt(this.r)}, ${kt(this.g)}, ${kt(this.b)}${e===1?")":`, ${e})`}`}function co(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _t(e){return e=kt(e),(e<16?"0":"")+e.toString(16)}function ii(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ie(e,t,n,o)}function _c(e){if(e instanceof Ie)return new Ie(e.h,e.s,e.l,e.opacity);if(e instanceof En||(e=gn(e)),!e)return new Ie;if(e instanceof Ie)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),s=Math.max(t,n,o),i=NaN,a=s-r,c=(s+r)/2;return a?(t===s?i=(n-o)/a+(n<o)*6:n===s?i=(o-t)/a+2:i=(t-n)/a+4,a/=c<.5?s+r:2-s-r,i*=60):a=c>0&&c<1?0:i,new Ie(i,a,c,e.opacity)}function Nf(e,t,n,o){return arguments.length===1?_c(e):new Ie(e,t,n,o??1)}function Ie(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}is(Ie,Nf,yc(En,{brighter(e){return e=e==null?ao:Math.pow(ao,e),new Ie(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fn:Math.pow(fn,e),new Ie(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Ce(nr(e>=240?e-240:e+120,r,o),nr(e,r,o),nr(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Ie(ai(this.h),zn(this.s),zn(this.l),co(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=co(this.opacity);return`${e===1?"hsl(":"hsla("}${ai(this.h)}, ${zn(this.s)*100}%, ${zn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ai(e){return e=(e||0)%360,e<0?e+360:e}function zn(e){return Math.max(0,Math.min(1,e||0))}function nr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const bc=e=>()=>e;function Mf(e,t){return function(n){return e+n*t}}function Tf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function qf(e){return(e=+e)==1?wc:function(t,n){return n-t?Tf(t,n,e):bc(isNaN(t)?n:t)}}function wc(e,t){var n=t-e;return n?Mf(e,n):bc(isNaN(e)?t:e)}const ci=function e(t){var n=qf(t);function o(r,s){var i=n((r=qr(r)).r,(s=qr(s)).r),a=n(r.g,s.g),c=n(r.b,s.b),l=wc(r.opacity,s.opacity);return function(u){return r.r=i(u),r.g=a(u),r.b=c(u),r.opacity=l(u),r+""}}return o.gamma=e,o}(1);function at(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,or=new RegExp(zr.source,"g");function zf(e){return function(){return e}}function If(e){return function(t){return e(t)+""}}function Pf(e,t){var n=zr.lastIndex=or.lastIndex=0,o,r,s,i=-1,a=[],c=[];for(e=e+"",t=t+"";(o=zr.exec(e))&&(r=or.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(o=o[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,c.push({i,x:at(o,r)})),n=or.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?c[0]?If(c[0].x):zf(t):(t=c.length,function(l){for(var u=0,h;u<t;++u)a[(h=c[u]).i]=h.x(l);return a.join("")})}var li=180/Math.PI,xc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kc(e,t,n,o,r,s){var i,a,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,c/=a),e*o<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*li,skewX:Math.atan(c)*li,scaleX:i,scaleY:a}}var In;function Of(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?xc:kc(t.a,t.b,t.c,t.d,t.e,t.f)}function Ff(e){return e==null||(In||(In=document.createElementNS("http://www.w3.org/2000/svg","g")),In.setAttribute("transform",e),!(e=In.transform.baseVal.consolidate()))?xc:(e=e.matrix,kc(e.a,e.b,e.c,e.d,e.e,e.f))}function Ec(e,t,n,o){function r(l){return l.length?l.pop()+" ":""}function s(l,u,h,d,p,g){if(l!==h||u!==d){var v=p.push("translate(",null,t,null,n);g.push({i:v-4,x:at(l,h)},{i:v-2,x:at(u,d)})}else(h||d)&&p.push("translate("+h+t+d+n)}function i(l,u,h,d){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),d.push({i:h.push(r(h)+"rotate(",null,o)-2,x:at(l,u)})):u&&h.push(r(h)+"rotate("+u+o)}function a(l,u,h,d){l!==u?d.push({i:h.push(r(h)+"skewX(",null,o)-2,x:at(l,u)}):u&&h.push(r(h)+"skewX("+u+o)}function c(l,u,h,d,p,g){if(l!==h||u!==d){var v=p.push(r(p)+"scale(",null,",",null,")");g.push({i:v-4,x:at(l,h)},{i:v-2,x:at(u,d)})}else(h!==1||d!==1)&&p.push(r(p)+"scale("+h+","+d+")")}return function(l,u){var h=[],d=[];return l=e(l),u=e(u),s(l.translateX,l.translateY,u.translateX,u.translateY,h,d),i(l.rotate,u.rotate,h,d),a(l.skewX,u.skewX,h,d),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,h,d),l=u=null,function(p){for(var g=-1,v=d.length,k;++g<v;)h[(k=d[g]).i]=k.x(p);return h.join("")}}}var Bf=Ec(Of,"px, ","px)","deg)"),Rf=Ec(Ff,", ",")",")"),Lf=1e-12;function ui(e){return((e=Math.exp(e))+1/e)/2}function Vf(e){return((e=Math.exp(e))-1/e)/2}function Hf(e){return((e=Math.exp(2*e))-1)/(e+1)}const Uf=function e(t,n,o){function r(s,i){var a=s[0],c=s[1],l=s[2],u=i[0],h=i[1],d=i[2],p=u-a,g=h-c,v=p*p+g*g,k,y;if(v<Lf)y=Math.log(d/l)/t,k=function(b){return[a+b*p,c+b*g,l*Math.exp(t*b*y)]};else{var E=Math.sqrt(v),M=(d*d-l*l+o*v)/(2*l*n*E),_=(d*d-l*l-o*v)/(2*d*n*E),D=Math.log(Math.sqrt(M*M+1)-M),A=Math.log(Math.sqrt(_*_+1)-_);y=(A-D)/t,k=function(b){var V=b*y,I=ui(D),N=l/(n*E)*(I*Hf(t*V+D)-Vf(D));return[a+N*p,c+N*g,l*I/ui(t*V+D)]}}return k.duration=y*1e3*t/Math.SQRT2,k}return r.rho=function(s){var i=Math.max(.001,+s),a=i*i,c=a*a;return e(i,a,c)},r}(Math.SQRT2,2,4);var Ht=0,en=0,Wt=0,Cc=1e3,lo,tn,uo=0,At=0,Po=0,mn=typeof performance=="object"&&performance.now?performance:Date,Sc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function as(){return At||(Sc(Gf),At=mn.now()+Po)}function Gf(){At=0}function ho(){this._call=this._time=this._next=null}ho.prototype=Ac.prototype={constructor:ho,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?as():+n)+(t==null?0:+t),!this._next&&tn!==this&&(tn?tn._next=this:lo=this,tn=this),this._call=e,this._time=n,Ir()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ir())}};function Ac(e,t,n){var o=new ho;return o.restart(e,t,n),o}function jf(){as(),++Ht;for(var e=lo,t;e;)(t=At-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ht}function di(){At=(uo=mn.now())+Po,Ht=en=0;try{jf()}finally{Ht=0,Xf(),At=0}}function Yf(){var e=mn.now(),t=e-uo;t>Cc&&(Po-=t,uo=e)}function Xf(){for(var e,t=lo,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:lo=n);tn=e,Ir(o)}function Ir(e){if(!Ht){en&&(en=clearTimeout(en));var t=e-At;t>24?(e<1/0&&(en=setTimeout(di,e-mn.now()-Po)),Wt&&(Wt=clearInterval(Wt))):(Wt||(uo=mn.now(),Wt=setInterval(Yf,Cc)),Ht=1,Sc(di))}}function hi(e,t,n){var o=new ho;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var Zf=$o("start","end","cancel","interrupt"),Wf=[],$c=0,fi=1,Pr=2,Yn=3,pi=4,Or=5,Xn=6;function Oo(e,t,n,o,r,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;Kf(e,n,{name:t,index:o,group:r,on:Zf,tween:Wf,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:$c})}function cs(e,t){var n=Oe(e,t);if(n.state>$c)throw new Error("too late; already scheduled");return n}function Ge(e,t){var n=Oe(e,t);if(n.state>Yn)throw new Error("too late; already running");return n}function Oe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Kf(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=Ac(s,0,n.time);function s(l){n.state=fi,n.timer.restart(i,n.delay,n.time),n.delay<=l&&i(l-n.delay)}function i(l){var u,h,d,p;if(n.state!==fi)return c();for(u in o)if(p=o[u],p.name===n.name){if(p.state===Yn)return hi(i);p.state===pi?(p.state=Xn,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[u]):+u<t&&(p.state=Xn,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[u])}if(hi(function(){n.state===Yn&&(n.state=pi,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Pr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Pr){for(n.state=Yn,r=new Array(d=n.tween.length),u=0,h=-1;u<d;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=p);r.length=h+1}}function a(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=Or,1),h=-1,d=r.length;++h<d;)r[h].call(e,u);n.state===Or&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Xn,n.timer.stop(),delete o[t];for(var l in o)return;delete e.__transition}}function Zn(e,t){var n=e.__transition,o,r,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){s=!1;continue}r=o.state>Pr&&o.state<Or,o.state=Xn,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}s&&delete e.__transition}}function Qf(e){return this.each(function(){Zn(this,e)})}function Jf(e,t){var n,o;return function(){var r=Ge(this,e),s=r.tween;if(s!==n){o=n=s;for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}r.tween=o}}function ep(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var s=Ge(this,e),i=s.tween;if(i!==o){r=(o=i).slice();for(var a={name:t,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===t){r[c]=a;break}c===l&&r.push(a)}s.tween=r}}function tp(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Oe(this.node(),n).tween,r=0,s=o.length,i;r<s;++r)if((i=o[r]).name===e)return i.value;return null}return this.each((t==null?Jf:ep)(n,e,t))}function ls(e,t,n){var o=e._id;return e.each(function(){var r=Ge(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Oe(r,o).value[t]}}function Dc(e,t){var n;return(typeof t=="number"?at:t instanceof gn?ci:(n=gn(t))?(t=n,ci):Pf)(e,t)}function np(e){return function(){this.removeAttribute(e)}}function op(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rp(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttribute(e);return i===r?null:i===o?s:s=t(o=i,n)}}function sp(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===o?s:s=t(o=i,n)}}function ip(e,t,n){var o,r,s;return function(){var i,a=n(this),c;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=a+"",i===c?null:i===o&&c===r?s:(r=c,s=t(o=i,a)))}}function ap(e,t,n){var o,r,s;return function(){var i,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=a+"",i===c?null:i===o&&c===r?s:(r=c,s=t(o=i,a)))}}function cp(e,t){var n=Do(e),o=n==="transform"?Rf:Dc;return this.attrTween(e,typeof t=="function"?(n.local?ap:ip)(n,o,ls(this,"attr."+e,t)):t==null?(n.local?op:np)(n):(n.local?sp:rp)(n,o,t))}function lp(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function up(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function dp(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&up(e,s)),n}return r._value=t,r}function hp(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&lp(e,s)),n}return r._value=t,r}function fp(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Do(e);return this.tween(n,(o.local?dp:hp)(o,t))}function pp(e,t){return function(){cs(this,e).delay=+t.apply(this,arguments)}}function gp(e,t){return t=+t,function(){cs(this,e).delay=t}}function mp(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?pp:gp)(t,e)):Oe(this.node(),t).delay}function vp(e,t){return function(){Ge(this,e).duration=+t.apply(this,arguments)}}function yp(e,t){return t=+t,function(){Ge(this,e).duration=t}}function _p(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vp:yp)(t,e)):Oe(this.node(),t).duration}function bp(e,t){if(typeof t!="function")throw new Error;return function(){Ge(this,e).ease=t}}function wp(e){var t=this._id;return arguments.length?this.each(bp(t,e)):Oe(this.node(),t).ease}function xp(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ge(this,e).ease=n}}function kp(e){if(typeof e!="function")throw new Error;return this.each(xp(this._id,e))}function Ep(e){typeof e!="function"&&(e=Wa(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],c,l=0;l<i;++l)(c=s[l])&&e.call(c,c.__data__,l,s)&&a.push(c);return new rt(o,this._parents,this._name,this._id)}function Cp(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),i=new Array(o),a=0;a<s;++a)for(var c=t[a],l=n[a],u=c.length,h=i[a]=new Array(u),d,p=0;p<u;++p)(d=c[p]||l[p])&&(h[p]=d);for(;a<o;++a)i[a]=t[a];return new rt(i,this._parents,this._name,this._id)}function Sp(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Ap(e,t,n){var o,r,s=Sp(t)?cs:Ge;return function(){var i=s(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}function $p(e,t){var n=this._id;return arguments.length<2?Oe(this.node(),n).on.on(e):this.each(Ap(n,e,t))}function Dp(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Np(){return this.on("end.remove",Dp(this._id))}function Mp(e){var t=this._name,n=this._id;typeof e!="function"&&(e=os(e));for(var o=this._groups,r=o.length,s=new Array(r),i=0;i<r;++i)for(var a=o[i],c=a.length,l=s[i]=new Array(c),u,h,d=0;d<c;++d)(u=a[d])&&(h=e.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),l[d]=h,Oo(l[d],t,n,d,l,Oe(u,n)));return new rt(s,this._parents,t,n)}function Tp(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Za(e));for(var o=this._groups,r=o.length,s=[],i=[],a=0;a<r;++a)for(var c=o[a],l=c.length,u,h=0;h<l;++h)if(u=c[h]){for(var d=e.call(u,u.__data__,h,c),p,g=Oe(u,n),v=0,k=d.length;v<k;++v)(p=d[v])&&Oo(p,t,n,v,d,g);s.push(d),i.push(u)}return new rt(s,i,t,n)}var qp=xn.prototype.constructor;function zp(){return new qp(this._groups,this._parents)}function Ip(e,t){var n,o,r;return function(){var s=Vt(this,e),i=(this.style.removeProperty(e),Vt(this,e));return s===i?null:s===n&&i===o?r:r=t(n=s,o=i)}}function Nc(e){return function(){this.style.removeProperty(e)}}function Pp(e,t,n){var o,r=n+"",s;return function(){var i=Vt(this,e);return i===r?null:i===o?s:s=t(o=i,n)}}function Op(e,t,n){var o,r,s;return function(){var i=Vt(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),Vt(this,e))),i===c?null:i===o&&c===r?s:(r=c,s=t(o=i,a))}}function Fp(e,t){var n,o,r,s="style."+t,i="end."+s,a;return function(){var c=Ge(this,e),l=c.on,u=c.value[s]==null?a||(a=Nc(t)):void 0;(l!==n||r!==u)&&(o=(n=l).copy()).on(i,r=u),c.on=o}}function Bp(e,t,n){var o=(e+="")=="transform"?Bf:Dc;return t==null?this.styleTween(e,Ip(e,o)).on("end.style."+e,Nc(e)):typeof t=="function"?this.styleTween(e,Op(e,o,ls(this,"style."+e,t))).each(Fp(this._id,e)):this.styleTween(e,Pp(e,o,t),n).on("end.style."+e,null)}function Rp(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Lp(e,t,n){var o,r;function s(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&Rp(e,i,n)),o}return s._value=t,s}function Vp(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Lp(e,t,n??""))}function Hp(e){return function(){this.textContent=e}}function Up(e){return function(){var t=e(this);this.textContent=t??""}}function Gp(e){return this.tween("text",typeof e=="function"?Up(ls(this,"text",e)):Hp(e==null?"":e+""))}function jp(e){return function(t){this.textContent=e.call(this,t)}}function Yp(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&jp(r)),t}return o._value=e,o}function Xp(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Yp(e))}function Zp(){for(var e=this._name,t=this._id,n=Mc(),o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,c,l=0;l<a;++l)if(c=i[l]){var u=Oe(c,t);Oo(c,e,n,l,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new rt(o,this._parents,e,n)}function Wp(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(s,i){var a={value:i},c={value:function(){--r===0&&s()}};n.each(function(){var l=Ge(this,o),u=l.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),l.on=t}),r===0&&s()})}var Kp=0;function rt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Mc(){return++Kp}var Ze=xn.prototype;rt.prototype={constructor:rt,select:Mp,selectAll:Tp,selectChild:Ze.selectChild,selectChildren:Ze.selectChildren,filter:Ep,merge:Cp,selection:zp,transition:Zp,call:Ze.call,nodes:Ze.nodes,node:Ze.node,size:Ze.size,empty:Ze.empty,each:Ze.each,on:$p,attr:cp,attrTween:fp,style:Bp,styleTween:Vp,text:Gp,textTween:Xp,remove:Np,tween:tp,delay:mp,duration:_p,ease:wp,easeVarying:kp,end:Wp,[Symbol.iterator]:Ze[Symbol.iterator]};function Qp(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Jp={time:null,delay:0,duration:250,ease:Qp};function eg(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function tg(e){var t,n;e instanceof rt?(t=e._id,e=e._name):(t=Mc(),(n=Jp).time=as(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,c,l=0;l<a;++l)(c=i[l])&&Oo(c,e,t,l,i,n||eg(c,t));return new rt(o,this._parents,e,t)}xn.prototype.interrupt=Qf;xn.prototype.transition=tg;const Pn=e=>()=>e;function ng(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function tt(e,t,n){this.k=e,this.x=t,this.y=n}tt.prototype={constructor:tt,scale:function(e){return e===1?this:new tt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new tt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Cn=new tt(1,0,0);tt.prototype;function rr(e){e.stopImmediatePropagation()}function Kt(e){e.preventDefault(),e.stopImmediatePropagation()}function og(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function rg(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function gi(){return this.__zoom||Cn}function sg(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ig(){return navigator.maxTouchPoints||"ontouchstart"in this}function ag(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function cg(){var e=og,t=rg,n=ag,o=sg,r=ig,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Uf,l=$o("start","zoom","end"),u,h,d,p=500,g=150,v=0,k=10;function y(f){f.property("__zoom",gi).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",N).filter(r).on("touchstart.zoom",R).on("touchmove.zoom",ee).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(f,$,m,C){var T=f.selection?f.selection():f;T.property("__zoom",gi),f!==T?D(f,$,m,C):T.interrupt().each(function(){A(this,arguments).event(C).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},y.scaleBy=function(f,$,m,C){y.scaleTo(f,function(){var T=this.__zoom.k,z=typeof $=="function"?$.apply(this,arguments):$;return T*z},m,C)},y.scaleTo=function(f,$,m,C){y.transform(f,function(){var T=t.apply(this,arguments),z=this.__zoom,q=m==null?_(T):typeof m=="function"?m.apply(this,arguments):m,H=z.invert(q),O=typeof $=="function"?$.apply(this,arguments):$;return n(M(E(z,O),q,H),T,i)},m,C)},y.translateBy=function(f,$,m,C){y.transform(f,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof m=="function"?m.apply(this,arguments):m),t.apply(this,arguments),i)},null,C)},y.translateTo=function(f,$,m,C,T){y.transform(f,function(){var z=t.apply(this,arguments),q=this.__zoom,H=C==null?_(z):typeof C=="function"?C.apply(this,arguments):C;return n(Cn.translate(H[0],H[1]).scale(q.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof m=="function"?-m.apply(this,arguments):-m),z,i)},C,T)};function E(f,$){return $=Math.max(s[0],Math.min(s[1],$)),$===f.k?f:new tt($,f.x,f.y)}function M(f,$,m){var C=$[0]-m[0]*f.k,T=$[1]-m[1]*f.k;return C===f.x&&T===f.y?f:new tt(f.k,C,T)}function _(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function D(f,$,m,C){f.on("start.zoom",function(){A(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(C).end()}).tween("zoom",function(){var T=this,z=arguments,q=A(T,z).event(C),H=t.apply(T,z),O=m==null?_(H):typeof m=="function"?m.apply(T,z):m,Q=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),G=T.__zoom,Z=typeof $=="function"?$.apply(T,z):$,B=c(G.invert(O).concat(Q/G.k),Z.invert(O).concat(Q/Z.k));return function(w){if(w===1)w=Z;else{var S=B(w),L=Q/S[2];w=new tt(L,O[0]-S[0]*L,O[1]-S[1]*L)}q.zoom(null,w)}})}function A(f,$,m){return!m&&f.__zooming||new b(f,$)}function b(f,$){this.that=f,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,$),this.taps=0}b.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,$){return this.mouse&&f!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var $=ze(this.that).datum();l.call(f,this.that,new ng(f,{sourceEvent:this.sourceEvent,target:y,type:f,transform:this.that.__zoom,dispatch:l}),$)}};function V(f,...$){if(!e.apply(this,arguments))return;var m=A(this,$).event(f),C=this.__zoom,T=Math.max(s[0],Math.min(s[1],C.k*Math.pow(2,o.apply(this,arguments)))),z=Re(f);if(m.wheel)(m.mouse[0][0]!==z[0]||m.mouse[0][1]!==z[1])&&(m.mouse[1]=C.invert(m.mouse[0]=z)),clearTimeout(m.wheel);else{if(C.k===T)return;m.mouse=[z,C.invert(z)],Zn(this),m.start()}Kt(f),m.wheel=setTimeout(q,g),m.zoom("mouse",n(M(E(C,T),m.mouse[0],m.mouse[1]),m.extent,i));function q(){m.wheel=null,m.end()}}function I(f,...$){if(d||!e.apply(this,arguments))return;var m=f.currentTarget,C=A(this,$,!0).event(f),T=ze(f.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",Q,!0),z=Re(f,m),q=f.clientX,H=f.clientY;ic(f.view),rr(f),C.mouse=[z,this.__zoom.invert(z)],Zn(this),C.start();function O(G){if(Kt(G),!C.moved){var Z=G.clientX-q,B=G.clientY-H;C.moved=Z*Z+B*B>v}C.event(G).zoom("mouse",n(M(C.that.__zoom,C.mouse[0]=Re(G,m),C.mouse[1]),C.extent,i))}function Q(G){T.on("mousemove.zoom mouseup.zoom",null),ac(G.view,C.moved),Kt(G),C.event(G).end()}}function N(f,...$){if(e.apply(this,arguments)){var m=this.__zoom,C=Re(f.changedTouches?f.changedTouches[0]:f,this),T=m.invert(C),z=m.k*(f.shiftKey?.5:2),q=n(M(E(m,z),C,T),t.apply(this,$),i);Kt(f),a>0?ze(this).transition().duration(a).call(D,q,C,f):ze(this).call(y.transform,q,C,f)}}function R(f,...$){if(e.apply(this,arguments)){var m=f.touches,C=m.length,T=A(this,$,f.changedTouches.length===C).event(f),z,q,H,O;for(rr(f),q=0;q<C;++q)H=m[q],O=Re(H,this),O=[O,this.__zoom.invert(O),H.identifier],T.touch0?!T.touch1&&T.touch0[2]!==O[2]&&(T.touch1=O,T.taps=0):(T.touch0=O,z=!0,T.taps=1+!!u);u&&(u=clearTimeout(u)),z&&(T.taps<2&&(h=O[0],u=setTimeout(function(){u=null},p)),Zn(this),T.start())}}function ee(f,...$){if(this.__zooming){var m=A(this,$).event(f),C=f.changedTouches,T=C.length,z,q,H,O;for(Kt(f),z=0;z<T;++z)q=C[z],H=Re(q,this),m.touch0&&m.touch0[2]===q.identifier?m.touch0[0]=H:m.touch1&&m.touch1[2]===q.identifier&&(m.touch1[0]=H);if(q=m.that.__zoom,m.touch1){var Q=m.touch0[0],G=m.touch0[1],Z=m.touch1[0],B=m.touch1[1],w=(w=Z[0]-Q[0])*w+(w=Z[1]-Q[1])*w,S=(S=B[0]-G[0])*S+(S=B[1]-G[1])*S;q=E(q,Math.sqrt(w/S)),H=[(Q[0]+Z[0])/2,(Q[1]+Z[1])/2],O=[(G[0]+B[0])/2,(G[1]+B[1])/2]}else if(m.touch0)H=m.touch0[0],O=m.touch0[1];else return;m.zoom("touch",n(M(q,H,O),m.extent,i))}}function K(f,...$){if(this.__zooming){var m=A(this,$).event(f),C=f.changedTouches,T=C.length,z,q;for(rr(f),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),z=0;z<T;++z)q=C[z],m.touch0&&m.touch0[2]===q.identifier?delete m.touch0:m.touch1&&m.touch1[2]===q.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2&&(q=Re(q,this),Math.hypot(h[0]-q[0],h[1]-q[1])<k)){var H=ze(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return y.wheelDelta=function(f){return arguments.length?(o=typeof f=="function"?f:Pn(+f),y):o},y.filter=function(f){return arguments.length?(e=typeof f=="function"?f:Pn(!!f),y):e},y.touchable=function(f){return arguments.length?(r=typeof f=="function"?f:Pn(!!f),y):r},y.extent=function(f){return arguments.length?(t=typeof f=="function"?f:Pn([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),y):t},y.scaleExtent=function(f){return arguments.length?(s[0]=+f[0],s[1]=+f[1],y):[s[0],s[1]]},y.translateExtent=function(f){return arguments.length?(i[0][0]=+f[0][0],i[1][0]=+f[1][0],i[0][1]=+f[0][1],i[1][1]=+f[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(f){return arguments.length?(n=f,y):n},y.duration=function(f){return arguments.length?(a=+f,y):a},y.interpolate=function(f){return arguments.length?(c=f,y):c},y.on=function(){var f=l.on.apply(l,arguments);return f===l?y:f},y.clickDistance=function(f){return arguments.length?(v=(f=+f)*f,y):Math.sqrt(v)},y.tapDistance=function(f){return arguments.length?(k=+f,y):k},y}const sr=.1;function ft(){}const lg={zoomIn:ft,zoomOut:ft,zoomTo:ft,fitView:ft,setCenter:ft,fitBounds:ft,project:e=>e,setTransform:ft,getTransform:()=>({x:0,y:0,zoom:1}),initialized:!1},ug=(e,t)=>{const n=e,o=P(n,"nodes"),r=P(n,"d3Zoom"),s=P(n,"d3Selection"),i=P(n,"dimensions"),a=P(n,"translateExtent"),c=P(n,"minZoom"),l=P(n,"maxZoom"),u=P(n,"viewport"),h=P(n,"snapToGrid"),d=P(n,"snapGrid"),p=P(n,"hooks"),g=t,v=P(g,"getNodes"),k=se(!1);p.value.nodesInitialized.on(()=>{k.value=!0});const y=te(()=>!!r.value&&!!s.value&&!!i.value.width&&!!i.value.height&&k.value);function E(_,D){s.value&&r.value&&r.value.scaleBy(ir(s.value,D),_)}function M(_,D,A,b){const{x:V,y:I}=Ta({x:-_,y:-D},a.value),N=Cn.translate(-V,-I).scale(A);s.value&&r.value&&r.value.transform(ir(s.value,b),N)}return te(()=>y.value?{initialized:!0,zoomIn:_=>{E(1.2,_==null?void 0:_.duration)},zoomOut:_=>{E(1/1.2,_==null?void 0:_.duration)},zoomTo:(_,D)=>{s.value&&r.value&&r.value.scaleTo(ir(s.value,D==null?void 0:D.duration),_)},setTransform:(_,D)=>{M(_.x,_.y,_.zoom,D==null?void 0:D.duration)},getTransform:()=>({x:u.value.x,y:u.value.y,zoom:u.value.zoom}),fitView:(_={padding:sr,includeHiddenNodes:!1,duration:0})=>{if(!o.value.length)return;const D=(_.includeHiddenNodes?o.value:v.value).filter(N=>{var R;const ee=N.initialized&&N.dimensions.width&&N.dimensions.height;let K=!0;return(R=_.nodes)!=null&&R.length&&(K=_.nodes.includes(N.id)),ee&&K}),A=Jr(D),{x:b,y:V,zoom:I}=Fs(A,i.value.width,i.value.height,_.minZoom??c.value,_.maxZoom??l.value,_.padding??sr,_.offset);M(b,V,I,_==null?void 0:_.duration)},setCenter:(_,D,A)=>{const b=typeof(A==null?void 0:A.zoom)<"u"?A.zoom:l.value,V=i.value.width/2-_*b,I=i.value.height/2-D*b;M(V,I,b,A==null?void 0:A.duration)},fitBounds:(_,D={padding:sr})=>{const{x:A,y:b,zoom:V}=Fs(_,i.value.width,i.value.height,c.value,l.value,D.padding);M(A,b,V,D==null?void 0:D.duration)},project:_=>Ia(_,u.value,h.value,d.value)}:lg)};function ir(e,t=0){return e.transition().duration(t)}function ar(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let r={};if(ot(t.style)?r={...t.style(t)}:t.style&&(r={...t.style}),r.width=r.width??`${t.dimensions.width}px`,r.height=r.height??`${t.dimensions.height}px`,n>0)if(et(r.width)){const s=Number(r.width.replace("px",""));r.width=`${s+n}px`}else r.width+=n;if(o>0)if(et(r.height)){const s=Number(r.height.replace("px",""));r.height=`${s+o}px`}else r.height+=o;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,et(r.width)){const i=Number(r.width.replace("px",""));r.width=`${i+s}px`}else r.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,et(r.height)){const i=Number(r.height.replace("px",""));r.height=`${i+s}px`}else r.height+=s;e.position.y=0}t.dimensions.width=Number(r.width.toString().replace("px","")),t.dimensions.height=Number(r.height.toString().replace("px","")),ot(t.style)?t.style=s=>{const i=t.style;return{...i(s),...r}}:t.style={...t.style,...r}}}}function mi(e,t){e.filter(o=>o.type==="add"||o.type==="remove").forEach(o=>{if(o.type==="add")t.findIndex(r=>r.id===o.item.id)===-1&&t.push(o.item);else if(o.type==="remove"){const r=t.findIndex(s=>s.id===o.id);r!==-1&&t.splice(r,1)}});const n=t.map(o=>o.id);return t.forEach(o=>{var r,s;const i=e.filter(a=>a.id===o.id);for(const a of i)switch(a.type){case"select":o.selected=a.selected;break;case"position":if(qt(o)&&(typeof a.position<"u"&&(o.position=a.position),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&o.parentNode)){const c=t[n.indexOf(o.parentNode)];c&&qt(c)&&ar(o,c)}break;case"dimensions":if(qt(o)){if(typeof a.dimensions<"u"&&(o.dimensions=a.dimensions),typeof a.updateStyle<"u"&&(o.style={...o.style||{},width:`${(r=a.dimensions)==null?void 0:r.width}px`,height:`${(s=a.dimensions)==null?void 0:s.height}px`}),typeof a.resizing<"u"&&(o.resizing=a.resizing),o.expandParent&&o.parentNode){const c=t[n.indexOf(o.parentNode)];c&&qt(c)&&(c.initialized?ar(o,c):xt(()=>{ar(o,c)}))}o.initialized||(o.initialized=!0)}break}}),t}function Ke(e,t){return{id:e,type:"select",selected:t}}function vi(e){return{item:e,type:"add"}}function cr(e){return{id:e,type:"remove"}}function lr(e,t){return e.reduce((n,o)=>{let r=t.includes(o.id);_e(o.selectable)&&!o.selectable&&(r=!1);const s=qt(o)?"changedNodes":"changedEdges";return!o.selected&&r?n[s].push(Ke(o.id,!0)):o.selected&&!r&&n[s].push(Ke(o.id,!1)),n},{changedNodes:[],changedEdges:[]})}function dg(e,t,n,o){let r=!1;const s=ug(e,t),i=w=>{const S=w??n.value??[];e.hooks.updateNodeInternals.trigger(S)},a=w=>{if(w)return e.nodes&&!n.value.length?e.nodes.find(S=>S.id===w):e.nodes[n.value.indexOf(w)]},c=w=>{if(w)return e.edges&&!o.value.length?e.edges.find(S=>S.id===w):e.edges[o.value.indexOf(w)]},l=(w,S,L)=>{const U=[];w.forEach(Y=>{var X,F;const ne={id:Y.id,type:"position",dragging:L,from:Y.from};if(S&&(ne.position=Y.position,Y.parentNode)){const re=a(Y.parentNode);ne.position={x:ne.position.x-(((X=re==null?void 0:re.computedPosition)==null?void 0:X.x)??0),y:ne.position.y-(((F=re==null?void 0:re.computedPosition)==null?void 0:F.y)??0)}}U.push(ne)}),U!=null&&U.length&&e.hooks.nodesChange.trigger(U)},u=w=>{var S;if(!e.vueFlowRef)return;const L=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!L)return;let U;if((S=e.__experimentalFeatures)!=null&&S.nestedFlow){let X=[L],F=L,ne;for(;!ne&&F;)F=F.parentElement,ne=F==null?void 0:F.classList.contains("vue-flow__transformationpane"),ne&&(X=[F,...X]);X.forEach(re=>{const xe=window.getComputedStyle(re),{m22:Nt}=new window.DOMMatrixReadOnly(xe.transform);U?U*=Nt:U=Nt})}else{const X=window.getComputedStyle(L),{m22:F}=new window.DOMMatrixReadOnly(X.transform);U=F}const Y=w.reduce((X,F)=>{const ne=a(F.id);if(ne){const re=ko(F.nodeElement);re.width&&re.height&&(ne.dimensions.width!==re.width||ne.dimensions.height!==re.height||F.forceUpdate)&&(ne.handleBounds.source=js(".source",F.nodeElement,U),ne.handleBounds.target=js(".target",F.nodeElement,U),ne.dimensions=re,ne.initialized=!0,X.push({id:ne.id,type:"dimensions",dimensions:re}))}return X},[]);e.fitViewOnInit&&!r&&(Ae(()=>s.value.initialized).toBe(!0).then(()=>{s.value.fitView()}),r=!0),Y.length&&e.hooks.nodesChange.trigger(Y)},h=(w,S)=>{const L=w.map(X=>X.id);let U,Y=[];if(e.multiSelectionActive)U=L.map(X=>Ke(X,S));else{const X=lr([...e.nodes,...e.edges],L);U=X.changedNodes,Y=X.changedEdges}U.length&&e.hooks.nodesChange.trigger(U),Y.length&&e.hooks.edgesChange.trigger(Y)},d=(w,S)=>{const L=w.map(X=>X.id);let U=[],Y;if(e.multiSelectionActive)Y=L.map(X=>Ke(X,S));else{const X=lr([...e.nodes,...e.edges],L);U=X.changedNodes,Y=X.changedEdges}U.length&&e.hooks.nodesChange.trigger(U),Y.length&&e.hooks.edgesChange.trigger(Y)},p=(w,S)=>{const L=w.filter(Gn).map(F=>F.id),U=w.filter(Lt).map(F=>F.id);let{changedNodes:Y,changedEdges:X}=lr([...e.nodes,...e.edges],[...L,...U]);e.multiSelectionActive&&(Y=L.map(F=>Ke(F,S)),X=U.map(F=>Ke(F,S))),Y.length&&e.hooks.nodesChange.trigger(Y),X.length&&e.hooks.edgesChange.trigger(X)},g=w=>{h(w,!0)},v=w=>{d(w,!0)},k=w=>{p(w,!0)},y=w=>{if(!w.length)return h(w,!1);const S=w.map(L=>L.id).map(L=>Ke(L,!1));S.length&&e.hooks.nodesChange.trigger(S)},E=w=>{if(!w.length)return d(w,!1);const S=w.map(L=>L.id).map(L=>Ke(L,!1));S.length&&e.hooks.edgesChange.trigger(S)},M=w=>{if(!w||!w.length)return p([],!1);const{changedNodes:S,changedEdges:L}=w.reduce((U,Y)=>{const X=Ke(Y.id,!1);return Gn(Y)?U.changedNodes.push(X):U.changedEdges.push(X),U},{changedNodes:[],changedEdges:[]});S.length&&e.hooks.nodesChange.trigger(S),L.length&&e.hooks.edgesChange.trigger(L)},_=w=>{var S;(S=e.d3Zoom)==null||S.scaleExtent([w,e.maxZoom]),e.minZoom=w},D=w=>{var S;(S=e.d3Zoom)==null||S.scaleExtent([e.minZoom,w]),e.maxZoom=w},A=w=>{var S;(S=e.d3Zoom)==null||S.translateExtent(w),e.translateExtent=w},b=w=>{e.nodeExtent=w,i(n.value)},V=w=>{e.nodesDraggable=w,e.nodesConnectable=w,e.elementsSelectable=w},I=w=>{const S=w instanceof Function?w(e.nodes):w;!e.initialized&&!S.length||(e.nodes=Bs(S,e.nodes,a,e.hooks.error.trigger))},N=w=>{const S=w instanceof Function?w(e.edges):w;if(!e.initialized&&!S.length)return;const L=e.isValidConnection?S.filter(U=>e.isValidConnection(U,{edges:e.edges,sourceNode:a(U.source),targetNode:a(U.target)})):S;e.edges=L.reduce((U,Y)=>{const X=a(Y.source),F=a(Y.target),ne=!X||typeof X>"u",re=!F||typeof F>"u";if(ne&&re?e.hooks.error.trigger(new Ee(ke.EDGE_SOURCE_TARGET_MISSING,Y.id,Y.source,Y.target)):(ne&&e.hooks.error.trigger(new Ee(ke.EDGE_SOURCE_MISSING,Y.id,Y.source)),re&&e.hooks.error.trigger(new Ee(ke.EDGE_TARGET_MISSING,Y.id,Y.target))),ne||re)return U;const xe=c(Y.id);return U.push({...qa(Y,Object.assign({},xe,e.defaultEdgeOptions)),sourceNode:X,targetNode:F}),U},[])},R=w=>{const S=w instanceof Function?w([...e.nodes,...e.edges]):w;!e.initialized&&!S.length||(I(S.filter(Gn)),N(S.filter(Lt)))},ee=w=>{const S=w instanceof Function?w(e.nodes):w,L=Bs(S,e.nodes,a,e.hooks.error.trigger).map(vi);L.length&&e.hooks.nodesChange.trigger(L)},K=w=>{const S=w instanceof Function?w(e.edges):w,L=(e.isValidConnection?S.filter(U=>e.isValidConnection(U,{edges:e.edges,sourceNode:a(U.source),targetNode:a(U.target)})):S).reduce((U,Y)=>{const X=Cu({...Y,...e.defaultEdgeOptions},e.edges,e.hooks.error.trigger);if(X){const F=a(X.source),ne=a(X.target),re=!F||typeof F>"u",xe=!ne||typeof ne>"u";if(re&&xe?e.hooks.error.trigger(new Ee(ke.EDGE_SOURCE_TARGET_MISSING,X.id,X.source,X.target)):(re&&e.hooks.error.trigger(new Ee(ke.EDGE_SOURCE_MISSING,X.id,X.source)),xe&&e.hooks.error.trigger(new Ee(ke.EDGE_TARGET_MISSING,X.id,X.target))),re||xe)return U;U.push(vi({...X,sourceNode:F,targetNode:ne}))}return U},[]);L.length&&e.hooks.edgesChange.trigger(L)},f=(w,S=!0)=>{const L=w instanceof Function?w(e.nodes):w,U=[],Y=[];L.forEach(X=>{const F=typeof X=="string"?a(X):X;if(!(_e(F.deletable)&&!F.deletable)&&(U.push(cr(F.id)),S)){const ne=Qe([F],e.edges).filter(re=>_e(re.deletable)?re.deletable:!0);Y.push(...ne.map(re=>cr(re.id)))}}),Y.length&&e.hooks.edgesChange.trigger(Y),U.length&&e.hooks.nodesChange.trigger(U)},$=w=>{const S=w instanceof Function?w(e.edges):w,L=[];S.forEach(U=>{const Y=typeof U=="string"?c(U):U;_e(Y.deletable)&&!Y.deletable||L.push(cr(typeof U=="string"?U:U.id))}),e.hooks.edgesChange.trigger(L)},m=(w,S,L=!0)=>Su(w,S,e.edges,c,L,e.hooks.error.trigger),C=w=>mi(w,e.nodes),T=w=>mi(w,e.edges),z=(w,S,L,U=!1)=>{U?e.connectionClickStartHandle=w:e.connectionStartHandle=w,e.connectionEndHandle=null,e.connectionStatus=null,S&&(e.connectionPosition=S)},q=(w,S=null,L=null)=>{e.connectionStartHandle&&(e.connectionPosition=w,e.connectionEndHandle=S,e.connectionStatus=L)},H=(w,S)=>{e.connectionPosition={x:NaN,y:NaN},e.connectionStatus=null,S?e.connectionClickStartHandle=null:e.connectionStartHandle=null},O=w=>{const S=_u(w),L=S?null:a(w.id);return!S&&!L?[null,null,S]:[S?w:Ps(L),L,S]},Q=(w,S=!0,L)=>{const[U,Y,X]=O(w);return U?(L||e.nodes).filter(F=>{if(!X&&(F.id===Y.id||!F.computedPosition))return!1;const ne=Ps(F),re=Sr(ne,U);return S&&re>0||re>=Number(w.width)*Number(w.height)}):[]},G=(w,S,L=!0)=>{const[U]=O(w);if(!U)return!1;const Y=Sr(U,S);return L&&Y>0||Y>=Number(w.width)*Number(w.height)},Z=(w,S)=>{const{viewport:L,dimensions:U,d3Zoom:Y,d3Selection:X,translateExtent:F}=e;if(!Y||!X||!w.x&&!w.y)return;const ne=Cn.translate(L.x+w.x,L.y+w.y).scale(L.zoom),re=[[0,0],[U.width,U.height]],xe=Y.constrain()(ne,re,F);S==null||S(xe),Y.transform(X,xe)},B=w=>{const S=w instanceof Function?w(e):w,L=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent","nodeExtent","hooks"],U=S.modelValue||S.nodes||S.edges?[]:void 0;U&&(S.modelValue&&U.push(...S.modelValue),S.nodes&&U.push(...S.nodes),S.edges&&U.push(...S.edges),R(U));const Y=()=>{typeof S.maxZoom<"u"&&D(S.maxZoom),typeof S.minZoom<"u"&&_(S.minZoom),typeof S.translateExtent<"u"&&A(S.translateExtent),typeof S.nodeExtent<"u"&&b(S.nodeExtent)};Object.keys(S).forEach(X=>{const F=S[X];!L.includes(X)&&_e(F)&&(e[X]=F)}),e.d3Zoom?Y():Ae(()=>e.d3Zoom).not.toBeUndefined().then(Y),e.initialized||(e.initialized=!0)};return{updateNodePositions:l,updateNodeDimensions:u,setElements:R,setNodes:I,setEdges:N,addNodes:ee,addEdges:K,removeNodes:f,removeEdges:$,findNode:a,findEdge:c,updateEdge:m,applyEdgeChanges:T,applyNodeChanges:C,addSelectedElements:k,addSelectedNodes:g,addSelectedEdges:v,setMinZoom:_,setMaxZoom:D,setTranslateExtent:A,setNodeExtent:b,removeSelectedElements:M,removeSelectedNodes:y,removeSelectedEdges:E,startConnection:z,updateConnection:q,endConnection:H,setInteractive:V,setState:B,getIntersectingNodes:Q,isNodeIntersecting:G,panBy:Z,fitView:async(w={padding:.1})=>{await Ae(()=>s.value.initialized).toBe(!0),s.value.fitView(w)},zoomIn:async w=>{await Ae(()=>s.value.initialized).toBe(!0),s.value.zoomIn(w)},zoomOut:async w=>{await Ae(()=>s.value.initialized).toBe(!0),s.value.zoomOut(w)},zoomTo:async(w,S)=>{await Ae(()=>s.value.initialized).toBe(!0),s.value.zoomTo(w,S)},setTransform:async(w,S)=>{await Ae(()=>s.value.initialized).toBe(!0),s.value.setTransform(w,S)},getTransform:()=>s.value.getTransform(),setCenter:async(w,S,L)=>{await Ae(()=>s.value.initialized).toBe(!0),s.value.setCenter(w,S,L)},fitBounds:async(w,S)=>{await Ae(()=>s.value.initialized).toBe(!0),s.value.fitBounds(w,S)},project:w=>s.value.project(w),toObject:()=>JSON.parse(JSON.stringify({nodes:e.nodes.map(w=>{const{computedPosition:S,handleBounds:L,selected:U,dimensions:Y,isParent:X,resizing:F,dragging:ne,initialized:re,...xe}=w;return xe}),edges:e.edges.map(w=>{const{selected:S,sourceNode:L,targetNode:U,...Y}=w;return Y}),position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom})),updateNodeInternals:i,$reset:()=>{e.edges=[],e.nodes=[],B(vc())},$destroy:()=>{}}}let hg=class nn{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){return nn.instance||(nn.instance=new nn),nn.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=vc(n),r=xl(o),s=te(()=>r.nodes.map(d=>d.id)),i=te(()=>r.edges.map(d=>d.id)),a=yf(r,s,i),c=dg(r,a,s,i),l={};Object.entries(r.hooks).forEach(([d,p])=>{const g=`on${d.charAt(0).toUpperCase()+d.slice(1)}`;l[g]=p.on});const u={};Object.entries(r.hooks).forEach(([d,p])=>{u[d]=p.trigger}),c.setState(r);const h={...l,...a,...c,...kl(r),emits:u,id:t,$destroy:()=>{this.remove(t)}};return this.set(t,h),h}getId(){return`vue-flow-${this.currentId++}`}};const ge=e=>{const t=hg.getInstance(),n=ba(),o=e==null?void 0:e.id,r=(n==null?void 0:n.vueFlowId)||o;let s,i=!1;if(n){const a=St(Rs,null);typeof a<"u"&&a!==null&&(s=a)}if(s||r&&(s=t.get(r)),!s||s&&o&&o!==s.id){const a=o??t.getId();s=t.create(a,e),n&&(i=!0)}else e&&s.setState(e);return n&&(Ct(Rs,s),n.vueFlowId=s.id,i&&wn(()=>{if(s){const a=t.get(s.id);a?a.$destroy():Ma(`No store instance found for id ${s.id} in storage.`)}})),s};function fg(e,t,n){const o=El();return o.run(()=>{[()=>{o.run(()=>{let r,s,i=!!(n.nodes.value.length||n.edges.value.length);r=Mt([e.modelValue,()=>{var a,c;return(c=(a=e.modelValue)==null?void 0:a.value)==null?void 0:c.length}],([a])=>{a&&Array.isArray(a)&&(s==null||s.pause(),n.setElements(a),!s&&!i&&a.length?i=!0:s==null||s.resume())}),s=Mt([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([a,c])=>{var l;(l=e.modelValue)!=null&&l.value&&Array.isArray(e.modelValue.value)&&(r==null||r.pause(),e.modelValue.value=[...a,...c],xt(()=>{r==null||r.resume()}))},{immediate:i}),Un(()=>{r==null||r.stop(),s==null||s.stop()})})},()=>{o.run(()=>{let r,s,i=!!n.nodes.value.length;r=Mt([e.nodes,()=>{var a,c;return(c=(a=e.nodes)==null?void 0:a.value)==null?void 0:c.length}],([a])=>{a&&Array.isArray(a)&&(s==null||s.pause(),n.setNodes(a),!s&&!i&&a.length?i=!0:s==null||s.resume())}),s=Mt([n.nodes,()=>n.nodes.value.length],([a])=>{var c;(c=e.nodes)!=null&&c.value&&Array.isArray(e.nodes.value)&&(r==null||r.pause(),e.nodes.value=[...a],xt(()=>{r==null||r.resume()}))},{immediate:i}),Un(()=>{r==null||r.stop(),s==null||s.stop()})})},()=>{o.run(()=>{let r,s,i=!!n.edges.value.length;r=Mt([e.edges,()=>{var a,c;return(c=(a=e.edges)==null?void 0:a.value)==null?void 0:c.length}],([a])=>{a&&Array.isArray(a)&&(s==null||s.pause(),n.setEdges(a),!s&&!i&&a.length?i=!0:s==null||s.resume())}),s=Mt([n.edges,()=>n.edges.value.length],([a])=>{var c;(c=e.edges)!=null&&c.value&&Array.isArray(e.edges.value)&&(r==null||r.pause(),e.edges.value=[...a],xt(()=>{r==null||r.resume()}))},{immediate:i}),Un(()=>{r==null||r.stop(),s==null||s.stop()})})},()=>{o.run(()=>{me(()=>t.minZoom,()=>{t.minZoom&&_e(t.minZoom)&&n.setMinZoom(t.minZoom)})})},()=>{o.run(()=>{me(()=>t.maxZoom,()=>{t.maxZoom&&_e(t.maxZoom)&&n.setMaxZoom(t.maxZoom)})})},()=>{o.run(()=>{me(()=>t.translateExtent,()=>{t.translateExtent&&_e(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)})})},()=>{o.run(()=>{me(()=>t.nodeExtent,()=>{t.nodeExtent&&_e(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)})})},()=>{o.run(()=>{me(()=>t.applyDefault,()=>{_e(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)}),me(n.applyDefault,(r,s,i)=>{n.applyDefault.value?(n.onNodesChange(n.applyNodeChanges),n.onEdgesChange(n.applyEdgeChanges)):(n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges)),i(()=>{n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges)})},{immediate:!0})})},()=>{o.run(()=>{const r=async s=>{let i=s;ot(t.autoConnect)&&(i=await t.autoConnect(s)),i!==!1&&n.addEdges([i])};me(()=>t.autoConnect,()=>{_e(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)}),me(n.autoConnect,(s,i,a)=>{s?n.onConnect(r):n.hooks.value.connect.off(r),a(()=>{n.hooks.value.connect.off(r)})},{immediate:!0})})},()=>{const r=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];Object.keys(t).forEach(s=>{if(!r.includes(s)){const i=P(t,s),a=n[s];o.run(()=>{me(i,c=>{_e(c)&&(a.value=c)},{flush:"pre"})})}})}].forEach(r=>r())}),()=>o.stop()}function yi(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const pg={name:"Pane",compatConfig:{MODE:3}},gg=de({...pg,props:{isSelecting:{type:Boolean}},setup(e){const{id:t,vueFlowRef:n,getNodes:o,getEdges:r,viewport:s,emits:i,userSelectionActive:a,removeSelectedElements:c,panOnDrag:l,userSelectionRect:u,elementsSelectable:h,nodesSelectionActive:d,addSelectedElements:p,getSelectedEdges:g,getSelectedNodes:v,removeNodes:k,removeEdges:y,selectionMode:E,deleteKeyCode:M,multiSelectionKeyCode:_,multiSelectionActive:D}=ge(),A=se(null),b=se(0),V=se(0),I=se(),N=te(()=>h.value&&(e.isSelecting||a.value));ln(M,q=>{if(!q)return;const H=o.value.reduce((O,Q)=>((!Q.selected&&Q.parentNode&&O.find(G=>G.id===Q.parentNode)||Q.selected)&&O.push(Q),O),[]);(H||g.value)&&(g.value.length>0&&y(g.value),H.length>0&&k(H),d.value=!1,c())}),ln(_,q=>{D.value=q});function R(){a.value=!1,u.value=null,b.value=0,V.value=0}function ee(q){q.target!==A.value||N.value||(i.paneClick(q),c(),d.value=!1)}function K(q){var H;if(q.target===A.value){if(Array.isArray(l.value)&&(H=l.value)!=null&&H.includes(2)){q.preventDefault();return}i.paneContextMenu(q)}}function f(q){q.target===A.value&&i.paneScroll(q)}function $(q){if(I.value=n.value.getBoundingClientRect(),!N.value||!h||!e.isSelecting||q.button!==0||q.target!==A.value||!I.value)return;const{x:H,y:O}=yi(q,I.value);c(),u.value={width:0,height:0,startX:H,startY:O,x:H,y:O},a.value=!0,i.selectionStart(q)}function m(q){if(!e.isSelecting||!I.value||!u.value)return;if(!N.value)return i.paneMouseMove(q);a.value||(a.value=!0),d.value&&(d.value=!1);const H=yi(q,I.value),O=u.value.startX??0,Q=u.value.startY??0,G={...u.value,x:H.x<O?H.x:O,y:H.y<Q?H.y:Q,width:Math.abs(H.x-O),height:Math.abs(H.y-Q)},Z=Fa(o.value,u.value,s.value,E.value===es.Partial),B=Qe(Z,r.value);b.value=Z.length,V.value=B.length,u.value=G,p([...Z,...B])}function C(q){N.value&&q.button===0&&(!a.value&&u.value&&q.target===A.value&&ee(q),d.value=b.value>0,R(),i.selectionEnd(q))}function T(q){var H;if(!N.value)return i.paneMouseLeave(q);a.value&&(d.value=b.value>0,(H=i.selectionEnd)==null||H.call(i,q)),R()}function z(q){N.value||i.paneMouseEnter(q)}return(q,H)=>(j(),J("div",{ref_key:"container",ref:A,key:`pane-${x(t)}`,class:be(["vue-flow__pane vue-flow__container",{selection:e.isSelecting}]),onClick:ee,onContextmenu:K,onWheelPassive:f,onMouseenter:z,onMousedown:$,onMousemove:m,onMouseup:C,onMouseleave:T},[he(q.$slots,"default"),x(a)&&x(u)?(j(),ve(pf,{key:0})):pe("",!0),x(d)&&x(v).length?(j(),ve(hf,{key:1})):pe("",!0)],34))}}),mg={class:"vue-flow__nodes vue-flow__container"},vg={name:"Nodes",compatConfig:{MODE:3}},yg=de({...vg,setup(e){const t=St(Eo),n=ge(),o=P(n,"nodesDraggable"),r=P(n,"nodesFocusable"),s=P(n,"elementsSelectable"),i=P(n,"nodesConnectable"),a=P(n,"getNodes"),c=P(n,"getNodesInitialized"),l=P(n,"getNodeTypes"),u=P(n,"updateNodeDimensions"),h=P(n,"emits");let d=se();Ae(()=>a.value.length>0&&c.value.length===a.value.length).toBe(!0).then(()=>{xt(()=>{h.value.nodesInitialized(c.value)})}),ut(()=>{d.value=new ResizeObserver(E=>{const M=E.map(_=>({id:_.target.getAttribute("data-id"),nodeElement:_.target,forceUpdate:!0}));u.value(M)})}),_a(()=>{var E;return(E=d.value)==null?void 0:E.disconnect()});function p(E){return typeof E>"u"?o.value:E}function g(E){return typeof E>"u"?s.value:E}function v(E){return typeof E>"u"?i.value:E}function k(E){return typeof E>"u"?r.value:E}function y(E,M){const _=E||"default";let D=M??l.value[_];const A=xo();if(typeof D=="string"&&A){const V=Object.keys(A.appContext.components);V&&V.includes(_)&&(D=Ea(_,!1))}return typeof D!="string"?D:(t==null?void 0:t[`node-${_}`])||(h.value.error(new Ee(ke.NODE_TYPE_MISSING,D)),!1)}return(E,M)=>(j(),J("div",mg,[x(d)?(j(!0),J(ye,{key:0},Me(x(a),_=>(j(),ve(x(Rh),{id:_.id,key:_.id,"resize-observer":x(d),type:y(_.type,_.template),name:_.type||"default",draggable:p(_.draggable),selectable:g(_.selectable),connectable:v(_.connectable),focusable:k(_.focusable),node:_},null,8,["id","resize-observer","type","name","draggable","selectable","connectable","focusable","node"]))),128)):pe("",!0)]))}}),_g=["id","markerWidth","markerHeight","markerUnits","orient"],bg=["stroke","stroke-width","fill"],wg=["stroke","stroke-width"],xg={name:"MarkerType",compatConfig:{MODE:3}},kg=de({...xg,props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(j(),J("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type===x(Ar).ArrowClosed?(j(),J("polyline",{key:0,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:e.color,points:"-5,-4 0,0 -5,4 -5,-4"},null,8,bg)):pe("",!0),e.type===x(Ar).Arrow?(j(),J("polyline",{key:1,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"},null,8,wg)):pe("",!0)],8,_g))}}),Eg={name:"MarkerDefinitions",compatConfig:{MODE:3}},Cg=de({...Eg,setup(e){const t=ge(),n=P(t,"id"),o=P(t,"edges"),r=P(t,"connectionLineOptions"),s=P(t,"defaultMarkerColor"),i=te(()=>{const a=[],c=[],l=u=>{if(u){const h=yt(u,n.value);a.includes(h)||(typeof u=="object"?c.push({...u,id:h,color:u.color||s.value}):c.push({id:h,color:s.value,type:u}),a.push(h))}};return[r.value.markerEnd,r.value.markerStart].forEach(l),o.value.reduce((u,h)=>([h.markerStart,h.markerEnd].forEach(l),u.sort((d,p)=>d.id.localeCompare(p.id))),c),c});return(a,c)=>(j(),J("defs",null,[(j(!0),J(ye,null,Me(x(i),l=>(j(),ve(kg,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))]))}}),Sg={key:0,class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Ag={name:"Edges",compatConfig:{MODE:3}},$g=de({...Ag,setup(e){const t=St(Eo),n=ge(),o=P(n,"connectionStartHandle"),r=P(n,"nodesConnectable"),s=P(n,"edgesUpdatable"),i=P(n,"edgesFocusable"),a=P(n,"elementsSelectable"),c=P(n,"getSelectedNodes"),l=P(n,"findNode"),u=P(n,"getEdges"),h=P(n,"getNodesInitialized"),d=P(n,"getEdgeTypes"),p=P(n,"elevateEdgesOnSelect"),g=P(n,"dimensions"),v=P(n,"emits"),k=Qo(()=>{var b;return(b=o.value)==null?void 0:b.nodeId},()=>{var b;return(b=o.value)!=null&&b.nodeId?l.value(o.value.nodeId):!1}),y=Qo(()=>{var b;return(b=o.value)==null?void 0:b.nodeId},()=>{var b,V;return!!(k.value&&(typeof k.value.connectable>"u"?r.value:k.value.connectable)&&(b=o.value)!=null&&b.nodeId&&(V=o.value)!=null&&V.type)}),E=Qo([()=>u.value.map(b=>b.zIndex),()=>p.value?[c.value.length]:[0],()=>p.value?h.value.map(b=>b.computedPosition.z):[]],()=>Tu(u.value,l.value,p.value));function M(b){return typeof b>"u"?a.value:b}function _(b){return typeof b>"u"?s.value:b}function D(b){return typeof b>"u"?i.value:b}function A(b,V){const I=b||"default";let N=V??d.value[I];const R=xo();if(typeof N=="string"&&R){const K=Object.keys(R.appContext.components);K&&K.includes(I)&&(N=Ea(I,!1))}return N&&typeof N!="string"?N:(t==null?void 0:t[`edge-${I}`])||(v.value.error(new Ee(ke.EDGE_TYPE_MISSING,N)),!1)}return(b,V)=>x(g).width&&x(g).height?(j(),J(ye,{key:0},[(j(!0),J(ye,null,Me(x(E),I=>(j(),J("svg",{key:I.level,class:"vue-flow__edges vue-flow__container",style:Te(`z-index: ${I.level}`)},[I.isMaxLevel?(j(),ve(Cg,{key:0})):pe("",!0),ie("g",null,[(j(!0),J(ye,null,Me(I.edges,N=>(j(),ve(x(rf),{id:N.id,key:N.id,edge:N,type:A(N.type,N.template),name:N.type||"default",selectable:M(N.selectable),updatable:_(N.updatable),focusable:D(N.focusable)},null,8,["id","edge","type","name","selectable","updatable","focusable"]))),128))])],4))),128)),x(y)&&x(k)?(j(),J("svg",Sg,[ce(lf,{"source-node":x(k)},null,8,["source-node"])])):pe("",!0)],64)):pe("",!0)}}),Dg=ie("div",{class:"vue-flow__edge-labels"},null,-1),Ng={name:"Transform",compatConfig:{MODE:3}},Mg=de({...Ng,setup(e){const{id:t,viewport:n,emits:o,d3Zoom:r,d3Selection:s,dimensions:i,...a}=ge(),c=se(!Zr);return Ae(()=>r.value&&s.value&&i.value.width>0&&i.value.height>0).toBeTruthy().then(()=>{o.paneReady({id:t,viewport:n,emits:o,d3Zoom:r,d3Selection:s,dimensions:i,...a}),setTimeout(()=>{c.value=!0},0)}),(l,u)=>(j(),J("div",{key:`transform-${x(t)}`,class:"vue-flow__transformationpane vue-flow__container",style:Te({transform:`translate(${x(n).x}px,${x(n).y}px) scale(${x(n).zoom})`,opacity:x(c)?void 0:0})},[ce($g),Dg,ce(yg),he(l.$slots,"default")],4))}}),Tg={name:"Viewport",compatConfig:{MODE:3}},qg=de({...Tg,setup(e){const t=ge(),n=P(t,"id"),o=P(t,"minZoom"),r=P(t,"maxZoom"),s=P(t,"defaultViewport"),i=P(t,"translateExtent"),a=P(t,"dimensions"),c=P(t,"zoomActivationKeyCode"),l=P(t,"selectionKeyCode"),u=P(t,"panActivationKeyCode"),h=P(t,"panOnScroll"),d=P(t,"panOnScrollMode"),p=P(t,"panOnScrollSpeed"),g=P(t,"panOnDrag"),v=P(t,"zoomOnDoubleClick"),k=P(t,"zoomOnPinch"),y=P(t,"zoomOnScroll"),E=P(t,"preventScrolling"),M=P(t,"noWheelClassName"),_=P(t,"noPanClassName"),D=P(t,"setState"),A=P(t,"emits"),b=P(t,"connectionStartHandle"),V=P(t,"userSelectionActive"),I=P(t,"paneDragging"),N=se();let R=se(!1),ee=se(!1),K=se(!1),f=se(0);const $=ln(u.value),m=te(()=>!R.value&&g.value&&$.value),C=te(()=>l.value!==!0&&R.value||l.value===!0&&m.value!==!0);let T=se({x:0,y:0,zoom:0});ut(()=>{lu(N,O);const G=Qr();Kr(G,"resize",O)}),ut(()=>{const G=N.value,Z=G.getBoundingClientRect(),B=cg().scaleExtent([o.value,r.value]).translateExtent(i.value),w=ze(G).call(B),S=w.on("wheel.zoom"),L=Cn.translate(s.value.x??0,s.value.y??0).scale(Rt(s.value.zoom??1,o.value,r.value)),U=[[0,0],[Z.width,Z.height]],Y=B.constrain()(L,U,i.value);B.transform(w,Y),D.value({d3Zoom:B,d3Selection:w,d3ZoomHandler:S,viewport:{x:Y.x,y:Y.y,zoom:Y.k},viewportRef:G}),ln(l.value,F=>{R.value=F});const X=ln(c.value);eo(()=>{R.value&&V.value&&!ee.value?B.on("zoom",null):!R.value&&!V.value&&B.on("zoom",F=>{D.value({viewport:{x:F.transform.x,y:F.transform.y,zoom:F.transform.k}});const ne=H(F.transform);K.value=z(g.value,f.value??0),A.value.viewportChange(ne),A.value.move({event:F,flowTransform:ne})})}),B.on("start",F=>{var ne;if(!F.sourceEvent)return null;f.value=F.sourceEvent.button,ee.value=!0;const re=H(F.transform);((ne=F.sourceEvent)==null?void 0:ne.type)==="mousedown"&&D.value({paneDragging:!0}),T.value=re,A.value.viewportChangeStart(re),A.value.moveStart({event:F,flowTransform:re})}),B.on("end",F=>{if(!F.sourceEvent)return null;if(ee.value=!1,D.value({paneDragging:!1}),z(g.value,f.value??0)&&!K.value&&A.value.paneContextMenu(F.sourceEvent),K.value=!1,q(T.value,F.transform)){const ne=H(F.transform);T.value=ne,A.value.viewportChangeEnd(ne),A.value.moveEnd({event:F,flowTransform:ne})}}),eo(()=>{h.value&&!X.value&&!V.value?w.on("wheel.zoom",F=>{if(Q(F,M.value))return!1;F.preventDefault(),F.stopImmediatePropagation();const ne=w.property("__zoom").k||1;if(F.ctrlKey&&k.value){const Ko=Re(F),yl=-F.deltaY*(F.deltaMode===1?.05:F.deltaMode?1:.002)*10,_l=ne*2**yl;B.scaleTo(w,_l,Ko);return}const re=F.deltaMode===1?20:1,xe=d.value===oo.Vertical?0:F.deltaX*re,Nt=d.value===oo.Horizontal?0:F.deltaY*re;B.translateBy(w,-(xe/ne)*p.value,-(Nt/ne)*p.value)},{passive:!1}):typeof S<"u"&&w.on("wheel.zoom",function(F,ne){if(!E.value||Q(F,M.value))return null;F.preventDefault(),S.call(this,F,ne)},{passive:!1})}),B.filter(F=>{var ne,re;const xe=X.value||y.value,Nt=k.value&&F.ctrlKey;if(F.button===1&&F.type==="mousedown"&&((ne=F.target)!=null&&ne.closest(".vue-flow__node")||(re=F.target)!=null&&re.closest(".vue-flow__edge")))return!0;if(!g.value&&!xe&&!h.value&&!v.value&&!k.value||V.value||!v.value&&F.type==="dblclick"||Q(F,M.value)&&F.type==="wheel"||Q(F,_.value)&&F.type!=="wheel"||!k.value&&F.ctrlKey&&F.type==="wheel"||!xe&&!h.value&&!Nt&&F.type==="wheel"||!g.value&&(F.type==="mousedown"||F.type==="touchstart")||Array.isArray(g.value)&&!g.value.includes(F.button)&&(F.type==="mousedown"||F.type==="touchstart"))return!1;const Ko=Array.isArray(g.value)&&g.value.includes(F.button)||!F.button||F.button<=1;return(!F.ctrlKey||F.type==="wheel")&&Ko})});function z(G,Z){return Z===2&&Array.isArray(G)&&G.includes(2)}function q(G,Z){return G.x!==Z.x&&!isNaN(Z.x)||G.y!==Z.y&&!isNaN(Z.y)||G.zoom!==Z.k&&!isNaN(Z.k)}function H(G){return{x:G.x,y:G.y,zoom:G.k}}function O(){if(!N.value)return;const{width:G,height:Z}=ko(N.value);(G===0||Z===0)&&A.value.error(new Ee(ke.MISSING_VIEWPORT_DIMENSIONS)),a.value.width=G||500,a.value.height=Z||500}function Q(G,Z){return G.target.closest(`.${Z}`)}return(G,Z)=>(j(),J(ye,null,[(j(),J("div",{ref_key:"viewportEl",ref:N,key:`viewport-${x(n)}`,class:"vue-flow__viewport vue-flow__container"},[ce(gg,{"is-selecting":x(C),class:be({connecting:!!x(b),dragging:x(I),draggable:!!x(g)})},{default:fe(()=>[ce(Mg,null,{default:fe(()=>[he(G.$slots,"zoom-pane")]),_:3})]),_:3},8,["is-selecting","class"])])),he(G.$slots,"default")],64))}}),zg=["id"],Ig=["id"],Pg=["id"],Og={name:"A11yDescriptions",compatConfig:{MODE:3}},Fg=de({...Og,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=ge(),r={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"};return(s,i)=>(j(),J(ye,null,[ie("div",{id:`${x(lc)}-${x(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+we(x(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,zg),ie("div",{id:`${x(uc)}-${x(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,Ig),x(n)?pe("",!0):(j(),J("div",{key:0,id:`${x(Ph)}-${x(t)}`,"aria-live":"assertive","aria-atomic":"true",style:r},we(x(o)),9,Pg))],64))}}),Bg={name:"VueFlow",compatConfig:{MODE:3}},Rg=de({...Bg,props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:null,isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:null,selectionKeyCode:null,multiSelectionKeyCode:null,zoomActivationKeyCode:null,panActivationKeyCode:null,snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:null,maxZoom:null,defaultViewport:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:null,edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null,elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},__experimentalFeatures:null},emits:["nodesChange","edgesChange","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","nodesInitialized","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneReady","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","updateNodeInternals","error","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,r=cn(o,"modelValue",n),s=cn(o,"nodes",n),i=cn(o,"edges",n),{vueFlowRef:a,hooks:c,getNodeTypes:l,getEdgeTypes:u,...h}=ge(o),d=fg({modelValue:r,nodes:s,edges:i},o,{vueFlowRef:a,hooks:c,getNodeTypes:l,getEdgeTypes:u,...h});vu(n,c);const p=se();return Ct(Eo,wa()),bl(()=>{d()}),ut(()=>{a.value=p.value}),t({vueFlowRef:a,hooks:c,getNodeTypes:l,getEdgeTypes:u,...h}),(g,v)=>(j(),J("div",{ref_key:"el",ref:p,class:"vue-flow"},[ce(qg,null,{nodes:fe(()=>[(j(!0),J(ye,null,Me(Object.keys(x(l)),k=>he(g.$slots,`node-${k}`)),256))]),edges:fe(()=>[(j(!0),J(ye,null,Me(Object.keys(x(u)),k=>he(g.$slots,`edge-${k}`)),256))]),"connection-name":fe(()=>[he(g.$slots,"connection-line")]),"zoom-pane":fe(()=>[he(g.$slots,"zoom-pane")]),default:fe(()=>[he(g.$slots,"default")]),_:3}),ce(Fg)],512))}}),Lg={name:"Panel",compatConfig:{MODE:3}},Tc=de({...Lg,props:{position:null},setup(e){const t=e,{userSelectionActive:n}=ge(),o=te(()=>`${t.position}`.split("-"));return(r,s)=>(j(),J("div",{class:be(["vue-flow__panel",x(o)]),style:Te({pointerEvents:x(n)?"none":"all"})},[he(r.$slots,"default")],6))}}),Vg={name:"ControlButton",compatConfig:{MODE:3}},Hg=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Ug={class:"vue-flow__controls-button"};function Gg(e,t,n,o,r,s){return j(),J("button",Ug,[he(e.$slots,"default")])}const on=Hg(Vg,[["render",Gg]]),jg={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Yg=ie("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),Xg=[Yg];function Zg(e,t){return j(),J("svg",jg,Xg)}const Wg={render:Zg},Kg={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Qg=ie("path",{d:"M0 0h32v4.2H0z"},null,-1),Jg=[Qg];function em(e,t){return j(),J("svg",Kg,Jg)}const tm={render:em},nm={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},om=ie("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),rm=[om];function sm(e,t){return j(),J("svg",nm,rm)}const im={render:sm},am={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},cm=ie("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),lm=[cm];function um(e,t){return j(),J("svg",am,lm)}const dm={render:um},hm={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fm=ie("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),pm=[fm];function gm(e,t){return j(),J("svg",hm,pm)}const mm={render:gm},vm={name:"Controls",compatConfig:{MODE:3}},ym=de({...vm,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:null,position:{default:Ra.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:r,setInteractive:s,zoomIn:i,zoomOut:a,fitView:c}=ge(),l=te(()=>n.value&&o.value&&r.value);function u(){i(),t("zoomIn")}function h(){a(),t("zoomOut")}function d(){c(e.fitViewParams),t("fitView")}function p(){s(!l.value),t("interactionChange",!l.value)}return(g,v)=>(j(),ve(x(Tc),{class:"vue-flow__controls",position:e.position},{default:fe(()=>[he(g.$slots,"top"),e.showZoom?(j(),J(ye,{key:0},[he(g.$slots,"control-zoom-in",{},()=>[ce(on,{class:"vue-flow__controls-zoomin",onClick:u},{default:fe(()=>[he(g.$slots,"icon-zoom-in",{},()=>[(j(),ve(gt(x(Wg))))])]),_:3})]),he(g.$slots,"control-zoom-out",{},()=>[ce(on,{class:"vue-flow__controls-zoomout",onClick:h},{default:fe(()=>[he(g.$slots,"icon-zoom-out",{},()=>[(j(),ve(gt(x(tm))))])]),_:3})])],64)):pe("",!0),e.showFitView?he(g.$slots,"control-fit-view",{key:1},()=>[ce(on,{class:"vue-flow__controls-fitview",onClick:d},{default:fe(()=>[he(g.$slots,"icon-fit-view",{},()=>[(j(),ve(gt(x(im))))])]),_:3})]):pe("",!0),e.showInteractive?he(g.$slots,"control-interactive",{key:2},()=>[e.showInteractive?(j(),ve(on,{key:0,class:"vue-flow__controls-interactive",onClick:p},{default:fe(()=>[x(l)?he(g.$slots,"icon-unlock",{key:0},()=>[(j(),ve(gt(x(mm))))]):pe("",!0),x(l)?pe("",!0):he(g.$slots,"icon-lock",{key:1},()=>[(j(),ve(gt(x(dm))))])]),_:3})):pe("",!0)]):pe("",!0),he(g.$slots,"default")]),_:3},8,["position"]))}});var Le=(e=>(e.Lines="lines",e.Dots="dots",e))(Le||{});const _m=function({dimensions:e,size:t,color:n}){return ue("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},bm=function({radius:e,color:t}){return ue("circle",{cx:e,cy:e,r:e,fill:t})};Le.Lines+"",Le.Dots+"";const wm=["id","x","y","width","height","patternTransform"],xm={key:2,height:"100",width:"100"},km=["fill"],Em=["x","y","fill"],Cm={name:"Background",compatConfig:{MODE:3}},Sm=de({...Cm,props:{id:null,variant:{default:Le.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:null,bgColor:null,height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:2}},setup(e){const t={[Le.Dots]:"#81818a",[Le.Lines]:"#eee"},{id:n,viewport:o}=ge(),r=te(()=>{const[a,c]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],l=[a*o.value.zoom||1,c*o.value.zoom||1],u=e.size*o.value.zoom,h=e.variant===Le.Dots?[u/e.offset,u/e.offset]:[l[0]/e.offset,l[1]/e.offset];return{scaledGap:l,offset:h,size:u}}),s=te(()=>`pattern-${n}${e.id?`-${e.id}`:""}`),i=te(()=>e.patternColor||t[e.variant||Le.Dots]);return(a,c)=>(j(),J("svg",{class:"vue-flow__background vue-flow__container",style:Te({height:`${e.height>100?100:e.height}%`,width:`${e.width>100?100:e.width}%`})},[he(a.$slots,"pattern-container",{id:x(s)},()=>[ie("pattern",{id:x(s),x:x(o).x%x(r).scaledGap[0],y:x(o).y%x(r).scaledGap[1],width:x(r).scaledGap[0],height:x(r).scaledGap[1],patternTransform:`translate(-${x(r).offset[0]},-${x(r).offset[1]})`,patternUnits:"userSpaceOnUse"},[he(a.$slots,"pattern",{},()=>[e.variant===x(Le).Lines?(j(),ve(x(_m),{key:0,size:e.lineWidth,color:x(i),dimensions:x(r).scaledGap},null,8,["size","color","dimensions"])):e.variant===x(Le).Dots?(j(),ve(x(bm),{key:1,color:x(i),radius:x(r).size/e.offset},null,8,["color","radius"])):pe("",!0),e.bgColor?(j(),J("svg",xm,[ie("rect",{width:"100%",height:"100%",fill:e.bgColor},null,8,km)])):pe("",!0)])],8,wm)]),ie("rect",{x:e.x,y:e.y,width:"100%",height:"100%",fill:`url(#${x(s)})`},null,8,Em),he(a.$slots,"default",{id:x(s)})],4))}});var Am={value:()=>{}};function us(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Wn(n)}function Wn(e){this._=e}function $m(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Wn.prototype=us.prototype={constructor:Wn,on:function(e,t){var n=this._,o=$m(e+"",n),r,s=-1,i=o.length;if(arguments.length<2){for(;++s<i;)if((r=(e=o[s]).type)&&(r=Dm(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(r=(e=o[s]).type)n[r]=_i(n[r],e.name,t);else if(t==null)for(r in n)n[r]=_i(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Wn(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,s;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,r=s.length;o<r;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)}};function Dm(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function _i(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Am,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Fr="http://www.w3.org/1999/xhtml";const bi={svg:"http://www.w3.org/2000/svg",xhtml:Fr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fo(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),bi.hasOwnProperty(t)?{space:bi[t],local:e}:e}function Nm(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Fr&&t.documentElement.namespaceURI===Fr?t.createElement(e):t.createElementNS(n,e)}}function Mm(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qc(e){var t=Fo(e);return(t.local?Mm:Nm)(t)}function Tm(){}function ds(e){return e==null?Tm:function(){return this.querySelector(e)}}function qm(e){typeof e!="function"&&(e=ds(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=new Array(i),c,l,u=0;u<i;++u)(c=s[u])&&(l=e.call(c,c.__data__,u,s))&&("__data__"in c&&(l.__data__=c.__data__),a[u]=l);return new De(o,this._parents)}function zm(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Im(){return[]}function zc(e){return e==null?Im:function(){return this.querySelectorAll(e)}}function Pm(e){return function(){return zm(e.apply(this,arguments))}}function Om(e){typeof e=="function"?e=Pm(e):e=zc(e);for(var t=this._groups,n=t.length,o=[],r=[],s=0;s<n;++s)for(var i=t[s],a=i.length,c,l=0;l<a;++l)(c=i[l])&&(o.push(e.call(c,c.__data__,l,i)),r.push(c));return new De(o,r)}function Ic(e){return function(){return this.matches(e)}}function Pc(e){return function(t){return t.matches(e)}}var Fm=Array.prototype.find;function Bm(e){return function(){return Fm.call(this.children,e)}}function Rm(){return this.firstElementChild}function Lm(e){return this.select(e==null?Rm:Bm(typeof e=="function"?e:Pc(e)))}var Vm=Array.prototype.filter;function Hm(){return Array.from(this.children)}function Um(e){return function(){return Vm.call(this.children,e)}}function Gm(e){return this.selectAll(e==null?Hm:Um(typeof e=="function"?e:Pc(e)))}function jm(e){typeof e!="function"&&(e=Ic(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],c,l=0;l<i;++l)(c=s[l])&&e.call(c,c.__data__,l,s)&&a.push(c);return new De(o,this._parents)}function Oc(e){return new Array(e.length)}function Ym(){return new De(this._enter||this._groups.map(Oc),this._parents)}function fo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}fo.prototype={constructor:fo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Xm(e){return function(){return e}}function Zm(e,t,n,o,r,s){for(var i=0,a,c=t.length,l=s.length;i<l;++i)(a=t[i])?(a.__data__=s[i],o[i]=a):n[i]=new fo(e,s[i]);for(;i<c;++i)(a=t[i])&&(r[i]=a)}function Wm(e,t,n,o,r,s,i){var a,c,l=new Map,u=t.length,h=s.length,d=new Array(u),p;for(a=0;a<u;++a)(c=t[a])&&(d[a]=p=i.call(c,c.__data__,a,t)+"",l.has(p)?r[a]=c:l.set(p,c));for(a=0;a<h;++a)p=i.call(e,s[a],a,s)+"",(c=l.get(p))?(o[a]=c,c.__data__=s[a],l.delete(p)):n[a]=new fo(e,s[a]);for(a=0;a<u;++a)(c=t[a])&&l.get(d[a])===c&&(r[a]=c)}function Km(e){return e.__data__}function Qm(e,t){if(!arguments.length)return Array.from(this,Km);var n=t?Wm:Zm,o=this._parents,r=this._groups;typeof e!="function"&&(e=Xm(e));for(var s=r.length,i=new Array(s),a=new Array(s),c=new Array(s),l=0;l<s;++l){var u=o[l],h=r[l],d=h.length,p=Jm(e.call(u,u&&u.__data__,l,o)),g=p.length,v=a[l]=new Array(g),k=i[l]=new Array(g),y=c[l]=new Array(d);n(u,h,v,k,y,p,t);for(var E=0,M=0,_,D;E<g;++E)if(_=v[E]){for(E>=M&&(M=E+1);!(D=k[M])&&++M<g;);_._next=D||null}}return i=new De(i,o),i._enter=a,i._exit=c,i}function Jm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ev(){return new De(this._exit||this._groups.map(Oc),this._parents)}function tv(e,t,n){var o=this.enter(),r=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),o&&r?o.merge(r).order():r}function nv(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,s=o.length,i=Math.min(r,s),a=new Array(r),c=0;c<i;++c)for(var l=n[c],u=o[c],h=l.length,d=a[c]=new Array(h),p,g=0;g<h;++g)(p=l[g]||u[g])&&(d[g]=p);for(;c<r;++c)a[c]=n[c];return new De(a,this._parents)}function ov(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,s=o[r],i;--r>=0;)(i=o[r])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function rv(e){e||(e=sv);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s){for(var i=n[s],a=i.length,c=r[s]=new Array(a),l,u=0;u<a;++u)(l=i[u])&&(c[u]=l);c.sort(t)}return new De(r,this._parents).order()}function sv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function iv(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function av(){return Array.from(this)}function cv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length;r<s;++r){var i=o[r];if(i)return i}return null}function lv(){let e=0;for(const t of this)++e;return e}function uv(){return!this.node()}function dv(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],s=0,i=r.length,a;s<i;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function hv(e){return function(){this.removeAttribute(e)}}function fv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pv(e,t){return function(){this.setAttribute(e,t)}}function gv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function yv(e,t){var n=Fo(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?fv:hv:typeof t=="function"?n.local?vv:mv:n.local?gv:pv)(n,t))}function Fc(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _v(e){return function(){this.style.removeProperty(e)}}function bv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function wv(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function xv(e,t,n){return arguments.length>1?this.each((t==null?_v:typeof t=="function"?wv:bv)(e,t,n??"")):Ut(this.node(),e)}function Ut(e,t){return e.style.getPropertyValue(t)||Fc(e).getComputedStyle(e,null).getPropertyValue(t)}function kv(e){return function(){delete this[e]}}function Ev(e,t){return function(){this[e]=t}}function Cv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Sv(e,t){return arguments.length>1?this.each((t==null?kv:typeof t=="function"?Cv:Ev)(e,t)):this.node()[e]}function Bc(e){return e.trim().split(/^|\s+/)}function hs(e){return e.classList||new Rc(e)}function Rc(e){this._node=e,this._names=Bc(e.getAttribute("class")||"")}Rc.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Lc(e,t){for(var n=hs(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function Vc(e,t){for(var n=hs(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function Av(e){return function(){Lc(this,e)}}function $v(e){return function(){Vc(this,e)}}function Dv(e,t){return function(){(t.apply(this,arguments)?Lc:Vc)(this,e)}}function Nv(e,t){var n=Bc(e+"");if(arguments.length<2){for(var o=hs(this.node()),r=-1,s=n.length;++r<s;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Dv:t?Av:$v)(n,t))}function Mv(){this.textContent=""}function Tv(e){return function(){this.textContent=e}}function qv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function zv(e){return arguments.length?this.each(e==null?Mv:(typeof e=="function"?qv:Tv)(e)):this.node().textContent}function Iv(){this.innerHTML=""}function Pv(e){return function(){this.innerHTML=e}}function Ov(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Fv(e){return arguments.length?this.each(e==null?Iv:(typeof e=="function"?Ov:Pv)(e)):this.node().innerHTML}function Bv(){this.nextSibling&&this.parentNode.appendChild(this)}function Rv(){return this.each(Bv)}function Lv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vv(){return this.each(Lv)}function Hv(e){var t=typeof e=="function"?e:qc(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Uv(){return null}function Gv(e,t){var n=typeof e=="function"?e:qc(e),o=t==null?Uv:typeof t=="function"?t:ds(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function jv(){var e=this.parentNode;e&&e.removeChild(this)}function Yv(){return this.each(jv)}function Xv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wv(e){return this.select(e?Zv:Xv)}function Kv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Qv(e){return function(t){e.call(this,t,this.__data__)}}function Jv(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function e0(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function t0(e,t,n){return function(){var o=this.__on,r,s=Qv(t);if(o){for(var i=0,a=o.length;i<a;++i)if((r=o[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(r):this.__on=[r]}}function n0(e,t,n){var o=Jv(e+""),r,s=o.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,u;c<l;++c)for(r=0,u=a[c];r<s;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}return}for(a=t?t0:e0,r=0;r<s;++r)this.each(a(o[r],t,n));return this}function Hc(e,t,n){var o=Fc(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function o0(e,t){return function(){return Hc(this,e,t)}}function r0(e,t){return function(){return Hc(this,e,t.apply(this,arguments))}}function s0(e,t){return this.each((typeof t=="function"?r0:o0)(e,t))}function*i0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length,i;r<s;++r)(i=o[r])&&(yield i)}var Uc=[null];function De(e,t){this._groups=e,this._parents=t}function Sn(){return new De([[document.documentElement]],Uc)}function a0(){return this}De.prototype=Sn.prototype={constructor:De,select:qm,selectAll:Om,selectChild:Lm,selectChildren:Gm,filter:jm,data:Qm,enter:Ym,exit:ev,join:tv,merge:nv,selection:a0,order:ov,sort:rv,call:iv,nodes:av,node:cv,size:lv,empty:uv,each:dv,attr:yv,style:xv,property:Sv,classed:Nv,text:zv,html:Fv,raise:Rv,lower:Vv,append:Hv,insert:Gv,remove:Yv,clone:Wv,datum:Kv,on:n0,dispatch:s0,[Symbol.iterator]:i0};function lt(e){return typeof e=="string"?new De([[document.querySelector(e)]],[document.documentElement]):new De([[e]],Uc)}function c0(e){let t;for(;t=e.sourceEvent;)e=t;return e}function it(e,t){if(e=c0(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Br={capture:!0,passive:!1};function Rr(e){e.preventDefault(),e.stopImmediatePropagation()}function l0(e){var t=e.document.documentElement,n=lt(e).on("dragstart.drag",Rr,Br);"onselectstart"in t?n.on("selectstart.drag",Rr,Br):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function u0(e,t){var n=e.document.documentElement,o=lt(e).on("dragstart.drag",null);t&&(o.on("click.drag",Rr,Br),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function fs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gc(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function An(){}var vn=.7,po=1/vn,Bt="\\s*([+-]?\\d+)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d0=/^#([0-9a-f]{3,8})$/,h0=new RegExp(`^rgb\\(${Bt},${Bt},${Bt}\\)$`),f0=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),p0=new RegExp(`^rgba\\(${Bt},${Bt},${Bt},${yn}\\)$`),g0=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${yn}\\)$`),m0=new RegExp(`^hsl\\(${yn},${Ue},${Ue}\\)$`),v0=new RegExp(`^hsla\\(${yn},${Ue},${Ue},${yn}\\)$`),wi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fs(An,_n,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xi,formatHex:xi,formatHex8:y0,formatHsl:_0,formatRgb:ki,toString:ki});function xi(){return this.rgb().formatHex()}function y0(){return this.rgb().formatHex8()}function _0(){return jc(this).formatHsl()}function ki(){return this.rgb().formatRgb()}function _n(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d0.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ei(t):n===3?new Se(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?On(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?On(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=h0.exec(e))?new Se(t[1],t[2],t[3],1):(t=f0.exec(e))?new Se(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p0.exec(e))?On(t[1],t[2],t[3],t[4]):(t=g0.exec(e))?On(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=m0.exec(e))?Ai(t[1],t[2]/100,t[3]/100,1):(t=v0.exec(e))?Ai(t[1],t[2]/100,t[3]/100,t[4]):wi.hasOwnProperty(e)?Ei(wi[e]):e==="transparent"?new Se(NaN,NaN,NaN,0):null}function Ei(e){return new Se(e>>16&255,e>>8&255,e&255,1)}function On(e,t,n,o){return o<=0&&(e=t=n=NaN),new Se(e,t,n,o)}function b0(e){return e instanceof An||(e=_n(e)),e?(e=e.rgb(),new Se(e.r,e.g,e.b,e.opacity)):new Se}function Lr(e,t,n,o){return arguments.length===1?b0(e):new Se(e,t,n,o??1)}function Se(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}fs(Se,Lr,Gc(An,{brighter(e){return e=e==null?po:Math.pow(po,e),new Se(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vn:Math.pow(vn,e),new Se(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Se(Et(this.r),Et(this.g),Et(this.b),go(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ci,formatHex:Ci,formatHex8:w0,formatRgb:Si,toString:Si}));function Ci(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}`}function w0(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}${bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Si(){const e=go(this.opacity);return`${e===1?"rgb(":"rgba("}${Et(this.r)}, ${Et(this.g)}, ${Et(this.b)}${e===1?")":`, ${e})`}`}function go(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Et(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bt(e){return e=Et(e),(e<16?"0":"")+e.toString(16)}function Ai(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pe(e,t,n,o)}function jc(e){if(e instanceof Pe)return new Pe(e.h,e.s,e.l,e.opacity);if(e instanceof An||(e=_n(e)),!e)return new Pe;if(e instanceof Pe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),s=Math.max(t,n,o),i=NaN,a=s-r,c=(s+r)/2;return a?(t===s?i=(n-o)/a+(n<o)*6:n===s?i=(o-t)/a+2:i=(t-n)/a+4,a/=c<.5?s+r:2-s-r,i*=60):a=c>0&&c<1?0:i,new Pe(i,a,c,e.opacity)}function x0(e,t,n,o){return arguments.length===1?jc(e):new Pe(e,t,n,o??1)}function Pe(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}fs(Pe,x0,Gc(An,{brighter(e){return e=e==null?po:Math.pow(po,e),new Pe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vn:Math.pow(vn,e),new Pe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Se(ur(e>=240?e-240:e+120,r,o),ur(e,r,o),ur(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Pe($i(this.h),Fn(this.s),Fn(this.l),go(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=go(this.opacity);return`${e===1?"hsl(":"hsla("}${$i(this.h)}, ${Fn(this.s)*100}%, ${Fn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $i(e){return e=(e||0)%360,e<0?e+360:e}function Fn(e){return Math.max(0,Math.min(1,e||0))}function ur(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Yc=e=>()=>e;function k0(e,t){return function(n){return e+n*t}}function E0(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function C0(e){return(e=+e)==1?Xc:function(t,n){return n-t?E0(t,n,e):Yc(isNaN(t)?n:t)}}function Xc(e,t){var n=t-e;return n?k0(e,n):Yc(isNaN(e)?t:e)}const Di=function e(t){var n=C0(t);function o(r,s){var i=n((r=Lr(r)).r,(s=Lr(s)).r),a=n(r.g,s.g),c=n(r.b,s.b),l=Xc(r.opacity,s.opacity);return function(u){return r.r=i(u),r.g=a(u),r.b=c(u),r.opacity=l(u),r+""}}return o.gamma=e,o}(1);function ct(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dr=new RegExp(Vr.source,"g");function S0(e){return function(){return e}}function A0(e){return function(t){return e(t)+""}}function $0(e,t){var n=Vr.lastIndex=dr.lastIndex=0,o,r,s,i=-1,a=[],c=[];for(e=e+"",t=t+"";(o=Vr.exec(e))&&(r=dr.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(o=o[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,c.push({i,x:ct(o,r)})),n=dr.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?c[0]?A0(c[0].x):S0(t):(t=c.length,function(l){for(var u=0,h;u<t;++u)a[(h=c[u]).i]=h.x(l);return a.join("")})}var Ni=180/Math.PI,Zc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wc(e,t,n,o,r,s){var i,a,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,c/=a),e*o<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Ni,skewX:Math.atan(c)*Ni,scaleX:i,scaleY:a}}var Bn;function D0(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Zc:Wc(t.a,t.b,t.c,t.d,t.e,t.f)}function N0(e){return e==null||(Bn||(Bn=document.createElementNS("http://www.w3.org/2000/svg","g")),Bn.setAttribute("transform",e),!(e=Bn.transform.baseVal.consolidate()))?Zc:(e=e.matrix,Wc(e.a,e.b,e.c,e.d,e.e,e.f))}function Kc(e,t,n,o){function r(l){return l.length?l.pop()+" ":""}function s(l,u,h,d,p,g){if(l!==h||u!==d){var v=p.push("translate(",null,t,null,n);g.push({i:v-4,x:ct(l,h)},{i:v-2,x:ct(u,d)})}else(h||d)&&p.push("translate("+h+t+d+n)}function i(l,u,h,d){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),d.push({i:h.push(r(h)+"rotate(",null,o)-2,x:ct(l,u)})):u&&h.push(r(h)+"rotate("+u+o)}function a(l,u,h,d){l!==u?d.push({i:h.push(r(h)+"skewX(",null,o)-2,x:ct(l,u)}):u&&h.push(r(h)+"skewX("+u+o)}function c(l,u,h,d,p,g){if(l!==h||u!==d){var v=p.push(r(p)+"scale(",null,",",null,")");g.push({i:v-4,x:ct(l,h)},{i:v-2,x:ct(u,d)})}else(h!==1||d!==1)&&p.push(r(p)+"scale("+h+","+d+")")}return function(l,u){var h=[],d=[];return l=e(l),u=e(u),s(l.translateX,l.translateY,u.translateX,u.translateY,h,d),i(l.rotate,u.rotate,h,d),a(l.skewX,u.skewX,h,d),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,h,d),l=u=null,function(p){for(var g=-1,v=d.length,k;++g<v;)h[(k=d[g]).i]=k.x(p);return h.join("")}}}var M0=Kc(D0,"px, ","px)","deg)"),T0=Kc(N0,", ",")",")"),q0=1e-12;function Mi(e){return((e=Math.exp(e))+1/e)/2}function z0(e){return((e=Math.exp(e))-1/e)/2}function I0(e){return((e=Math.exp(2*e))-1)/(e+1)}const P0=function e(t,n,o){function r(s,i){var a=s[0],c=s[1],l=s[2],u=i[0],h=i[1],d=i[2],p=u-a,g=h-c,v=p*p+g*g,k,y;if(v<q0)y=Math.log(d/l)/t,k=function(b){return[a+b*p,c+b*g,l*Math.exp(t*b*y)]};else{var E=Math.sqrt(v),M=(d*d-l*l+o*v)/(2*l*n*E),_=(d*d-l*l-o*v)/(2*d*n*E),D=Math.log(Math.sqrt(M*M+1)-M),A=Math.log(Math.sqrt(_*_+1)-_);y=(A-D)/t,k=function(b){var V=b*y,I=Mi(D),N=l/(n*E)*(I*I0(t*V+D)-z0(D));return[a+N*p,c+N*g,l*I/Mi(t*V+D)]}}return k.duration=y*1e3*t/Math.SQRT2,k}return r.rho=function(s){var i=Math.max(.001,+s),a=i*i,c=a*a;return e(i,a,c)},r}(Math.SQRT2,2,4);var Gt=0,rn=0,Qt=0,Qc=1e3,mo,sn,vo=0,$t=0,Bo=0,bn=typeof performance=="object"&&performance.now?performance:Date,Jc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ps(){return $t||(Jc(O0),$t=bn.now()+Bo)}function O0(){$t=0}function yo(){this._call=this._time=this._next=null}yo.prototype=el.prototype={constructor:yo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ps():+n)+(t==null?0:+t),!this._next&&sn!==this&&(sn?sn._next=this:mo=this,sn=this),this._call=e,this._time=n,Hr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hr())}};function el(e,t,n){var o=new yo;return o.restart(e,t,n),o}function F0(){ps(),++Gt;for(var e=mo,t;e;)(t=$t-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Gt}function Ti(){$t=(vo=bn.now())+Bo,Gt=rn=0;try{F0()}finally{Gt=0,R0(),$t=0}}function B0(){var e=bn.now(),t=e-vo;t>Qc&&(Bo-=t,vo=e)}function R0(){for(var e,t=mo,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:mo=n);sn=e,Hr(o)}function Hr(e){if(!Gt){rn&&(rn=clearTimeout(rn));var t=e-$t;t>24?(e<1/0&&(rn=setTimeout(Ti,e-bn.now()-Bo)),Qt&&(Qt=clearInterval(Qt))):(Qt||(vo=bn.now(),Qt=setInterval(B0,Qc)),Gt=1,Jc(Ti))}}function qi(e,t,n){var o=new yo;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var L0=us("start","end","cancel","interrupt"),V0=[],tl=0,zi=1,Ur=2,Kn=3,Ii=4,Gr=5,Qn=6;function Ro(e,t,n,o,r,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;H0(e,n,{name:t,index:o,group:r,on:L0,tween:V0,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:tl})}function gs(e,t){var n=Fe(e,t);if(n.state>tl)throw new Error("too late; already scheduled");return n}function je(e,t){var n=Fe(e,t);if(n.state>Kn)throw new Error("too late; already running");return n}function Fe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function H0(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=el(s,0,n.time);function s(l){n.state=zi,n.timer.restart(i,n.delay,n.time),n.delay<=l&&i(l-n.delay)}function i(l){var u,h,d,p;if(n.state!==zi)return c();for(u in o)if(p=o[u],p.name===n.name){if(p.state===Kn)return qi(i);p.state===Ii?(p.state=Qn,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[u]):+u<t&&(p.state=Qn,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[u])}if(qi(function(){n.state===Kn&&(n.state=Ii,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Ur,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ur){for(n.state=Kn,r=new Array(d=n.tween.length),u=0,h=-1;u<d;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=p);r.length=h+1}}function a(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=Gr,1),h=-1,d=r.length;++h<d;)r[h].call(e,u);n.state===Gr&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Qn,n.timer.stop(),delete o[t];for(var l in o)return;delete e.__transition}}function Jn(e,t){var n=e.__transition,o,r,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){s=!1;continue}r=o.state>Ur&&o.state<Gr,o.state=Qn,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}s&&delete e.__transition}}function U0(e){return this.each(function(){Jn(this,e)})}function G0(e,t){var n,o;return function(){var r=je(this,e),s=r.tween;if(s!==n){o=n=s;for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}r.tween=o}}function j0(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var s=je(this,e),i=s.tween;if(i!==o){r=(o=i).slice();for(var a={name:t,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===t){r[c]=a;break}c===l&&r.push(a)}s.tween=r}}function Y0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Fe(this.node(),n).tween,r=0,s=o.length,i;r<s;++r)if((i=o[r]).name===e)return i.value;return null}return this.each((t==null?G0:j0)(n,e,t))}function ms(e,t,n){var o=e._id;return e.each(function(){var r=je(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Fe(r,o).value[t]}}function nl(e,t){var n;return(typeof t=="number"?ct:t instanceof _n?Di:(n=_n(t))?(t=n,Di):$0)(e,t)}function X0(e){return function(){this.removeAttribute(e)}}function Z0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function W0(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttribute(e);return i===r?null:i===o?s:s=t(o=i,n)}}function K0(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===o?s:s=t(o=i,n)}}function Q0(e,t,n){var o,r,s;return function(){var i,a=n(this),c;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=a+"",i===c?null:i===o&&c===r?s:(r=c,s=t(o=i,a)))}}function J0(e,t,n){var o,r,s;return function(){var i,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=a+"",i===c?null:i===o&&c===r?s:(r=c,s=t(o=i,a)))}}function ey(e,t){var n=Fo(e),o=n==="transform"?T0:nl;return this.attrTween(e,typeof t=="function"?(n.local?J0:Q0)(n,o,ms(this,"attr."+e,t)):t==null?(n.local?Z0:X0)(n):(n.local?K0:W0)(n,o,t))}function ty(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ny(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function oy(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&ny(e,s)),n}return r._value=t,r}function ry(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&ty(e,s)),n}return r._value=t,r}function sy(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Fo(e);return this.tween(n,(o.local?oy:ry)(o,t))}function iy(e,t){return function(){gs(this,e).delay=+t.apply(this,arguments)}}function ay(e,t){return t=+t,function(){gs(this,e).delay=t}}function cy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?iy:ay)(t,e)):Fe(this.node(),t).delay}function ly(e,t){return function(){je(this,e).duration=+t.apply(this,arguments)}}function uy(e,t){return t=+t,function(){je(this,e).duration=t}}function dy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ly:uy)(t,e)):Fe(this.node(),t).duration}function hy(e,t){if(typeof t!="function")throw new Error;return function(){je(this,e).ease=t}}function fy(e){var t=this._id;return arguments.length?this.each(hy(t,e)):Fe(this.node(),t).ease}function py(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;je(this,e).ease=n}}function gy(e){if(typeof e!="function")throw new Error;return this.each(py(this._id,e))}function my(e){typeof e!="function"&&(e=Ic(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],c,l=0;l<i;++l)(c=s[l])&&e.call(c,c.__data__,l,s)&&a.push(c);return new st(o,this._parents,this._name,this._id)}function vy(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),i=new Array(o),a=0;a<s;++a)for(var c=t[a],l=n[a],u=c.length,h=i[a]=new Array(u),d,p=0;p<u;++p)(d=c[p]||l[p])&&(h[p]=d);for(;a<o;++a)i[a]=t[a];return new st(i,this._parents,this._name,this._id)}function yy(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function _y(e,t,n){var o,r,s=yy(t)?gs:je;return function(){var i=s(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}function by(e,t){var n=this._id;return arguments.length<2?Fe(this.node(),n).on.on(e):this.each(_y(n,e,t))}function wy(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function xy(){return this.on("end.remove",wy(this._id))}function ky(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ds(e));for(var o=this._groups,r=o.length,s=new Array(r),i=0;i<r;++i)for(var a=o[i],c=a.length,l=s[i]=new Array(c),u,h,d=0;d<c;++d)(u=a[d])&&(h=e.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),l[d]=h,Ro(l[d],t,n,d,l,Fe(u,n)));return new st(s,this._parents,t,n)}function Ey(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zc(e));for(var o=this._groups,r=o.length,s=[],i=[],a=0;a<r;++a)for(var c=o[a],l=c.length,u,h=0;h<l;++h)if(u=c[h]){for(var d=e.call(u,u.__data__,h,c),p,g=Fe(u,n),v=0,k=d.length;v<k;++v)(p=d[v])&&Ro(p,t,n,v,d,g);s.push(d),i.push(u)}return new st(s,i,t,n)}var Cy=Sn.prototype.constructor;function Sy(){return new Cy(this._groups,this._parents)}function Ay(e,t){var n,o,r;return function(){var s=Ut(this,e),i=(this.style.removeProperty(e),Ut(this,e));return s===i?null:s===n&&i===o?r:r=t(n=s,o=i)}}function ol(e){return function(){this.style.removeProperty(e)}}function $y(e,t,n){var o,r=n+"",s;return function(){var i=Ut(this,e);return i===r?null:i===o?s:s=t(o=i,n)}}function Dy(e,t,n){var o,r,s;return function(){var i=Ut(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),Ut(this,e))),i===c?null:i===o&&c===r?s:(r=c,s=t(o=i,a))}}function Ny(e,t){var n,o,r,s="style."+t,i="end."+s,a;return function(){var c=je(this,e),l=c.on,u=c.value[s]==null?a||(a=ol(t)):void 0;(l!==n||r!==u)&&(o=(n=l).copy()).on(i,r=u),c.on=o}}function My(e,t,n){var o=(e+="")=="transform"?M0:nl;return t==null?this.styleTween(e,Ay(e,o)).on("end.style."+e,ol(e)):typeof t=="function"?this.styleTween(e,Dy(e,o,ms(this,"style."+e,t))).each(Ny(this._id,e)):this.styleTween(e,$y(e,o,t),n).on("end.style."+e,null)}function Ty(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function qy(e,t,n){var o,r;function s(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&Ty(e,i,n)),o}return s._value=t,s}function zy(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,qy(e,t,n??""))}function Iy(e){return function(){this.textContent=e}}function Py(e){return function(){var t=e(this);this.textContent=t??""}}function Oy(e){return this.tween("text",typeof e=="function"?Py(ms(this,"text",e)):Iy(e==null?"":e+""))}function Fy(e){return function(t){this.textContent=e.call(this,t)}}function By(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Fy(r)),t}return o._value=e,o}function Ry(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,By(e))}function Ly(){for(var e=this._name,t=this._id,n=rl(),o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,c,l=0;l<a;++l)if(c=i[l]){var u=Fe(c,t);Ro(c,e,n,l,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new st(o,this._parents,e,n)}function Vy(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(s,i){var a={value:i},c={value:function(){--r===0&&s()}};n.each(function(){var l=je(this,o),u=l.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),l.on=t}),r===0&&s()})}var Hy=0;function st(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function rl(){return++Hy}var We=Sn.prototype;st.prototype={constructor:st,select:ky,selectAll:Ey,selectChild:We.selectChild,selectChildren:We.selectChildren,filter:my,merge:vy,selection:Sy,transition:Ly,call:We.call,nodes:We.nodes,node:We.node,size:We.size,empty:We.empty,each:We.each,on:by,attr:ey,attrTween:sy,style:My,styleTween:zy,text:Oy,textTween:Ry,remove:xy,tween:Y0,delay:cy,duration:dy,ease:fy,easeVarying:gy,end:Vy,[Symbol.iterator]:We[Symbol.iterator]};function Uy(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Gy={time:null,delay:0,duration:250,ease:Uy};function jy(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Yy(e){var t,n;e instanceof st?(t=e._id,e=e._name):(t=rl(),(n=Gy).time=ps(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,c,l=0;l<a;++l)(c=i[l])&&Ro(c,e,t,l,i,n||jy(c,t));return new st(o,this._parents,e,t)}Sn.prototype.interrupt=U0;Sn.prototype.transition=Yy;const Rn=e=>()=>e;function Xy(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function nt(e,t,n){this.k=e,this.x=t,this.y=n}nt.prototype={constructor:nt,scale:function(e){return e===1?this:new nt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new nt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vs=new nt(1,0,0);nt.prototype;function hr(e){e.stopImmediatePropagation()}function Jt(e){e.preventDefault(),e.stopImmediatePropagation()}function Zy(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Wy(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Pi(){return this.__zoom||vs}function Ky(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Qy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jy(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function e1(){var e=Zy,t=Wy,n=Jy,o=Ky,r=Qy,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,c=P0,l=us("start","zoom","end"),u,h,d,p=500,g=150,v=0,k=10;function y(f){f.property("__zoom",Pi).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",N).filter(r).on("touchstart.zoom",R).on("touchmove.zoom",ee).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(f,$,m,C){var T=f.selection?f.selection():f;T.property("__zoom",Pi),f!==T?D(f,$,m,C):T.interrupt().each(function(){A(this,arguments).event(C).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},y.scaleBy=function(f,$,m,C){y.scaleTo(f,function(){var T=this.__zoom.k,z=typeof $=="function"?$.apply(this,arguments):$;return T*z},m,C)},y.scaleTo=function(f,$,m,C){y.transform(f,function(){var T=t.apply(this,arguments),z=this.__zoom,q=m==null?_(T):typeof m=="function"?m.apply(this,arguments):m,H=z.invert(q),O=typeof $=="function"?$.apply(this,arguments):$;return n(M(E(z,O),q,H),T,i)},m,C)},y.translateBy=function(f,$,m,C){y.transform(f,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof m=="function"?m.apply(this,arguments):m),t.apply(this,arguments),i)},null,C)},y.translateTo=function(f,$,m,C,T){y.transform(f,function(){var z=t.apply(this,arguments),q=this.__zoom,H=C==null?_(z):typeof C=="function"?C.apply(this,arguments):C;return n(vs.translate(H[0],H[1]).scale(q.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof m=="function"?-m.apply(this,arguments):-m),z,i)},C,T)};function E(f,$){return $=Math.max(s[0],Math.min(s[1],$)),$===f.k?f:new nt($,f.x,f.y)}function M(f,$,m){var C=$[0]-m[0]*f.k,T=$[1]-m[1]*f.k;return C===f.x&&T===f.y?f:new nt(f.k,C,T)}function _(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function D(f,$,m,C){f.on("start.zoom",function(){A(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(C).end()}).tween("zoom",function(){var T=this,z=arguments,q=A(T,z).event(C),H=t.apply(T,z),O=m==null?_(H):typeof m=="function"?m.apply(T,z):m,Q=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),G=T.__zoom,Z=typeof $=="function"?$.apply(T,z):$,B=c(G.invert(O).concat(Q/G.k),Z.invert(O).concat(Q/Z.k));return function(w){if(w===1)w=Z;else{var S=B(w),L=Q/S[2];w=new nt(L,O[0]-S[0]*L,O[1]-S[1]*L)}q.zoom(null,w)}})}function A(f,$,m){return!m&&f.__zooming||new b(f,$)}function b(f,$){this.that=f,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,$),this.taps=0}b.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,$){return this.mouse&&f!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var $=lt(this.that).datum();l.call(f,this.that,new Xy(f,{sourceEvent:this.sourceEvent,target:y,type:f,transform:this.that.__zoom,dispatch:l}),$)}};function V(f,...$){if(!e.apply(this,arguments))return;var m=A(this,$).event(f),C=this.__zoom,T=Math.max(s[0],Math.min(s[1],C.k*Math.pow(2,o.apply(this,arguments)))),z=it(f);if(m.wheel)(m.mouse[0][0]!==z[0]||m.mouse[0][1]!==z[1])&&(m.mouse[1]=C.invert(m.mouse[0]=z)),clearTimeout(m.wheel);else{if(C.k===T)return;m.mouse=[z,C.invert(z)],Jn(this),m.start()}Jt(f),m.wheel=setTimeout(q,g),m.zoom("mouse",n(M(E(C,T),m.mouse[0],m.mouse[1]),m.extent,i));function q(){m.wheel=null,m.end()}}function I(f,...$){if(d||!e.apply(this,arguments))return;var m=f.currentTarget,C=A(this,$,!0).event(f),T=lt(f.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",Q,!0),z=it(f,m),q=f.clientX,H=f.clientY;l0(f.view),hr(f),C.mouse=[z,this.__zoom.invert(z)],Jn(this),C.start();function O(G){if(Jt(G),!C.moved){var Z=G.clientX-q,B=G.clientY-H;C.moved=Z*Z+B*B>v}C.event(G).zoom("mouse",n(M(C.that.__zoom,C.mouse[0]=it(G,m),C.mouse[1]),C.extent,i))}function Q(G){T.on("mousemove.zoom mouseup.zoom",null),u0(G.view,C.moved),Jt(G),C.event(G).end()}}function N(f,...$){if(e.apply(this,arguments)){var m=this.__zoom,C=it(f.changedTouches?f.changedTouches[0]:f,this),T=m.invert(C),z=m.k*(f.shiftKey?.5:2),q=n(M(E(m,z),C,T),t.apply(this,$),i);Jt(f),a>0?lt(this).transition().duration(a).call(D,q,C,f):lt(this).call(y.transform,q,C,f)}}function R(f,...$){if(e.apply(this,arguments)){var m=f.touches,C=m.length,T=A(this,$,f.changedTouches.length===C).event(f),z,q,H,O;for(hr(f),q=0;q<C;++q)H=m[q],O=it(H,this),O=[O,this.__zoom.invert(O),H.identifier],T.touch0?!T.touch1&&T.touch0[2]!==O[2]&&(T.touch1=O,T.taps=0):(T.touch0=O,z=!0,T.taps=1+!!u);u&&(u=clearTimeout(u)),z&&(T.taps<2&&(h=O[0],u=setTimeout(function(){u=null},p)),Jn(this),T.start())}}function ee(f,...$){if(this.__zooming){var m=A(this,$).event(f),C=f.changedTouches,T=C.length,z,q,H,O;for(Jt(f),z=0;z<T;++z)q=C[z],H=it(q,this),m.touch0&&m.touch0[2]===q.identifier?m.touch0[0]=H:m.touch1&&m.touch1[2]===q.identifier&&(m.touch1[0]=H);if(q=m.that.__zoom,m.touch1){var Q=m.touch0[0],G=m.touch0[1],Z=m.touch1[0],B=m.touch1[1],w=(w=Z[0]-Q[0])*w+(w=Z[1]-Q[1])*w,S=(S=B[0]-G[0])*S+(S=B[1]-G[1])*S;q=E(q,Math.sqrt(w/S)),H=[(Q[0]+Z[0])/2,(Q[1]+Z[1])/2],O=[(G[0]+B[0])/2,(G[1]+B[1])/2]}else if(m.touch0)H=m.touch0[0],O=m.touch0[1];else return;m.zoom("touch",n(M(q,H,O),m.extent,i))}}function K(f,...$){if(this.__zooming){var m=A(this,$).event(f),C=f.changedTouches,T=C.length,z,q;for(hr(f),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),z=0;z<T;++z)q=C[z],m.touch0&&m.touch0[2]===q.identifier?delete m.touch0:m.touch1&&m.touch1[2]===q.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2&&(q=it(q,this),Math.hypot(h[0]-q[0],h[1]-q[1])<k)){var H=lt(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return y.wheelDelta=function(f){return arguments.length?(o=typeof f=="function"?f:Rn(+f),y):o},y.filter=function(f){return arguments.length?(e=typeof f=="function"?f:Rn(!!f),y):e},y.touchable=function(f){return arguments.length?(r=typeof f=="function"?f:Rn(!!f),y):r},y.extent=function(f){return arguments.length?(t=typeof f=="function"?f:Rn([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),y):t},y.scaleExtent=function(f){return arguments.length?(s[0]=+f[0],s[1]=+f[1],y):[s[0],s[1]]},y.translateExtent=function(f){return arguments.length?(i[0][0]=+f[0][0],i[1][0]=+f[1][0],i[0][1]=+f[0][1],i[1][1]=+f[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(f){return arguments.length?(n=f,y):n},y.duration=function(f){return arguments.length?(a=+f,y):a},y.interpolate=function(f){return arguments.length?(c=f,y):c},y.on=function(){var f=l.on.apply(l,arguments);return f===l?y:f},y.clickDistance=function(f){return arguments.length?(v=(f=+f)*f,y):Math.sqrt(v)},y.tapDistance=function(f){return arguments.length?(k=+f,y):k},y}const sl=Symbol("MiniMapSlots"),t1=de({name:"MiniMapNode",compatConfig:{MODE:3},props:["id","position","dimensions","strokeWidth","strokeColor","borderRadius","color","shapeRendering","type"],emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(e,{attrs:t,emit:n}){const o=St(sl);return()=>{const r=t.style??{},s=o[`node-${e.type}`];return s?s(e):ue("rect",{id:e.id,class:["vue-flow__minimap-node",t.class].join(" "),style:r,x:e.position.x,y:e.position.y,rx:e.borderRadius,ry:e.borderRadius,width:e.dimensions.width,height:e.dimensions.height,fill:e.color||r.background||r.backgroundColor,stroke:e.strokeColor,strokeWidth:e.strokeWidth,shapeRendering:e.shapeRendering,onClick:i=>n("click",i),onDblClick:i=>n("dblclick",i),onMouseenter:i=>n("mouseenter",i),onMousemove:i=>n("mousemove",i),onMouseleave:i=>n("mouseleave",i)})}}}),n1=["width","height","viewBox","aria-labelledby"],o1=["id"],r1=["d","fill","stroke","stroke-width"],s1={name:"MiniMap",compatConfig:{MODE:3}},i1=de({...s1,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:null,height:null,ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:10}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=$l(),o=200,r=150,{id:s,edges:i,viewport:a,translateExtent:c,dimensions:l,emits:u,nodes:h,d3Selection:d,d3Zoom:p}=ge(),g=se();Ct(sl,wa());const v=te(()=>{var C;return e.width??((C=n.style)==null?void 0:C.width)??o}),k=te(()=>{var C;return e.height??((C=n.style)==null?void 0:C.height)??r}),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",E=te(()=>e.nodeColor instanceof Function?e.nodeColor:()=>e.nodeColor),M=te(()=>e.nodeStrokeColor instanceof Function?e.nodeStrokeColor:()=>e.nodeStrokeColor),_=te(()=>e.nodeClassName instanceof Function?e.nodeClassName:()=>e.nodeClassName),D=te(()=>Jr(h.value)),A=te(()=>({x:-a.value.x/a.value.zoom,y:-a.value.y/a.value.zoom,width:l.value.width/a.value.zoom,height:l.value.height/a.value.zoom})),b=te(()=>h.value&&h.value.length?ku(D.value,A.value):A.value),V=te(()=>{const C=b.value.width/v.value,T=b.value.height/k.value;return Math.max(C,T)}),I=te(()=>{const C=V.value*v.value,T=V.value*k.value,z=5*V.value;return{offset:z,x:b.value.x-(C-b.value.width)/2-z,y:b.value.y-(T-b.value.height)/2-z,width:C+z*2,height:T+z*2}}),N=te(()=>!I.value.x||!I.value.y?"":`
    M${I.value.x-I.value.offset},${I.value.y-I.value.offset}
    h${I.value.width+I.value.offset*2}
    v${I.value.height+I.value.offset*2}
    h${-I.value.width-I.value.offset*2}z
    M${A.value.x},${A.value.y}
    h${A.value.width}
    v${A.value.height}
    h${-A.value.width}z`);eo(C=>{if(g.value){const T=lt(g.value),z=O=>{if(O.sourceEvent.type!=="wheel"||!d.value||!p.value)return;const Q=-O.sourceEvent.deltaY*(O.sourceEvent.deltaMode===1?.05:O.sourceEvent.deltaMode?1:.002)*e.zoomStep,G=a.value.zoom*2**Q;p.value.scaleTo(d.value,G)},q=O=>{if(O.sourceEvent.type!=="mousemove"||!d.value||!p.value)return;const Q=V.value*Math.max(1,a.value.zoom)*(e.inversePan?-1:1),G={x:a.value.x-O.sourceEvent.movementX*Q,y:a.value.y-O.sourceEvent.movementY*Q},Z=[[0,0],[l.value.width,l.value.height]],B=vs.translate(G.x,G.y).scale(a.value.zoom),w=p.value.constrain()(B,Z,c.value);p.value.transform(d.value,w)},H=e1().on("zoom",e.pannable?q:()=>{}).on("zoom.wheel",e.zoomable?z:()=>{});T.call(H),C(()=>{T.on("zoom",null)})}},{flush:"post"});function R(C){const[T,z]=it(C);t("click",{event:C,position:{x:T,y:z}})}function ee(C,T){const z={event:C,node:T,connectedEdges:Qe([T],i.value)};u.miniMapNodeClick(z),t("nodeClick",z)}function K(C,T){const z={event:C,node:T,connectedEdges:Qe([T],i.value)};u.miniMapNodeDoubleClick(z),t("nodeDblclick",z)}function f(C,T){const z={event:C,node:T,connectedEdges:Qe([T],i.value)};u.miniMapNodeMouseEnter(z),t("nodeMouseenter",z)}function $(C,T){const z={event:C,node:T,connectedEdges:Qe([T],i.value)};u.miniMapNodeMouseMove(z),t("nodeMousemove",z)}function m(C,T){const z={event:C,node:T,connectedEdges:Qe([T],i.value)};u.miniMapNodeMouseLeave(z),t("nodeMouseleave",z)}return(C,T)=>(j(),ve(x(Tc),{position:e.position,class:be(["vue-flow__minimap",{pannable:e.pannable,zoomable:e.zoomable}])},{default:fe(()=>[(j(),J("svg",{ref_key:"el",ref:g,width:x(v),height:x(k),viewBox:[x(I).x,x(I).y,x(I).width,x(I).height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${x(s)}`,onClick:R},[e.ariaLabel?(j(),J("title",{key:0,id:`vue-flow__minimap-${x(s)}`},we(e.ariaLabel),9,o1)):pe("",!0),(j(!0),J(ye,null,Me(x(h),z=>(j(),ve(x(t1),{id:z.id,key:z.id,position:z.computedPosition,dimensions:z.dimensions,style:Te(z.style),class:be(x(_)(z)),color:x(E)(z),"border-radius":e.nodeBorderRadius,"stroke-color":x(M)(z),"stroke-width":e.nodeStrokeWidth,"shape-rendering":x(y),type:z.type,onClick:q=>ee(q,z),onDblclick:q=>K(q,z),onMouseenter:q=>f(q,z),onMousemove:q=>$(q,z),onMouseleave:q=>m(q,z)},null,8,["id","position","dimensions","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),ie("path",{class:"vue-flow__minimap-mask",d:x(N),fill:e.maskColor,stroke:e.maskStrokeColor,"stroke-width":e.maskStrokeWidth,"fill-rule":"evenodd"},null,8,r1)],8,n1))]),_:1},8,["position","class"]))}}),a1={class:"db-table"},c1={key:0,class:"field nodrag"},l1={class:"name"},u1={class:"type"},d1=de({__name:"DbTable",props:{table:null},setup(e){const t=ht();return(n,o)=>(j(),J("div",a1,[vt((j(),J("div",{id:"title",style:Te({background:e.table.data.headerColor}),class:"title"},[Ve(we(e.table.label||e.table.id),1)],4)),[[x(an),{title:e.table.data.note||""},"table",{hover:!0,top:!0}]]),(j(!0),J(ye,null,Me(e.table.data.fields,r=>{var s;return j(),J(ye,{key:r.name},[r.hidden?pe("",!0):(j(),J("div",c1,[ce(x(dn),{type:"source",position:x(oe).Left,connectable:x(t).settings.editMode,id:r.name},null,8,["position","connectable","id"]),ie("div",l1,we(r.name),1),vt((j(),J("div",u1,[Ve(we((s=r==null?void 0:r.type)==null?void 0:s.type_name),1)])),[[x(an),{title:r.note||""},void 0,{hover:!0,right:!0}]])]))],64)}),128))]))}});const Lo=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},h1=Lo(d1,[["__scopeId","data-v-fc01d646"]]);const f1={class:"db-group"},p1={__name:"DbGroup",props:{group:{type:Object,required:!0}},setup(e){return(t,n)=>(j(),J("div",f1,we(e.group.label),1))}},g1=["x","y"],m1=["x","y"],v1={inheritAttrs:!1},y1=Object.assign(v1,{__name:"CustomEdge",props:{id:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,required:!0},targetPosition:{type:String,required:!0},data:{type:Object,required:!1},style:{type:Object,required:!1},offset:{type:Number,required:!1}},setup(e){const t=e,n=ht(),o=10;let r=te(()=>{let s=n.edges.find(u=>u.id===t.id);const i=t.sourceX>t.targetX,a=i?-s.sourceNode.dimensions.width/2:s.sourceNode.dimensions.width/2+o,c=i?s.targetNode.dimensions.width/2+o:-s.targetNode.dimensions.width/2;return{path:io({...t,offset:4,sourcePosition:i?"left":"right",targetPosition:i?"right":"left",sourceX:t.sourceX+a,targetX:t.targetX+c}),sourceXCompensation:a,targetXCompensation:c,sourceIsLeft:i,sourceRelation:s.data.sourceRelation,targetRelation:s.data.targetRelation}});return(s,i)=>(j(),J(ye,null,[ie("text",{"font-size":"14px",fill:"#ccc",x:e.sourceX+x(r).sourceXCompensation+(x(r).sourceIsLeft?-6:0),y:e.sourceY-6},we(x(r).sourceRelation),9,g1),ie("text",{"font-size":"14px",fill:"#ccc",x:e.targetX+x(r).targetXCompensation+(x(r).sourceIsLeft?0:-6),y:e.targetY-6},we(x(r).targetRelation),9,m1),ce(x(kn),{id:e.id,style:Te(e.style),path:x(r).path[0]},null,8,["id","style","path"])],64))}});function _1(e,t,n=!0,o=void 0){let r=0;return function(...i){const a=function(){clearTimeout(r),r=0,n||e(...i),o&&o()};!r&&n&&e(...i),clearTimeout(r),r=setTimeout(a,t)}}const b1=ie("i",{class:"i-resize-full-alt"},null,-1),w1=de({__name:"Flow",props:{initialNodes:{type:Array,required:!0},initialEdges:{type:Array,required:!0}},setup(e){const t=e,n=ht();let o=se(!1);const r=se("");let{edges:s,nodes:i,fitView:a,onNodeDragStop:c,onConnect:l,addEdges:u,onEdgeUpdate:h,updateEdge:d,autoConnect:p,updateNodePositions:g,onNodeMouseEnter:v,onNodeMouseLeave:k,onEdgeMouseEnter:y,onNodesInitialized:E,onPaneScroll:M,onNodeDoubleClick:_,panOnDrag:D,panOnScroll:A,panOnScrollSpeed:b}=ge({disableKeyboardA11y:!1,zoomOnScroll:!1,connectionMode:dt.Loose,autoConnect:!0,defaultEdgeOptions:{type:"custom_edge_1",updatable:!0,animated:!1,selectable:!0},edgeUpdaterRadius:10,connectOnClick:!1,panOnScroll:n.settings.vueFlow.panOnScroll,maxZoom:5,minZoom:.1,panOnDrag:n.settings.vueFlow.panOnDrag,panOnScrollSpeed:n.settings.vueFlow.panOnScrollSpeed,elevateEdgesOnSelect:!1,elementsSelectable:!1,snapToGrid:!1,nodes:t.initialNodes,edges:t.initialEdges}),V=R=>{let ee=0,K=0,f=80;const $=document.documentElement.clientHeight-200;let m=0;R.value.forEach(C=>{C.position.x=ee,C.position.y=K;const T=K+C.dimensions.height;T>$?(K=0,ee+=C.dimensions.width>m?C.dimensions.width:m,ee+=f,m=0):(K=T+f,m=C.dimensions.width>m?C.dimensions.width:m)})};n.$patch({tables:i,edges:s,settings:{vueFlow:{panOnDrag:D,panOnScroll:A,panOnScrollSpeed:b}}});const I=_1(function(){o.value=!0},2e3,!0,()=>{o.value=!1});M(I),E(()=>{V(i)}),_(({connectedEdges:R,event:ee,node:K})=>{debugger;console.log(K)}),l(R=>{u([R])});const N=function(){document.fullscreenElement?document.exitFullscreen():document.querySelector(".vue-flow.erd").requestFullscreen()};return(R,ee)=>(j(),ve(x(Rg),{ref_key:"erdElement",ref:r,class:be(["erd",{isScrollPane:x(o)}])},{"node-group":fe(K=>[ce(p1,{group:K},null,8,["group"])]),"node-table":fe(K=>[ce(h1,{class:be({isScrollPane:x(o)}),table:K},null,8,["class","table"])]),"edge-custom_edge_1":fe(K=>[ce(y1,ka(Dl(K)),null,16)]),default:fe(()=>[ce(x(ym),{position:"top-right"},{top:fe(()=>[ce(x(on),{onClick:N},{default:fe(()=>[b1]),_:1})]),_:1}),ce(x(Sm),{variant:"lines","pattern-color":"rgb(79 137 224 / 0.2)",gap:"40",size:"0.5"}),ce(x(i1),{nodeColor:"#17d8b8",nodeStrokeColor:"#333",pannable:!0,zoomable:!0})]),_:1},8,["class"]))}});const x1=e=>(Ca("data-v-e6a1849b"),e=e(),Sa(),e),k1=x1(()=>ie("h6",{class:"w-title"},":",-1)),E1={class:"input-group input-group-sm search-group"},C1={class:"btn btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown"},S1={class:"dropdown-menu dropdown-menu-end"},A1={class:"tables"},$1=["onClick"],D1=["onClick"],N1=["onClick"],M1=["onClick"],T1={key:0,class:"fields"},q1=["onClick"],z1=de({__name:"TablesList",setup(e){const t=ht(),n=se(""),o=se(""),r=se({}),s=u=>u.id.includes(n.value),i=u=>u.data.fields[n.value],a=te(()=>{if(n.value.length==0)return t.tablesByTags;switch(o.value){case"":return t.tablesByTags.filter(i);default:return t.tablesByTags.filter(s)}}),c=u=>o.value=u,l=u=>{r.value[u.id]=!r.value[u.id]};return(u,h)=>(j(),J("div",null,[k1,ie("div",E1,[vt(ie("input",{placeholder:"",type:"text",class:"form-control search","onUpdate:modelValue":h[0]||(h[0]=d=>n.value=d)},null,512),[[Nl,n.value]]),ie("button",C1,we(o.value),1),ie("ul",S1,[ie("li",null,[ie("a",{onClickPassive:h[1]||(h[1]=Zt(d=>c(""),["prevent"])),class:"dropdown-item",href:"#"},"",32)]),ie("li",null,[ie("a",{onClickPassive:h[2]||(h[2]=Zt(d=>c(""),["prevent"])),class:"dropdown-item",href:"#"},"",32)])])]),ie("div",A1,[(j(!0),J(ye,null,Me(x(a),d=>{var p;return j(),J("div",{class:be(["table-item",{hide:d.hidden}]),key:d.id},[ie("i",{onClick:Zt(g=>l(d),["stop"]),class:be([r.value[d.id]?"i-folder-open":"i-folder"])},null,10,$1),ie("span",{onClick:g=>x(t)._activeTableInfo=d,class:"title invisible-scrollbar"},we(d.label||d.id),9,D1),vt(ie("i",{class:be(["i-target",{singleMode:((p=x(t).singleModeTable)==null?void 0:p.id)===d.id}]),onClick:Zt(g=>x(t).actionModeSingleTable(d),["stop"])},null,10,N1),[[x(an)," ",void 0,{hover:!0,top:!0}]]),vt(ie("i",{onClick:g=>d.hidden=!d.hidden,class:be([d.hidden?"i-eye-off":"i-eye"])},null,10,M1),[[x(an),d.hidden?"":"",void 0,{hover:!0,top:!0}]]),r.value[d.id]?(j(),J("div",T1,[(j(!0),J(ye,null,Me(d.data.fields,g=>(j(),J(ye,null,[o.value===""&&n.value!==g.name?pe("",!0):(j(),J("div",{key:0,onClick:Zt(v=>g.hidden=!g.hidden,["stop"]),class:be(["field",{isSearch:o.value===""&&n.value===g.name,hide:g.hidden}])},[Ve(we(g.name)+" ",1),vt(ie("i",{class:be([g.hidden?"i-eye-off":"i-eye"])},null,2),[[x(an),g.hidden?"":"",void 0,{hover:!0,top:!0}]])],10,q1))],64))),256))])):pe("",!0)],2)}),128))])]))}});const I1=Lo(z1,[["__scopeId","data-v-e6a1849b"]]),P1=e=>(Ca("data-v-589bb7eb"),e=e(),Sa(),e),O1={key:0,class:"tags-list"},F1=P1(()=>ie("h6",{class:"w-title"},":",-1)),B1=["onClick"],R1=de({__name:"TagsTableList",setup(e){const t=ht();return(n,o)=>Object.keys(x(t).tags).length?(j(),J("div",O1,[F1,ie("div",null,[(j(!0),J(ye,null,Me(x(t).tags,(r,s)=>(j(),J("span",{onClick:i=>r.isFilterSelected^=!0,class:be(["tag",{active:r.isFilterSelected}]),key:s},we(r.label||r.id),11,B1))),128))])])):pe("",!0)}});const L1=Lo(R1,[["__scopeId","data-v-589bb7eb"]]),V1={class:"w-title"},H1={class:"input-group input-group-sm p-1"},U1={class:"input-group-text"},G1=de({__name:"Settings",setup(e){const t=ht();return(n,o)=>{const r=Tl,s=ql,i=zl;return j(),J("div",null,[vt((j(),J("h6",V1,[Ve(":")])),[[x(Ml),void 0,void 0,{"collapse-settings":!0}]]),ce(i,{visible:"",id:"collapse-settings"},{default:fe(()=>[ce(r,{size:"sm",modelValue:x(t).settings.editMode,"onUpdate:modelValue":o[0]||(o[0]=a=>x(t).settings.editMode=a)},{default:fe(()=>[Ve("Edit mode")]),_:1},8,["modelValue"]),ce(r,{size:"sm",modelValue:x(t).settings.vueFlow.panOnDrag,"onUpdate:modelValue":o[1]||(o[1]=a=>x(t).settings.vueFlow.panOnDrag=a)},{default:fe(()=>[Ve("Pan on drag")]),_:1},8,["modelValue"]),ie("div",H1,[ie("div",U1,[ce(r,{size:"sm",modelValue:x(t).settings.vueFlow.panOnScroll,"onUpdate:modelValue":o[2]||(o[2]=a=>x(t).settings.vueFlow.panOnScroll=a)},{default:fe(()=>[Ve("Pan on scroll")]),_:1},8,["modelValue"])]),ce(s,{type:"number",step:"0.1",min:"0.1",size:"sm",modelValue:x(t).settings.vueFlow.panOnScrollSpeed,"onUpdate:modelValue":o[3]||(o[3]=a=>x(t).settings.vueFlow.panOnScrollSpeed=a),placeholder:"panOnScrollSpeed"},null,8,["modelValue"])])]),_:1})])}}});class j1{convertTable(t){const n=Object.fromEntries(t.fields.map(o=>{const r={...o,tags:[]};return delete r.token,[r.name,r]}));return{id:this.getFullTableName(t.schemaName,t.name),label:t.name,type:"table",position:{x:0,y:0},draggable:!0,expandParent:!0,connectable:!0,data:{tags:[],fields:n,note:t.note}}}getFullTableName(t,n){return t=t||"public",t+"."+n}convertDbmlStructToVueFlow(t){this.replaceTableNameFromAlias(t);const n=[],o=[];for(const r of t.tables)n.push(this.convertTable(r));for(let r=0;r<t.refs.length;r++)o.push(this.convertRefs(t.refs[r],r));return[n,o]}convertRefs(t,n){const[o,r]=t.endpoints;return{id:`ref-${n}`,source:this.getFullTableName(o.schemaName,o.tableName),sourceHandle:o.fieldNames[0],target:this.getFullTableName(r.schemaName,r.tableName),targetHandle:r.fieldNames[0],label:`${o.tableName}.${o.fieldNames[0]} [${o.relation}] :: ${r.tableName}.${r.fieldNames[0]} [${r.relation}]`,data:{sourceRelation:o.relation,targetRelation:r.relation}}}replaceTableNameFromAlias(t){t.refs.map(n=>{n.endpoints.map(o=>{const r=o.tableName,s=t.aliases.find(i=>i.kind==="table"&&i.name===r);s&&(o.tableName=s.value.tableName)})})}}const Y1=new j1,X1={key:0,class:"table-fields"},Z1=["onClick"],W1=de({__name:"ActiveTableInfo",setup(e){const t=ht(),n=(o,r)=>{const s=o.indexOf(r);s===-1?o.push(r):o.splice(s,1)};return(o,r)=>{const s=Il,i=Pl;return x(t).activeTableInfo?(j(),J("div",X1,[ie("h4",null,": "+we(x(t).activeTableInfo.id),1),ce(i,{style:{"font-size":"12px"},striped:"",hover:"",fields:["name","type","note","tags"],items:x(t).activeTableInfo.data.fields},{"cell(type)":fe(a=>[Ve(we(a.value.type_name),1)]),"cell(note)":fe(a=>[x(t).settings.editMode?(j(),ve(s,{key:0,size:"sm",modelValue:a.value,"onUpdate:modelValue":c=>a.value=c,placeholder:"note...",rows:"1","max-rows":"6"},null,8,["modelValue","onUpdate:modelValue"])):(j(),J(ye,{key:1},[Ve(we(a.value),1)],64))]),"cell(tags)":fe(a=>[(j(!0),J(ye,null,Me(x(t).tags,(c,l)=>(j(),J("span",{class:be(["tag",{active:a.value.indexOf(l)!==-1}]),onClick:u=>n(a.value,c.id),key:l},we(c.label||c.id),11,Z1))),128))]),_:1},8,["items"])])):pe("",!0)}}});const K1=Lo(W1,[["__scopeId","data-v-74a8e73a"]]);var jr={},Q1={get exports(){return jr},set exports(e){jr=e}},le={},_o={},J1={get exports(){return _o},set exports(e){_o=e}};const e_="",t_="",n_="",o_="",r_="",s_="",i_="",a_="",c_="",l_="",u_="",d_="",h_="",f_="",p_="",g_="",m_="",v_="",y_="",__="",b_="",w_="",x_="",k_="",E_="",C_="",S_="&",A_="&",$_="",D_="",N_="",M_="",T_="",q_="",z_="",I_="",P_="",O_="",F_="",B_="",R_="",L_="",V_="",H_="",U_="",G_="",j_="",Y_="",X_="",Z_="",W_="",K_="",Q_="",J_="",eb="",tb="",nb="",ob="",rb="",sb="",ib="",ab="'",cb="",lb="",ub="",db="",hb="",fb="",pb="",gb="",mb="*",vb="",yb="",_b="",bb="",wb="",xb="",kb="",Eb="",Cb="",Sb="",Ab="",$b="",Db="",Nb="",Mb="",Tb="",qb="",zb="",Ib="",Pb="",Ob="",Fb="",Bb="",Rb="",Lb="",Vb="",Hb="",Ub="",Gb="",jb="",Yb="",Xb="",Zb="",Wb="",Kb="",Qb="",Jb="",ew="",tw="",nw="",ow="",rw="",sw="",iw="",aw="",cw="",lw="",uw="",dw="",hw="",fw="",pw="",gw="",mw="",vw="",yw="",_w="",bw="",ww="",xw="",kw="",Ew="",Cw="",Sw="=",Aw="",$w="",Dw="",Nw="",Mw="",Tw="",qw="",zw="",Iw="",Pw="",Ow="",Fw="",Bw="",Rw="",Lw="",Vw="",Hw="",Uw="",Gw="",jw="",Yw="",Xw="",Zw="",Ww="",Kw="",Qw="",Jw="",ex="",tx="",nx="",ox="",rx="",sx="",ix="",ax="",cx="",lx="",ux="",dx="",hx="",fx="",px="",gx="",mx="",vx="",yx="",_x="",bx="",wx="",xx="",kx="",Ex="",Cx="",Sx="",Ax="",$x="",Dx="",Nx="",Mx="",Tx="",qx="",zx="",Ix="\\",Px="",Ox="",Fx="",Bx="",Rx="",Lx="",Vx="",Hx="",Ux="",Gx="",jx="",Yx="",Xx="",Zx="",Wx="",Kx="",Qx="",Jx="",ek="",tk="",nk="",ok="",rk="",sk="",ik="",ak="",ck="",lk="",uk="",dk="",hk="",fk="",pk="",gk="",mk="",vk="",yk="",_k="",bk="",wk="",xk="",kk="",Ek="",Ck="",Sk="",Ak="",$k="",Dk="",Nk="",Mk="",Tk="",qk="",zk="",Ik="",Pk="",Ok="",Fk="",Bk="",Rk="",Lk="",Vk="",Hk="",Uk="",Gk="",jk="",Yk="",Xk="",Zk="",Wk="",Kk="",Qk="",Jk="",eE=":",tE="",nE="",oE="",rE="",sE=",",iE="@",aE="",cE="",lE="",uE="",dE="",hE="",fE="",pE="",gE="",mE="",vE="",yE="",_E="",bE="",wE="",xE="",kE="",EE="",CE="",SE="",AE="",$E="",DE="",NE="",ME="",TE="",qE="",zE="",IE="",PE="",OE="",FE="",BE="",RE="",LE="",VE="",HE="",UE="",GE="",jE="",YE="",XE="",ZE="",WE="",KE="",QE="",JE="",eC="",tC="",nC="",oC="",rC="",sC="",iC="",aC="",cC="",lC="",uC="",dC="",hC="",fC="",pC="",gC="",mC="",vC="",yC="",_C="",bC="",wC="",xC="",kC="",EC="",CC="",SC="",AC="",$C="",DC="",NC="",MC="",TC="",qC="",zC="",IC="",PC="",OC="",FC="",BC="",RC="",LC="",VC="",HC="",UC="",GC="`",jC="",YC="",XC="",ZC="",WC="",KC="",QC="",JC="",e2="",t2="",n2="",o2="",r2="",s2="",i2="",a2="",c2="",l2="",u2="$",d2="",h2="",f2="",p2="",g2="",m2="",v2="",y2="",_2="",b2="",w2="",x2="",k2="",E2="",C2="",S2="",A2="",$2="",D2="",N2="",M2="",T2="",q2="",z2="",I2="",P2="",O2="",F2="",B2="",R2="",L2="",V2="",H2="",U2="",G2="",j2="",Y2="",X2="",Z2="",W2="",K2="",Q2="",J2="",eS="",tS="",nS="",oS="",rS="",sS="",iS="",aS="",cS="",lS="",uS="",dS="",hS="",fS="",pS="",gS="",mS="",vS="",yS="",_S="",bS="",wS="",xS="",kS="",ES="",CS="",SS="",AS="",$S="",DS="",NS="",MS="",TS="",qS="",zS="",IS="",PS="",OS="",FS="",BS="",RS="",LS="",VS="",HS="",US="",GS="",jS="",YS="",XS="",ZS="",WS="",KS="",QS="",JS="",eA="",tA="",nA="",oA="",rA="",sA="",iA="",aA="",cA="",lA="",uA="",dA="",hA="",fA="",pA="",gA="",mA="",vA="",yA="",_A="",bA="",wA="",xA="",kA="",EA="",CA="",SA="=",AA="",$A="",DA="",NA="",MA="",TA="",qA="",zA="",IA="",PA="",OA="",FA="",BA="",RA="",LA="",VA="",HA="",UA="",GA="",jA="",YA="!",XA="",ZA="",WA="",KA="",QA="",JA="",e$="",t$="",n$="",o$="",r$="",s$="",i$="",a$="",c$="",l$="",u$="",d$="fj",h$="",f$="",p$="",g$="",m$="",v$="",y$="",_$="",b$="",w$="",x$="",k$="",E$="",C$="",S$="",A$="",$$="",D$="",N$="",M$="",T$="",q$="",z$="",I$="",P$="",O$="",F$="",B$="",R$="",L$="",V$="",H$="",U$="",G$="",j$="",Y$="",X$="",Z$="",W$="",K$="",Q$="",J$="",eD="",tD="",nD="",oD="",rD="",sD="",iD="",aD="",cD="",lD="",uD="",dD="",hD="",fD="",pD="",gD="",mD="",vD="",yD="",_D="",bD="",wD="",xD="",kD="",ED="",CD="",SD="",AD="",$D="",DD="",ND="",MD="",TD="",qD="",zD="",ID="",PD="",OD="",FD="",BD="`",RD="",LD="",VD="",HD="",UD="",GD="",jD="",YD="",XD="",ZD="",WD="",KD="",QD="",JD="",eN=">",tN=">",nN="",oN="",rN="",sN="",iN="",aN="",cN="",lN="",uN="",dN="",hN="",fN="",pN="",gN="",mN="",vN="",yN="",_N="",bN="",wN="",xN="",kN="",EN="",CN="^",SN="",AN="",$N="",DN="",NN="",MN="",TN="",qN="",zN="",IN="",PN="",ON="",FN="",BN="",RN="",LN="",VN="",HN="",UN="",GN="",jN="",YN="",XN="",ZN="",WN="",KN="",QN="",JN="",e3="",t3="",n3="",o3="",r3="",s3="",i3="",a3="",c3="",l3="",u3="",d3="",h3="",f3="",p3="",g3="",m3="",v3="",y3="",_3="",b3="",w3="",x3="",k3="",E3="",C3="",S3="",A3="",$3="",D3="",N3="",M3="",T3="",q3="",z3="",I3="",P3="",O3="",F3="",B3="",R3="",L3="",V3="",H3="",U3="",G3="",j3="",Y3="",X3="",Z3="",W3="",K3="",Q3="",J3="",eM="",tM="",nM="",oM="",rM="",sM="",iM="",aM="",cM="",lM="",uM="",dM="",hM="",fM="",pM="",gM="",mM="",vM="",yM="",_M="",bM="",wM="",xM="",kM="",EM="",CM="",SM="",AM="",$M="",DM="",NM="",MM="",TM="",qM="",zM="",IM="",PM="",OM="",FM="",BM="",RM="",LM="",VM="",HM="",UM="",GM="",jM="",YM="",XM="",ZM="",WM="",KM="",QM="",JM="",eT="",tT="",nT="",oT="",rT="",sT="",iT="",aT="",cT="",lT="",uT="",dT="",hT="",fT="",pT="",gT="",mT="",vT="",yT="",_T="",bT="",wT="",xT="",kT="",ET="",CT="",ST="",AT="",$T="",DT="",NT="",MT="",TT="",qT="{",zT="[",IT="",PT="",OT="",FT="",BT="",RT="",LT="",VT="",HT="{",UT="",GT="",jT="",YT="",XT="",ZT="",WT="",KT="",QT="",JT="",e5="",t5="",n5="",o5="",r5="",s5="",i5="",a5="",c5="",l5="",u5="",d5="",h5="",f5="",p5="",g5="",m5="",v5="",y5="",_5="",b5="",w5="",x5="",k5="",E5="",C5="",S5="",A5="",$5="",D5="",N5="",M5="",T5="",q5="",z5="",I5="",P5="",O5="",F5="",B5="",R5="",L5="",V5="",H5="",U5="",G5="",j5="",Y5="",X5="",Z5="",W5="",K5="",Q5="",J5="",eq="",tq="",nq="",oq="",rq="",sq="",iq="",aq="",cq="",lq="",uq="",dq="",hq="",fq="",pq="",gq="",mq="",vq="",yq="",_q="",bq="",wq="",xq="",kq="",Eq="",Cq="",Sq="",Aq="",$q="",Dq="",Nq="",Mq="",Tq="",qq="",zq="",Iq="",Pq="",Oq="",Fq="",Bq="",Rq="",Lq="",Vq="",Hq="",Uq="",Gq="",jq="",Yq="",Xq="",Zq="",Wq="",Kq="",Qq="",Jq="",ez="",tz="",nz="",oz="",rz="_",sz="",iz="",az="",cz="",lz="",uz="(",dz="",hz="",fz="",pz="",gz="",mz="",vz="",yz="",_z="",bz="",wz="",xz="",kz="",Ez="",Cz="",Sz="[",Az="",$z="",Dz="",Nz="",Mz="",Tz="",qz="<",zz="<",Iz="",Pz="",Oz="",Fz="",Bz="",Rz="",Lz="",Vz="",Hz="",Uz="",Gz="",jz="",Yz="",Xz="",Zz="",Wz="",Kz="",Qz="",Jz="",eI="",tI="",nI="",oI="",rI="",sI="",iI="",aI="",cI="",lI="",uI="",dI="",hI="",fI="",pI="",gI="",mI="",vI="*",yI="",_I="",bI="",wI="",xI="",kI="",EI="",CI="",SI="",AI="",$I="",DI="",NI="",MI="",TI="",qI="",zI="",II="",PI="",OI="",FI="",BI="",RI="",LI="",VI="",HI="",UI="",GI="",jI="",YI="",XI="",ZI="",WI="",KI="",QI="",JI="",e6="",t6="",n6="",o6="",r6="",s6="",i6="",a6="",c6="",l6="",u6="",d6="",h6="",f6="",p6="",g6="",m6="",v6="",y6="",_6="",b6="",w6="",x6="",k6="",E6="",C6="",S6="",A6=`
`,$6="",D6="",N6="",M6="",T6="",q6="",z6="",I6="",P6="",O6="",F6="",B6="",R6="",L6="",V6="",H6="",U6="",G6="",j6="",Y6="",X6="",Z6="",W6="",K6="",Q6="",J6="",e4="",t4="",n4="",o4="",r4="",s4="",i4="",a4="",c4="",l4="",u4="",d4="",h4="",f4="",p4="",g4="",m4="",v4="",y4="",_4="",b4="",w4="",x4="",k4="",E4="",C4="",S4="",A4="",$4="",D4="",N4="",M4="",T4="",q4="",z4="",I4="",P4="",O4="",F4="",B4="",R4="",L4="",V4="",H4="",U4="",G4="",j4="",Y4="",X4="",Z4="",W4="",K4="",Q4="",J4="",eP="",tP="",nP="",oP="",rP="",sP="",iP="",aP="",cP="",lP="",uP="",dP="",hP="",fP="",pP="",gP="",mP="",vP="",yP="",_P="",bP="",wP="",xP="",kP="",EP="",CP="",SP="",AP="",$P="",DP="",NP="",MP="",TP="",qP="",zP="",IP="",PP="",OP="",FP="",BP="",RP="",LP="",VP="",HP="",UP="",GP="",jP="",YP="",XP="",ZP="",WP="",KP="",QP="",JP="",eO="",tO="",nO="",oO="",rO="",sO="",iO="",aO="",cO="",lO="",uO="",dO="",hO="",fO="",pO="",gO="",mO="",vO="",yO="",_O="",bO="",wO="",xO="",kO="",EO="",CO="",SO="",AO="",$O="",DO="",NO="",MO="",TO="",qO="",zO="",IO="",PO="#",OO="",FO="",BO="",RO="",LO="",VO="",HO="",UO="",GO=">",jO="",YO="",XO="",ZO="",WO="<",KO="",QO="",JO="",eF="",tF="",nF="",oF="",rF="",sF="",iF="",aF="",cF="",lF="",uF="",dF="",hF="",fF="",pF="",gF="",mF="",vF="",yF="",_F="",bF="",wF="",xF="",kF="",EF="",CF="",SF="",AF="",$F="",DF="",NF="",MF="",TF="",qF="",zF="",IF="",PF="",OF="",FF="",BF="",RF="",LF="",VF="",HF="",UF="",GF="",jF="",YF="",XF="",ZF="",WF="",KF="",QF="",JF="",eB="",tB="",nB="",oB="",rB="",sB="",iB="",aB="",cB="",lB="",uB="",dB="",hB="",fB="",pB="",gB="",mB="",vB="",yB="",_B="",bB="",wB="",xB="",kB="",EB="",CB="",SB="",AB="",$B="",DB="",NB="",MB="",TB="",qB="",zB="",IB="",PB="",OB="%",FB=".",BB="",RB="",LB="",VB="",HB="",UB="",GB="",jB="",YB="",XB="",ZB="",WB="",KB="",QB="",JB="",eR="",tR="",nR="",oR="",rR="",sR="+",iR="",aR="",cR="",lR="",uR="",dR="",hR="",fR="",pR="",gR="",mR="",vR="",yR="",_R="",bR="",wR="",xR="",kR="",ER="",CR="",SR="",AR="",$R="",DR="",NR="",MR="",TR="",qR="",zR="",IR="",PR="",OR="",FR="",BR="",RR="",LR="",VR="",HR="",UR="",GR="",jR="",YR="",XR="",ZR="",WR="",KR="",QR="",JR="",e8="",t8="",n8="",o8="",r8="",s8="",i8="",a8="",c8="",l8="",u8="",d8="",h8="",f8="",p8="",g8="?",m8="",v8='"',y8='"',_8="",b8="",w8="",x8="",k8="",E8="",C8="",S8="",A8="",$8="",D8="",N8="",M8="",T8="",q8="",z8="",I8="",P8="",O8="",F8="",B8="",R8="",L8="",V8="",H8="",U8="",G8="",j8="",Y8="",X8="",Z8="",W8="",K8="",Q8="",J8="",eL="}",tL="]",nL="",oL="",rL="",sL="",iL="",aL="",cL="",lL="",uL="}",dL="",hL="",fL="",pL="",gL="",mL="",vL="",yL="",_L="",bL="",wL="",xL="",kL="",EL="",CL="",SL="",AL="",$L="",DL="",NL="",ML="",TL="",qL="",zL="",IL="",PL="",OL="",FL="",BL="",RL="",LL="",VL="",HL="",UL="",GL="",jL="",YL="",XL="",ZL="",WL="",KL="",QL="",JL="",e7="",t7="",n7="",o7="",r7="",s7="",i7="",a7="",c7="",l7="",u7="",d7="",h7="",f7="",p7="",g7="",m7="",v7="",y7="",_7="",b7="",w7="",x7="",k7="",E7="",C7="",S7="",A7="",$7="",D7="",N7="",M7="",T7="",q7="",z7="",I7=")",P7="",O7="",F7="",B7="",R7="",L7="",V7="",H7="",U7="",G7="]",j7="",Y7="",X7="",Z7="",W7="",K7="",Q7="",J7="",e9="",t9="",n9="",o9="",r9="",s9="",i9="",a9="",c9="",l9="",u9="",d9="",h9="",f9="",p9="",g9="",m9="",v9="",y9="",_9="",b9="",w9="",x9="",k9="",E9="",C9="",S9="",A9="",$9="",D9="",N9="",M9="",T9="",q9=";",z9="",I9="",P9="",O9="",F9="",B9="",R9="",L9="",V9="",H9="",U9="",G9="",j9="",Y9="",X9="",Z9="",W9="",K9="",Q9="",J9="",eV="",tV="",nV="",oV="",rV="",sV="",iV="",aV="",cV="",lV="",uV="",dV="",hV="",fV="",pV="",gV="",mV="",vV="",yV="",_V="",bV="",wV="",xV="",kV="",EV="",CV="",SV="",AV="",$V="/",DV="",NV="",MV="",TV="",qV="",zV="",IV="",PV="",OV="",FV="",BV="",RV="",LV="",VV="",HV="",UV="",GV="",jV="",YV="",XV="",ZV="",WV="",KV="",QV="",JV="",eH="",tH="",nH="",oH="",rH="",sH="",iH="",aH="",cH="",lH="",uH="",dH="",hH="",fH="",pH="",gH="",mH="",vH="",yH="",_H="",bH="",wH="",xH="",kH="",EH="",CH="",SH="",AH="",$H="",DH="",NH="",MH="",TH="",qH="",zH="",IH="",PH="",OH="",FH="",BH="",RH="",LH="",VH="",HH="",UH="",GH="",jH="",YH="",XH="",ZH="",WH="",KH="",QH="",JH="",eU="",tU="",nU="",oU="",rU="",sU="",iU="",aU="",cU="",lU="",uU="",dU="",hU="",fU="",pU="",gU="",mU="",vU="",yU="",_U="",bU="",wU="",xU="",kU="",EU="",CU="",SU="",AU="",$U="",DU="",NU="",MU="",TU="",qU="	",zU="",IU="",PU="",OU="",FU="",BU="",RU="",LU="",VU="",HU="",UU="",GU="",jU="",YU="",XU="",ZU="",WU="",KU="",QU="",JU="",eG="",tG="",nG="",oG="",rG="",sG="",iG="",aG="",cG="",lG="",uG="",dG="",hG="",fG="",pG="",gG="",mG="",vG="",yG="",_G="",bG="",wG="",xG="",kG="",EG="",CG="",SG="",AG="",$G="",DG="",NG="",MG="",TG="",qG="",zG="",IG="",PG="",OG="",FG="",BG="",RG="",LG="",VG="",HG="",UG="",GG="",jG="",YG="",XG="",ZG="",WG="",KG="",QG="",JG="",ej="",tj="",nj="",oj="",rj="",sj="",ij="",aj="",cj="",lj="",uj="",dj="",hj="",fj="",pj="",gj="",mj="",vj="",yj="",_j="",bj="",wj="",xj="",kj="",Ej="",Cj="",Sj="",Aj="",$j="",Dj="",Nj="",Mj="",Tj="",qj="",zj="",Ij="",Pj="",Oj="_",Fj="",Bj="",Rj="",Lj="",Vj="",Hj="",Uj="",Gj="",jj="",Yj="",Xj="",Zj="",Wj="",Kj="",Qj="",Jj="",eY="",tY="",nY="",oY="",rY="",sY="",iY="",aY="",cY="",lY="",uY="",dY="",hY="",fY="",pY="",gY="",mY="",vY="",yY="",_Y="",bY="",wY="",xY="",kY="",EY="",CY="",SY="",AY="",$Y="",DY="",NY="",MY="",TY="",qY="",zY="",IY="",PY="",OY="",FY="",BY="",RY="",LY="",VY="",HY="",UY="",GY="",jY="",YY="",XY="",ZY="",WY="",KY="",QY="",JY="",eX="",tX="",nX="",oX="",rX="",sX="",iX="",aX="",cX="",lX="",uX="",dX="|",hX="",fX="|",pX="",gX="",mX="|",vX="",yX="",_X="",bX="",wX="",xX="",kX="",EX="",CX="",SX="",AX="",$X="",DX="",NX="",MX="",TX="",qX="",zX="",IX="",PX="",OX="",FX="",BX="",RX="",LX="",VX="",HX="",UX="",GX="",jX="",YX="",XX="",ZX="",WX="",KX="",QX="",JX="",eZ="",tZ="",nZ="",oZ="",rZ="",sZ="",iZ="",aZ="",cZ="",lZ="",uZ="",dZ="",hZ="",fZ="",pZ="",gZ="",mZ="",vZ="",yZ="",_Z="",bZ="",wZ="",xZ="",kZ="",EZ="",CZ="",SZ="",AZ="",$Z="",DZ="",NZ="",MZ="",TZ="",qZ="",zZ="",IZ="",PZ="",OZ="",FZ="",BZ="",RZ="",LZ="",VZ="",HZ="",UZ="",GZ="",jZ="",YZ="",XZ="",ZZ="",WZ="",KZ="",QZ="",JZ="",eW="",tW="",nW="",oW="",rW="",sW="",iW="",aW="",cW="",lW="",uW="",dW="",hW="",fW="",pW="",gW="",mW="",vW={Aacute:e_,aacute:t_,Abreve:n_,abreve:o_,ac:r_,acd:s_,acE:i_,Acirc:a_,acirc:c_,acute:l_,Acy:u_,acy:d_,AElig:h_,aelig:f_,af:p_,Afr:g_,afr:m_,Agrave:v_,agrave:y_,alefsym:__,aleph:b_,Alpha:w_,alpha:x_,Amacr:k_,amacr:E_,amalg:C_,amp:S_,AMP:A_,andand:$_,And:D_,and:N_,andd:M_,andslope:T_,andv:q_,ang:z_,ange:I_,angle:P_,angmsdaa:O_,angmsdab:F_,angmsdac:B_,angmsdad:R_,angmsdae:L_,angmsdaf:V_,angmsdag:H_,angmsdah:U_,angmsd:G_,angrt:j_,angrtvb:Y_,angrtvbd:X_,angsph:Z_,angst:W_,angzarr:K_,Aogon:Q_,aogon:J_,Aopf:eb,aopf:tb,apacir:nb,ap:ob,apE:rb,ape:sb,apid:ib,apos:ab,ApplyFunction:cb,approx:lb,approxeq:ub,Aring:db,aring:hb,Ascr:fb,ascr:pb,Assign:gb,ast:mb,asymp:vb,asympeq:yb,Atilde:_b,atilde:bb,Auml:wb,auml:xb,awconint:kb,awint:Eb,backcong:Cb,backepsilon:Sb,backprime:Ab,backsim:$b,backsimeq:Db,Backslash:Nb,Barv:Mb,barvee:Tb,barwed:qb,Barwed:zb,barwedge:Ib,bbrk:Pb,bbrktbrk:Ob,bcong:Fb,Bcy:Bb,bcy:Rb,bdquo:Lb,becaus:Vb,because:Hb,Because:Ub,bemptyv:Gb,bepsi:jb,bernou:Yb,Bernoullis:Xb,Beta:Zb,beta:Wb,beth:Kb,between:Qb,Bfr:Jb,bfr:ew,bigcap:tw,bigcirc:nw,bigcup:ow,bigodot:rw,bigoplus:sw,bigotimes:iw,bigsqcup:aw,bigstar:cw,bigtriangledown:lw,bigtriangleup:uw,biguplus:dw,bigvee:hw,bigwedge:fw,bkarow:pw,blacklozenge:gw,blacksquare:mw,blacktriangle:vw,blacktriangledown:yw,blacktriangleleft:_w,blacktriangleright:bw,blank:ww,blk12:xw,blk14:kw,blk34:Ew,block:Cw,bne:Sw,bnequiv:Aw,bNot:$w,bnot:Dw,Bopf:Nw,bopf:Mw,bot:Tw,bottom:qw,bowtie:zw,boxbox:Iw,boxdl:Pw,boxdL:Ow,boxDl:Fw,boxDL:Bw,boxdr:Rw,boxdR:Lw,boxDr:Vw,boxDR:Hw,boxh:Uw,boxH:Gw,boxhd:jw,boxHd:Yw,boxhD:Xw,boxHD:Zw,boxhu:Ww,boxHu:Kw,boxhU:Qw,boxHU:Jw,boxminus:ex,boxplus:tx,boxtimes:nx,boxul:ox,boxuL:rx,boxUl:sx,boxUL:ix,boxur:ax,boxuR:cx,boxUr:lx,boxUR:ux,boxv:dx,boxV:hx,boxvh:fx,boxvH:px,boxVh:gx,boxVH:mx,boxvl:vx,boxvL:yx,boxVl:_x,boxVL:bx,boxvr:wx,boxvR:xx,boxVr:kx,boxVR:Ex,bprime:Cx,breve:Sx,Breve:Ax,brvbar:$x,bscr:Dx,Bscr:Nx,bsemi:Mx,bsim:Tx,bsime:qx,bsolb:zx,bsol:Ix,bsolhsub:Px,bull:Ox,bullet:Fx,bump:Bx,bumpE:Rx,bumpe:Lx,Bumpeq:Vx,bumpeq:Hx,Cacute:Ux,cacute:Gx,capand:jx,capbrcup:Yx,capcap:Xx,cap:Zx,Cap:Wx,capcup:Kx,capdot:Qx,CapitalDifferentialD:Jx,caps:ek,caret:tk,caron:nk,Cayleys:ok,ccaps:rk,Ccaron:sk,ccaron:ik,Ccedil:ak,ccedil:ck,Ccirc:lk,ccirc:uk,Cconint:dk,ccups:hk,ccupssm:fk,Cdot:pk,cdot:gk,cedil:mk,Cedilla:vk,cemptyv:yk,cent:_k,centerdot:bk,CenterDot:wk,cfr:xk,Cfr:kk,CHcy:Ek,chcy:Ck,check:Sk,checkmark:Ak,Chi:$k,chi:Dk,circ:Nk,circeq:Mk,circlearrowleft:Tk,circlearrowright:qk,circledast:zk,circledcirc:Ik,circleddash:Pk,CircleDot:Ok,circledR:Fk,circledS:Bk,CircleMinus:Rk,CirclePlus:Lk,CircleTimes:Vk,cir:Hk,cirE:Uk,cire:Gk,cirfnint:jk,cirmid:Yk,cirscir:Xk,ClockwiseContourIntegral:Zk,CloseCurlyDoubleQuote:Wk,CloseCurlyQuote:Kk,clubs:Qk,clubsuit:Jk,colon:eE,Colon:tE,Colone:nE,colone:oE,coloneq:rE,comma:sE,commat:iE,comp:aE,compfn:cE,complement:lE,complexes:uE,cong:dE,congdot:hE,Congruent:fE,conint:pE,Conint:gE,ContourIntegral:mE,copf:vE,Copf:yE,coprod:_E,Coproduct:bE,copy:wE,COPY:xE,copysr:kE,CounterClockwiseContourIntegral:EE,crarr:CE,cross:SE,Cross:AE,Cscr:$E,cscr:DE,csub:NE,csube:ME,csup:TE,csupe:qE,ctdot:zE,cudarrl:IE,cudarrr:PE,cuepr:OE,cuesc:FE,cularr:BE,cularrp:RE,cupbrcap:LE,cupcap:VE,CupCap:HE,cup:UE,Cup:GE,cupcup:jE,cupdot:YE,cupor:XE,cups:ZE,curarr:WE,curarrm:KE,curlyeqprec:QE,curlyeqsucc:JE,curlyvee:eC,curlywedge:tC,curren:nC,curvearrowleft:oC,curvearrowright:rC,cuvee:sC,cuwed:iC,cwconint:aC,cwint:cC,cylcty:lC,dagger:uC,Dagger:dC,daleth:hC,darr:fC,Darr:pC,dArr:gC,dash:mC,Dashv:vC,dashv:yC,dbkarow:_C,dblac:bC,Dcaron:wC,dcaron:xC,Dcy:kC,dcy:EC,ddagger:CC,ddarr:SC,DD:AC,dd:$C,DDotrahd:DC,ddotseq:NC,deg:MC,Del:TC,Delta:qC,delta:zC,demptyv:IC,dfisht:PC,Dfr:OC,dfr:FC,dHar:BC,dharl:RC,dharr:LC,DiacriticalAcute:VC,DiacriticalDot:HC,DiacriticalDoubleAcute:UC,DiacriticalGrave:GC,DiacriticalTilde:jC,diam:YC,diamond:XC,Diamond:ZC,diamondsuit:WC,diams:KC,die:QC,DifferentialD:JC,digamma:e2,disin:t2,div:n2,divide:o2,divideontimes:r2,divonx:s2,DJcy:i2,djcy:a2,dlcorn:c2,dlcrop:l2,dollar:u2,Dopf:d2,dopf:h2,Dot:f2,dot:p2,DotDot:g2,doteq:m2,doteqdot:v2,DotEqual:y2,dotminus:_2,dotplus:b2,dotsquare:w2,doublebarwedge:x2,DoubleContourIntegral:k2,DoubleDot:E2,DoubleDownArrow:C2,DoubleLeftArrow:S2,DoubleLeftRightArrow:A2,DoubleLeftTee:$2,DoubleLongLeftArrow:D2,DoubleLongLeftRightArrow:N2,DoubleLongRightArrow:M2,DoubleRightArrow:T2,DoubleRightTee:q2,DoubleUpArrow:z2,DoubleUpDownArrow:I2,DoubleVerticalBar:P2,DownArrowBar:O2,downarrow:F2,DownArrow:B2,Downarrow:R2,DownArrowUpArrow:L2,DownBreve:V2,downdownarrows:H2,downharpoonleft:U2,downharpoonright:G2,DownLeftRightVector:j2,DownLeftTeeVector:Y2,DownLeftVectorBar:X2,DownLeftVector:Z2,DownRightTeeVector:W2,DownRightVectorBar:K2,DownRightVector:Q2,DownTeeArrow:J2,DownTee:eS,drbkarow:tS,drcorn:nS,drcrop:oS,Dscr:rS,dscr:sS,DScy:iS,dscy:aS,dsol:cS,Dstrok:lS,dstrok:uS,dtdot:dS,dtri:hS,dtrif:fS,duarr:pS,duhar:gS,dwangle:mS,DZcy:vS,dzcy:yS,dzigrarr:_S,Eacute:bS,eacute:wS,easter:xS,Ecaron:kS,ecaron:ES,Ecirc:CS,ecirc:SS,ecir:AS,ecolon:$S,Ecy:DS,ecy:NS,eDDot:MS,Edot:TS,edot:qS,eDot:zS,ee:IS,efDot:PS,Efr:OS,efr:FS,eg:BS,Egrave:RS,egrave:LS,egs:VS,egsdot:HS,el:US,Element:GS,elinters:jS,ell:YS,els:XS,elsdot:ZS,Emacr:WS,emacr:KS,empty:QS,emptyset:JS,EmptySmallSquare:eA,emptyv:tA,EmptyVerySmallSquare:nA,emsp13:oA,emsp14:rA,emsp:sA,ENG:iA,eng:aA,ensp:cA,Eogon:lA,eogon:uA,Eopf:dA,eopf:hA,epar:fA,eparsl:pA,eplus:gA,epsi:mA,Epsilon:vA,epsilon:yA,epsiv:_A,eqcirc:bA,eqcolon:wA,eqsim:xA,eqslantgtr:kA,eqslantless:EA,Equal:CA,equals:SA,EqualTilde:AA,equest:$A,Equilibrium:DA,equiv:NA,equivDD:MA,eqvparsl:TA,erarr:qA,erDot:zA,escr:IA,Escr:PA,esdot:OA,Esim:FA,esim:BA,Eta:RA,eta:LA,ETH:VA,eth:HA,Euml:UA,euml:GA,euro:jA,excl:YA,exist:XA,Exists:ZA,expectation:WA,exponentiale:KA,ExponentialE:QA,fallingdotseq:JA,Fcy:e$,fcy:t$,female:n$,ffilig:o$,fflig:r$,ffllig:s$,Ffr:i$,ffr:a$,filig:c$,FilledSmallSquare:l$,FilledVerySmallSquare:u$,fjlig:d$,flat:h$,fllig:f$,fltns:p$,fnof:g$,Fopf:m$,fopf:v$,forall:y$,ForAll:_$,fork:b$,forkv:w$,Fouriertrf:x$,fpartint:k$,frac12:E$,frac13:C$,frac14:S$,frac15:A$,frac16:$$,frac18:D$,frac23:N$,frac25:M$,frac34:T$,frac35:q$,frac38:z$,frac45:I$,frac56:P$,frac58:O$,frac78:F$,frasl:B$,frown:R$,fscr:L$,Fscr:V$,gacute:H$,Gamma:U$,gamma:G$,Gammad:j$,gammad:Y$,gap:X$,Gbreve:Z$,gbreve:W$,Gcedil:K$,Gcirc:Q$,gcirc:J$,Gcy:eD,gcy:tD,Gdot:nD,gdot:oD,ge:rD,gE:sD,gEl:iD,gel:aD,geq:cD,geqq:lD,geqslant:uD,gescc:dD,ges:hD,gesdot:fD,gesdoto:pD,gesdotol:gD,gesl:mD,gesles:vD,Gfr:yD,gfr:_D,gg:bD,Gg:wD,ggg:xD,gimel:kD,GJcy:ED,gjcy:CD,gla:SD,gl:AD,glE:$D,glj:DD,gnap:ND,gnapprox:MD,gne:TD,gnE:qD,gneq:zD,gneqq:ID,gnsim:PD,Gopf:OD,gopf:FD,grave:BD,GreaterEqual:RD,GreaterEqualLess:LD,GreaterFullEqual:VD,GreaterGreater:HD,GreaterLess:UD,GreaterSlantEqual:GD,GreaterTilde:jD,Gscr:YD,gscr:XD,gsim:ZD,gsime:WD,gsiml:KD,gtcc:QD,gtcir:JD,gt:eN,GT:tN,Gt:nN,gtdot:oN,gtlPar:rN,gtquest:sN,gtrapprox:iN,gtrarr:aN,gtrdot:cN,gtreqless:lN,gtreqqless:uN,gtrless:dN,gtrsim:hN,gvertneqq:fN,gvnE:pN,Hacek:gN,hairsp:mN,half:vN,hamilt:yN,HARDcy:_N,hardcy:bN,harrcir:wN,harr:xN,hArr:kN,harrw:EN,Hat:CN,hbar:SN,Hcirc:AN,hcirc:$N,hearts:DN,heartsuit:NN,hellip:MN,hercon:TN,hfr:qN,Hfr:zN,HilbertSpace:IN,hksearow:PN,hkswarow:ON,hoarr:FN,homtht:BN,hookleftarrow:RN,hookrightarrow:LN,hopf:VN,Hopf:HN,horbar:UN,HorizontalLine:GN,hscr:jN,Hscr:YN,hslash:XN,Hstrok:ZN,hstrok:WN,HumpDownHump:KN,HumpEqual:QN,hybull:JN,hyphen:e3,Iacute:t3,iacute:n3,ic:o3,Icirc:r3,icirc:s3,Icy:i3,icy:a3,Idot:c3,IEcy:l3,iecy:u3,iexcl:d3,iff:h3,ifr:f3,Ifr:p3,Igrave:g3,igrave:m3,ii:v3,iiiint:y3,iiint:_3,iinfin:b3,iiota:w3,IJlig:x3,ijlig:k3,Imacr:E3,imacr:C3,image:S3,ImaginaryI:A3,imagline:$3,imagpart:D3,imath:N3,Im:M3,imof:T3,imped:q3,Implies:z3,incare:I3,in:"",infin:P3,infintie:O3,inodot:F3,intcal:B3,int:R3,Int:L3,integers:V3,Integral:H3,intercal:U3,Intersection:G3,intlarhk:j3,intprod:Y3,InvisibleComma:X3,InvisibleTimes:Z3,IOcy:W3,iocy:K3,Iogon:Q3,iogon:J3,Iopf:eM,iopf:tM,Iota:nM,iota:oM,iprod:rM,iquest:sM,iscr:iM,Iscr:aM,isin:cM,isindot:lM,isinE:uM,isins:dM,isinsv:hM,isinv:fM,it:pM,Itilde:gM,itilde:mM,Iukcy:vM,iukcy:yM,Iuml:_M,iuml:bM,Jcirc:wM,jcirc:xM,Jcy:kM,jcy:EM,Jfr:CM,jfr:SM,jmath:AM,Jopf:$M,jopf:DM,Jscr:NM,jscr:MM,Jsercy:TM,jsercy:qM,Jukcy:zM,jukcy:IM,Kappa:PM,kappa:OM,kappav:FM,Kcedil:BM,kcedil:RM,Kcy:LM,kcy:VM,Kfr:HM,kfr:UM,kgreen:GM,KHcy:jM,khcy:YM,KJcy:XM,kjcy:ZM,Kopf:WM,kopf:KM,Kscr:QM,kscr:JM,lAarr:eT,Lacute:tT,lacute:nT,laemptyv:oT,lagran:rT,Lambda:sT,lambda:iT,lang:aT,Lang:cT,langd:lT,langle:uT,lap:dT,Laplacetrf:hT,laquo:fT,larrb:pT,larrbfs:gT,larr:mT,Larr:vT,lArr:yT,larrfs:_T,larrhk:bT,larrlp:wT,larrpl:xT,larrsim:kT,larrtl:ET,latail:CT,lAtail:ST,lat:AT,late:$T,lates:DT,lbarr:NT,lBarr:MT,lbbrk:TT,lbrace:qT,lbrack:zT,lbrke:IT,lbrksld:PT,lbrkslu:OT,Lcaron:FT,lcaron:BT,Lcedil:RT,lcedil:LT,lceil:VT,lcub:HT,Lcy:UT,lcy:GT,ldca:jT,ldquo:YT,ldquor:XT,ldrdhar:ZT,ldrushar:WT,ldsh:KT,le:QT,lE:JT,LeftAngleBracket:e5,LeftArrowBar:t5,leftarrow:n5,LeftArrow:o5,Leftarrow:r5,LeftArrowRightArrow:s5,leftarrowtail:i5,LeftCeiling:a5,LeftDoubleBracket:c5,LeftDownTeeVector:l5,LeftDownVectorBar:u5,LeftDownVector:d5,LeftFloor:h5,leftharpoondown:f5,leftharpoonup:p5,leftleftarrows:g5,leftrightarrow:m5,LeftRightArrow:v5,Leftrightarrow:y5,leftrightarrows:_5,leftrightharpoons:b5,leftrightsquigarrow:w5,LeftRightVector:x5,LeftTeeArrow:k5,LeftTee:E5,LeftTeeVector:C5,leftthreetimes:S5,LeftTriangleBar:A5,LeftTriangle:$5,LeftTriangleEqual:D5,LeftUpDownVector:N5,LeftUpTeeVector:M5,LeftUpVectorBar:T5,LeftUpVector:q5,LeftVectorBar:z5,LeftVector:I5,lEg:P5,leg:O5,leq:F5,leqq:B5,leqslant:R5,lescc:L5,les:V5,lesdot:H5,lesdoto:U5,lesdotor:G5,lesg:j5,lesges:Y5,lessapprox:X5,lessdot:Z5,lesseqgtr:W5,lesseqqgtr:K5,LessEqualGreater:Q5,LessFullEqual:J5,LessGreater:eq,lessgtr:tq,LessLess:nq,lesssim:oq,LessSlantEqual:rq,LessTilde:sq,lfisht:iq,lfloor:aq,Lfr:cq,lfr:lq,lg:uq,lgE:dq,lHar:hq,lhard:fq,lharu:pq,lharul:gq,lhblk:mq,LJcy:vq,ljcy:yq,llarr:_q,ll:bq,Ll:wq,llcorner:xq,Lleftarrow:kq,llhard:Eq,lltri:Cq,Lmidot:Sq,lmidot:Aq,lmoustache:$q,lmoust:Dq,lnap:Nq,lnapprox:Mq,lne:Tq,lnE:qq,lneq:zq,lneqq:Iq,lnsim:Pq,loang:Oq,loarr:Fq,lobrk:Bq,longleftarrow:Rq,LongLeftArrow:Lq,Longleftarrow:Vq,longleftrightarrow:Hq,LongLeftRightArrow:Uq,Longleftrightarrow:Gq,longmapsto:jq,longrightarrow:Yq,LongRightArrow:Xq,Longrightarrow:Zq,looparrowleft:Wq,looparrowright:Kq,lopar:Qq,Lopf:Jq,lopf:ez,loplus:tz,lotimes:nz,lowast:oz,lowbar:rz,LowerLeftArrow:sz,LowerRightArrow:iz,loz:az,lozenge:cz,lozf:lz,lpar:uz,lparlt:dz,lrarr:hz,lrcorner:fz,lrhar:pz,lrhard:gz,lrm:mz,lrtri:vz,lsaquo:yz,lscr:_z,Lscr:bz,lsh:wz,Lsh:xz,lsim:kz,lsime:Ez,lsimg:Cz,lsqb:Sz,lsquo:Az,lsquor:$z,Lstrok:Dz,lstrok:Nz,ltcc:Mz,ltcir:Tz,lt:qz,LT:zz,Lt:Iz,ltdot:Pz,lthree:Oz,ltimes:Fz,ltlarr:Bz,ltquest:Rz,ltri:Lz,ltrie:Vz,ltrif:Hz,ltrPar:Uz,lurdshar:Gz,luruhar:jz,lvertneqq:Yz,lvnE:Xz,macr:Zz,male:Wz,malt:Kz,maltese:Qz,Map:"",map:Jz,mapsto:eI,mapstodown:tI,mapstoleft:nI,mapstoup:oI,marker:rI,mcomma:sI,Mcy:iI,mcy:aI,mdash:cI,mDDot:lI,measuredangle:uI,MediumSpace:dI,Mellintrf:hI,Mfr:fI,mfr:pI,mho:gI,micro:mI,midast:vI,midcir:yI,mid:_I,middot:bI,minusb:wI,minus:xI,minusd:kI,minusdu:EI,MinusPlus:CI,mlcp:SI,mldr:AI,mnplus:$I,models:DI,Mopf:NI,mopf:MI,mp:TI,mscr:qI,Mscr:zI,mstpos:II,Mu:PI,mu:OI,multimap:FI,mumap:BI,nabla:RI,Nacute:LI,nacute:VI,nang:HI,nap:UI,napE:GI,napid:jI,napos:YI,napprox:XI,natural:ZI,naturals:WI,natur:KI,nbsp:QI,nbump:JI,nbumpe:e6,ncap:t6,Ncaron:n6,ncaron:o6,Ncedil:r6,ncedil:s6,ncong:i6,ncongdot:a6,ncup:c6,Ncy:l6,ncy:u6,ndash:d6,nearhk:h6,nearr:f6,neArr:p6,nearrow:g6,ne:m6,nedot:v6,NegativeMediumSpace:y6,NegativeThickSpace:_6,NegativeThinSpace:b6,NegativeVeryThinSpace:w6,nequiv:x6,nesear:k6,nesim:E6,NestedGreaterGreater:C6,NestedLessLess:S6,NewLine:A6,nexist:$6,nexists:D6,Nfr:N6,nfr:M6,ngE:T6,nge:q6,ngeq:z6,ngeqq:I6,ngeqslant:P6,nges:O6,nGg:F6,ngsim:B6,nGt:R6,ngt:L6,ngtr:V6,nGtv:H6,nharr:U6,nhArr:G6,nhpar:j6,ni:Y6,nis:X6,nisd:Z6,niv:W6,NJcy:K6,njcy:Q6,nlarr:J6,nlArr:e4,nldr:t4,nlE:n4,nle:o4,nleftarrow:r4,nLeftarrow:s4,nleftrightarrow:i4,nLeftrightarrow:a4,nleq:c4,nleqq:l4,nleqslant:u4,nles:d4,nless:h4,nLl:f4,nlsim:p4,nLt:g4,nlt:m4,nltri:v4,nltrie:y4,nLtv:_4,nmid:b4,NoBreak:w4,NonBreakingSpace:x4,nopf:k4,Nopf:E4,Not:C4,not:S4,NotCongruent:A4,NotCupCap:$4,NotDoubleVerticalBar:D4,NotElement:N4,NotEqual:M4,NotEqualTilde:T4,NotExists:q4,NotGreater:z4,NotGreaterEqual:I4,NotGreaterFullEqual:P4,NotGreaterGreater:O4,NotGreaterLess:F4,NotGreaterSlantEqual:B4,NotGreaterTilde:R4,NotHumpDownHump:L4,NotHumpEqual:V4,notin:H4,notindot:U4,notinE:G4,notinva:j4,notinvb:Y4,notinvc:X4,NotLeftTriangleBar:Z4,NotLeftTriangle:W4,NotLeftTriangleEqual:K4,NotLess:Q4,NotLessEqual:J4,NotLessGreater:eP,NotLessLess:tP,NotLessSlantEqual:nP,NotLessTilde:oP,NotNestedGreaterGreater:rP,NotNestedLessLess:sP,notni:iP,notniva:aP,notnivb:cP,notnivc:lP,NotPrecedes:uP,NotPrecedesEqual:dP,NotPrecedesSlantEqual:hP,NotReverseElement:fP,NotRightTriangleBar:pP,NotRightTriangle:gP,NotRightTriangleEqual:mP,NotSquareSubset:vP,NotSquareSubsetEqual:yP,NotSquareSuperset:_P,NotSquareSupersetEqual:bP,NotSubset:wP,NotSubsetEqual:xP,NotSucceeds:kP,NotSucceedsEqual:EP,NotSucceedsSlantEqual:CP,NotSucceedsTilde:SP,NotSuperset:AP,NotSupersetEqual:$P,NotTilde:DP,NotTildeEqual:NP,NotTildeFullEqual:MP,NotTildeTilde:TP,NotVerticalBar:qP,nparallel:zP,npar:IP,nparsl:PP,npart:OP,npolint:FP,npr:BP,nprcue:RP,nprec:LP,npreceq:VP,npre:HP,nrarrc:UP,nrarr:GP,nrArr:jP,nrarrw:YP,nrightarrow:XP,nRightarrow:ZP,nrtri:WP,nrtrie:KP,nsc:QP,nsccue:JP,nsce:eO,Nscr:tO,nscr:nO,nshortmid:oO,nshortparallel:rO,nsim:sO,nsime:iO,nsimeq:aO,nsmid:cO,nspar:lO,nsqsube:uO,nsqsupe:dO,nsub:hO,nsubE:fO,nsube:pO,nsubset:gO,nsubseteq:mO,nsubseteqq:vO,nsucc:yO,nsucceq:_O,nsup:bO,nsupE:wO,nsupe:xO,nsupset:kO,nsupseteq:EO,nsupseteqq:CO,ntgl:SO,Ntilde:AO,ntilde:$O,ntlg:DO,ntriangleleft:NO,ntrianglelefteq:MO,ntriangleright:TO,ntrianglerighteq:qO,Nu:zO,nu:IO,num:PO,numero:OO,numsp:FO,nvap:BO,nvdash:RO,nvDash:LO,nVdash:VO,nVDash:HO,nvge:UO,nvgt:GO,nvHarr:jO,nvinfin:YO,nvlArr:XO,nvle:ZO,nvlt:WO,nvltrie:KO,nvrArr:QO,nvrtrie:JO,nvsim:eF,nwarhk:tF,nwarr:nF,nwArr:oF,nwarrow:rF,nwnear:sF,Oacute:iF,oacute:aF,oast:cF,Ocirc:lF,ocirc:uF,ocir:dF,Ocy:hF,ocy:fF,odash:pF,Odblac:gF,odblac:mF,odiv:vF,odot:yF,odsold:_F,OElig:bF,oelig:wF,ofcir:xF,Ofr:kF,ofr:EF,ogon:CF,Ograve:SF,ograve:AF,ogt:$F,ohbar:DF,ohm:NF,oint:MF,olarr:TF,olcir:qF,olcross:zF,oline:IF,olt:PF,Omacr:OF,omacr:FF,Omega:BF,omega:RF,Omicron:LF,omicron:VF,omid:HF,ominus:UF,Oopf:GF,oopf:jF,opar:YF,OpenCurlyDoubleQuote:XF,OpenCurlyQuote:ZF,operp:WF,oplus:KF,orarr:QF,Or:JF,or:eB,ord:tB,order:nB,orderof:oB,ordf:rB,ordm:sB,origof:iB,oror:aB,orslope:cB,orv:lB,oS:uB,Oscr:dB,oscr:hB,Oslash:fB,oslash:pB,osol:gB,Otilde:mB,otilde:vB,otimesas:yB,Otimes:_B,otimes:bB,Ouml:wB,ouml:xB,ovbar:kB,OverBar:EB,OverBrace:CB,OverBracket:SB,OverParenthesis:AB,para:$B,parallel:DB,par:NB,parsim:MB,parsl:TB,part:qB,PartialD:zB,Pcy:IB,pcy:PB,percnt:OB,period:FB,permil:BB,perp:RB,pertenk:LB,Pfr:VB,pfr:HB,Phi:UB,phi:GB,phiv:jB,phmmat:YB,phone:XB,Pi:ZB,pi:WB,pitchfork:KB,piv:QB,planck:JB,planckh:eR,plankv:tR,plusacir:nR,plusb:oR,pluscir:rR,plus:sR,plusdo:iR,plusdu:aR,pluse:cR,PlusMinus:lR,plusmn:uR,plussim:dR,plustwo:hR,pm:fR,Poincareplane:pR,pointint:gR,popf:mR,Popf:vR,pound:yR,prap:_R,Pr:bR,pr:wR,prcue:xR,precapprox:kR,prec:ER,preccurlyeq:CR,Precedes:SR,PrecedesEqual:AR,PrecedesSlantEqual:$R,PrecedesTilde:DR,preceq:NR,precnapprox:MR,precneqq:TR,precnsim:qR,pre:zR,prE:IR,precsim:PR,prime:OR,Prime:FR,primes:BR,prnap:RR,prnE:LR,prnsim:VR,prod:HR,Product:UR,profalar:GR,profline:jR,profsurf:YR,prop:XR,Proportional:ZR,Proportion:WR,propto:KR,prsim:QR,prurel:JR,Pscr:e8,pscr:t8,Psi:n8,psi:o8,puncsp:r8,Qfr:s8,qfr:i8,qint:a8,qopf:c8,Qopf:l8,qprime:u8,Qscr:d8,qscr:h8,quaternions:f8,quatint:p8,quest:g8,questeq:m8,quot:v8,QUOT:y8,rAarr:_8,race:b8,Racute:w8,racute:x8,radic:k8,raemptyv:E8,rang:C8,Rang:S8,rangd:A8,range:$8,rangle:D8,raquo:N8,rarrap:M8,rarrb:T8,rarrbfs:q8,rarrc:z8,rarr:I8,Rarr:P8,rArr:O8,rarrfs:F8,rarrhk:B8,rarrlp:R8,rarrpl:L8,rarrsim:V8,Rarrtl:H8,rarrtl:U8,rarrw:G8,ratail:j8,rAtail:Y8,ratio:X8,rationals:Z8,rbarr:W8,rBarr:K8,RBarr:Q8,rbbrk:J8,rbrace:eL,rbrack:tL,rbrke:nL,rbrksld:oL,rbrkslu:rL,Rcaron:sL,rcaron:iL,Rcedil:aL,rcedil:cL,rceil:lL,rcub:uL,Rcy:dL,rcy:hL,rdca:fL,rdldhar:pL,rdquo:gL,rdquor:mL,rdsh:vL,real:yL,realine:_L,realpart:bL,reals:wL,Re:xL,rect:kL,reg:EL,REG:CL,ReverseElement:SL,ReverseEquilibrium:AL,ReverseUpEquilibrium:$L,rfisht:DL,rfloor:NL,rfr:ML,Rfr:TL,rHar:qL,rhard:zL,rharu:IL,rharul:PL,Rho:OL,rho:FL,rhov:BL,RightAngleBracket:RL,RightArrowBar:LL,rightarrow:VL,RightArrow:HL,Rightarrow:UL,RightArrowLeftArrow:GL,rightarrowtail:jL,RightCeiling:YL,RightDoubleBracket:XL,RightDownTeeVector:ZL,RightDownVectorBar:WL,RightDownVector:KL,RightFloor:QL,rightharpoondown:JL,rightharpoonup:e7,rightleftarrows:t7,rightleftharpoons:n7,rightrightarrows:o7,rightsquigarrow:r7,RightTeeArrow:s7,RightTee:i7,RightTeeVector:a7,rightthreetimes:c7,RightTriangleBar:l7,RightTriangle:u7,RightTriangleEqual:d7,RightUpDownVector:h7,RightUpTeeVector:f7,RightUpVectorBar:p7,RightUpVector:g7,RightVectorBar:m7,RightVector:v7,ring:y7,risingdotseq:_7,rlarr:b7,rlhar:w7,rlm:x7,rmoustache:k7,rmoust:E7,rnmid:C7,roang:S7,roarr:A7,robrk:$7,ropar:D7,ropf:N7,Ropf:M7,roplus:T7,rotimes:q7,RoundImplies:z7,rpar:I7,rpargt:P7,rppolint:O7,rrarr:F7,Rrightarrow:B7,rsaquo:R7,rscr:L7,Rscr:V7,rsh:H7,Rsh:U7,rsqb:G7,rsquo:j7,rsquor:Y7,rthree:X7,rtimes:Z7,rtri:W7,rtrie:K7,rtrif:Q7,rtriltri:J7,RuleDelayed:e9,ruluhar:t9,rx:n9,Sacute:o9,sacute:r9,sbquo:s9,scap:i9,Scaron:a9,scaron:c9,Sc:l9,sc:u9,sccue:d9,sce:h9,scE:f9,Scedil:p9,scedil:g9,Scirc:m9,scirc:v9,scnap:y9,scnE:_9,scnsim:b9,scpolint:w9,scsim:x9,Scy:k9,scy:E9,sdotb:C9,sdot:S9,sdote:A9,searhk:$9,searr:D9,seArr:N9,searrow:M9,sect:T9,semi:q9,seswar:z9,setminus:I9,setmn:P9,sext:O9,Sfr:F9,sfr:B9,sfrown:R9,sharp:L9,SHCHcy:V9,shchcy:H9,SHcy:U9,shcy:G9,ShortDownArrow:j9,ShortLeftArrow:Y9,shortmid:X9,shortparallel:Z9,ShortRightArrow:W9,ShortUpArrow:K9,shy:Q9,Sigma:J9,sigma:eV,sigmaf:tV,sigmav:nV,sim:oV,simdot:rV,sime:sV,simeq:iV,simg:aV,simgE:cV,siml:lV,simlE:uV,simne:dV,simplus:hV,simrarr:fV,slarr:pV,SmallCircle:gV,smallsetminus:mV,smashp:vV,smeparsl:yV,smid:_V,smile:bV,smt:wV,smte:xV,smtes:kV,SOFTcy:EV,softcy:CV,solbar:SV,solb:AV,sol:$V,Sopf:DV,sopf:NV,spades:MV,spadesuit:TV,spar:qV,sqcap:zV,sqcaps:IV,sqcup:PV,sqcups:OV,Sqrt:FV,sqsub:BV,sqsube:RV,sqsubset:LV,sqsubseteq:VV,sqsup:HV,sqsupe:UV,sqsupset:GV,sqsupseteq:jV,square:YV,Square:XV,SquareIntersection:ZV,SquareSubset:WV,SquareSubsetEqual:KV,SquareSuperset:QV,SquareSupersetEqual:JV,SquareUnion:eH,squarf:tH,squ:nH,squf:oH,srarr:rH,Sscr:sH,sscr:iH,ssetmn:aH,ssmile:cH,sstarf:lH,Star:uH,star:dH,starf:hH,straightepsilon:fH,straightphi:pH,strns:gH,sub:mH,Sub:vH,subdot:yH,subE:_H,sube:bH,subedot:wH,submult:xH,subnE:kH,subne:EH,subplus:CH,subrarr:SH,subset:AH,Subset:$H,subseteq:DH,subseteqq:NH,SubsetEqual:MH,subsetneq:TH,subsetneqq:qH,subsim:zH,subsub:IH,subsup:PH,succapprox:OH,succ:FH,succcurlyeq:BH,Succeeds:RH,SucceedsEqual:LH,SucceedsSlantEqual:VH,SucceedsTilde:HH,succeq:UH,succnapprox:GH,succneqq:jH,succnsim:YH,succsim:XH,SuchThat:ZH,sum:WH,Sum:KH,sung:QH,sup1:JH,sup2:eU,sup3:tU,sup:nU,Sup:oU,supdot:rU,supdsub:sU,supE:iU,supe:aU,supedot:cU,Superset:lU,SupersetEqual:uU,suphsol:dU,suphsub:hU,suplarr:fU,supmult:pU,supnE:gU,supne:mU,supplus:vU,supset:yU,Supset:_U,supseteq:bU,supseteqq:wU,supsetneq:xU,supsetneqq:kU,supsim:EU,supsub:CU,supsup:SU,swarhk:AU,swarr:$U,swArr:DU,swarrow:NU,swnwar:MU,szlig:TU,Tab:qU,target:zU,Tau:IU,tau:PU,tbrk:OU,Tcaron:FU,tcaron:BU,Tcedil:RU,tcedil:LU,Tcy:VU,tcy:HU,tdot:UU,telrec:GU,Tfr:jU,tfr:YU,there4:XU,therefore:ZU,Therefore:WU,Theta:KU,theta:QU,thetasym:JU,thetav:eG,thickapprox:tG,thicksim:nG,ThickSpace:oG,ThinSpace:rG,thinsp:sG,thkap:iG,thksim:aG,THORN:cG,thorn:lG,tilde:uG,Tilde:dG,TildeEqual:hG,TildeFullEqual:fG,TildeTilde:pG,timesbar:gG,timesb:mG,times:vG,timesd:yG,tint:_G,toea:bG,topbot:wG,topcir:xG,top:kG,Topf:EG,topf:CG,topfork:SG,tosa:AG,tprime:$G,trade:DG,TRADE:NG,triangle:MG,triangledown:TG,triangleleft:qG,trianglelefteq:zG,triangleq:IG,triangleright:PG,trianglerighteq:OG,tridot:FG,trie:BG,triminus:RG,TripleDot:LG,triplus:VG,trisb:HG,tritime:UG,trpezium:GG,Tscr:jG,tscr:YG,TScy:XG,tscy:ZG,TSHcy:WG,tshcy:KG,Tstrok:QG,tstrok:JG,twixt:ej,twoheadleftarrow:tj,twoheadrightarrow:nj,Uacute:oj,uacute:rj,uarr:sj,Uarr:ij,uArr:aj,Uarrocir:cj,Ubrcy:lj,ubrcy:uj,Ubreve:dj,ubreve:hj,Ucirc:fj,ucirc:pj,Ucy:gj,ucy:mj,udarr:vj,Udblac:yj,udblac:_j,udhar:bj,ufisht:wj,Ufr:xj,ufr:kj,Ugrave:Ej,ugrave:Cj,uHar:Sj,uharl:Aj,uharr:$j,uhblk:Dj,ulcorn:Nj,ulcorner:Mj,ulcrop:Tj,ultri:qj,Umacr:zj,umacr:Ij,uml:Pj,UnderBar:Oj,UnderBrace:Fj,UnderBracket:Bj,UnderParenthesis:Rj,Union:Lj,UnionPlus:Vj,Uogon:Hj,uogon:Uj,Uopf:Gj,uopf:jj,UpArrowBar:Yj,uparrow:Xj,UpArrow:Zj,Uparrow:Wj,UpArrowDownArrow:Kj,updownarrow:Qj,UpDownArrow:Jj,Updownarrow:eY,UpEquilibrium:tY,upharpoonleft:nY,upharpoonright:oY,uplus:rY,UpperLeftArrow:sY,UpperRightArrow:iY,upsi:aY,Upsi:cY,upsih:lY,Upsilon:uY,upsilon:dY,UpTeeArrow:hY,UpTee:fY,upuparrows:pY,urcorn:gY,urcorner:mY,urcrop:vY,Uring:yY,uring:_Y,urtri:bY,Uscr:wY,uscr:xY,utdot:kY,Utilde:EY,utilde:CY,utri:SY,utrif:AY,uuarr:$Y,Uuml:DY,uuml:NY,uwangle:MY,vangrt:TY,varepsilon:qY,varkappa:zY,varnothing:IY,varphi:PY,varpi:OY,varpropto:FY,varr:BY,vArr:RY,varrho:LY,varsigma:VY,varsubsetneq:HY,varsubsetneqq:UY,varsupsetneq:GY,varsupsetneqq:jY,vartheta:YY,vartriangleleft:XY,vartriangleright:ZY,vBar:WY,Vbar:KY,vBarv:QY,Vcy:JY,vcy:eX,vdash:tX,vDash:nX,Vdash:oX,VDash:rX,Vdashl:sX,veebar:iX,vee:aX,Vee:cX,veeeq:lX,vellip:uX,verbar:dX,Verbar:hX,vert:fX,Vert:pX,VerticalBar:gX,VerticalLine:mX,VerticalSeparator:vX,VerticalTilde:yX,VeryThinSpace:_X,Vfr:bX,vfr:wX,vltri:xX,vnsub:kX,vnsup:EX,Vopf:CX,vopf:SX,vprop:AX,vrtri:$X,Vscr:DX,vscr:NX,vsubnE:MX,vsubne:TX,vsupnE:qX,vsupne:zX,Vvdash:IX,vzigzag:PX,Wcirc:OX,wcirc:FX,wedbar:BX,wedge:RX,Wedge:LX,wedgeq:VX,weierp:HX,Wfr:UX,wfr:GX,Wopf:jX,wopf:YX,wp:XX,wr:ZX,wreath:WX,Wscr:KX,wscr:QX,xcap:JX,xcirc:eZ,xcup:tZ,xdtri:nZ,Xfr:oZ,xfr:rZ,xharr:sZ,xhArr:iZ,Xi:aZ,xi:cZ,xlarr:lZ,xlArr:uZ,xmap:dZ,xnis:hZ,xodot:fZ,Xopf:pZ,xopf:gZ,xoplus:mZ,xotime:vZ,xrarr:yZ,xrArr:_Z,Xscr:bZ,xscr:wZ,xsqcup:xZ,xuplus:kZ,xutri:EZ,xvee:CZ,xwedge:SZ,Yacute:AZ,yacute:$Z,YAcy:DZ,yacy:NZ,Ycirc:MZ,ycirc:TZ,Ycy:qZ,ycy:zZ,yen:IZ,Yfr:PZ,yfr:OZ,YIcy:FZ,yicy:BZ,Yopf:RZ,yopf:LZ,Yscr:VZ,yscr:HZ,YUcy:UZ,yucy:GZ,yuml:jZ,Yuml:YZ,Zacute:XZ,zacute:ZZ,Zcaron:WZ,zcaron:KZ,Zcy:QZ,zcy:JZ,Zdot:eW,zdot:tW,zeetrf:nW,ZeroWidthSpace:oW,Zeta:rW,zeta:sW,zfr:iW,Zfr:aW,ZHcy:cW,zhcy:lW,zigrarr:uW,zopf:dW,Zopf:hW,Zscr:fW,zscr:pW,zwj:gW,zwnj:mW};(function(e){e.exports=vW})(J1);var ys=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,jt={},Oi={};function yW(e){var t,n,o=Oi[e];if(o)return o;for(o=Oi[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?o.push(n):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}function Vo(e,t,n){var o,r,s,i,a,c="";for(typeof t!="string"&&(n=t,t=Vo.defaultChars),typeof n>"u"&&(n=!0),a=yW(t),o=0,r=e.length;o<r;o++){if(s=e.charCodeAt(o),n&&s===37&&o+2<r&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3))){c+=e.slice(o,o+3),o+=2;continue}if(s<128){c+=a[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<r&&(i=e.charCodeAt(o+1),i>=56320&&i<=57343)){c+=encodeURIComponent(e[o]+e[o+1]),o++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(e[o])}return c}Vo.defaultChars=";/?:@&=+$,-_.!~*'()#";Vo.componentChars="-_.!~*'()";var _W=Vo,Fi={};function bW(e){var t,n,o=Fi[e];if(o)return o;for(o=Fi[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),o.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),o[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return o}function Ho(e,t){var n;return typeof t!="string"&&(t=Ho.defaultChars),n=bW(t),e.replace(/(%[a-f0-9]{2})+/gi,function(o){var r,s,i,a,c,l,u,h="";for(r=0,s=o.length;r<s;r+=3){if(i=parseInt(o.slice(r+1,r+3),16),i<128){h+=n[i];continue}if((i&224)===192&&r+3<s&&(a=parseInt(o.slice(r+4,r+6),16),(a&192)===128)){u=i<<6&1984|a&63,u<128?h+="":h+=String.fromCharCode(u),r+=3;continue}if((i&240)===224&&r+6<s&&(a=parseInt(o.slice(r+4,r+6),16),c=parseInt(o.slice(r+7,r+9),16),(a&192)===128&&(c&192)===128)){u=i<<12&61440|a<<6&4032|c&63,u<2048||u>=55296&&u<=57343?h+="":h+=String.fromCharCode(u),r+=6;continue}if((i&248)===240&&r+9<s&&(a=parseInt(o.slice(r+4,r+6),16),c=parseInt(o.slice(r+7,r+9),16),l=parseInt(o.slice(r+10,r+12),16),(a&192)===128&&(c&192)===128&&(l&192)===128)){u=i<<18&1835008|a<<12&258048|c<<6&4032|l&63,u<65536||u>1114111?h+="":(u-=65536,h+=String.fromCharCode(55296+(u>>10),56320+(u&1023))),r+=9;continue}h+=""}return h})}Ho.defaultChars=";/?:@&=+$,#";Ho.componentChars="";var wW=Ho,xW=function(t){var n="";return n+=t.protocol||"",n+=t.slashes?"//":"",n+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?n+="["+t.hostname+"]":n+=t.hostname||"",n+=t.port?":"+t.port:"",n+=t.pathname||"",n+=t.search||"",n+=t.hash||"",n};function bo(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var kW=/^([a-z0-9.+-]+:)/i,EW=/:[0-9]*$/,CW=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,SW=["<",">",'"',"`"," ","\r",`
`,"	"],AW=["{","}","|","\\","^","`"].concat(SW),$W=["'"].concat(AW),Bi=["%","/","?",";","#"].concat($W),Ri=["/","?","#"],DW=255,Li=/^[+a-z0-9A-Z_-]{0,63}$/,NW=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Vi={javascript:!0,"javascript:":!0},Hi={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function MW(e,t){if(e&&e instanceof bo)return e;var n=new bo;return n.parse(e,t),n}bo.prototype.parse=function(e,t){var n,o,r,s,i,a=e;if(a=a.trim(),!t&&e.split("#").length===1){var c=CW.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var l=kW.exec(a);if(l&&(l=l[0],r=l.toLowerCase(),this.protocol=l,a=a.substr(l.length)),(t||l||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=a.substr(0,2)==="//",i&&!(l&&Vi[l])&&(a=a.substr(2),this.slashes=!0)),!Vi[l]&&(i||l&&!Hi[l])){var u=-1;for(n=0;n<Ri.length;n++)s=a.indexOf(Ri[n]),s!==-1&&(u===-1||s<u)&&(u=s);var h,d;for(u===-1?d=a.lastIndexOf("@"):d=a.lastIndexOf("@",u),d!==-1&&(h=a.slice(0,d),a=a.slice(d+1),this.auth=h),u=-1,n=0;n<Bi.length;n++)s=a.indexOf(Bi[n]),s!==-1&&(u===-1||s<u)&&(u=s);u===-1&&(u=a.length),a[u-1]===":"&&u--;var p=a.slice(0,u);a=a.slice(u),this.parseHost(p),this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g){var v=this.hostname.split(/\./);for(n=0,o=v.length;n<o;n++){var k=v[n];if(k&&!k.match(Li)){for(var y="",E=0,M=k.length;E<M;E++)k.charCodeAt(E)>127?y+="x":y+=k[E];if(!y.match(Li)){var _=v.slice(0,n),D=v.slice(n+1),A=k.match(NW);A&&(_.push(A[1]),D.unshift(A[2])),D.length&&(a=D.join(".")+a),this.hostname=_.join(".");break}}}}this.hostname.length>DW&&(this.hostname=""),g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var b=a.indexOf("#");b!==-1&&(this.hash=a.substr(b),a=a.slice(0,b));var V=a.indexOf("?");return V!==-1&&(this.search=a.substr(V),a=a.slice(0,V)),a&&(this.pathname=a),Hi[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};bo.prototype.parseHost=function(e){var t=EW.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var TW=MW;jt.encode=_W;jt.decode=wW;jt.format=xW;jt.parse=TW;var pt={},fr,Ui;function il(){return Ui||(Ui=1,fr=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),fr}var pr,Gi;function al(){return Gi||(Gi=1,pr=/[\0-\x1F\x7F-\x9F]/),pr}var gr,ji;function qW(){return ji||(ji=1,gr=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),gr}var mr,Yi;function cl(){return Yi||(Yi=1,mr=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),mr}var Xi;function zW(){return Xi||(Xi=1,pt.Any=il(),pt.Cc=al(),pt.Cf=qW(),pt.P=ys,pt.Z=cl()),pt}(function(e){function t(f){return Object.prototype.toString.call(f)}function n(f){return t(f)==="[object String]"}var o=Object.prototype.hasOwnProperty;function r(f,$){return o.call(f,$)}function s(f){var $=Array.prototype.slice.call(arguments,1);return $.forEach(function(m){if(m){if(typeof m!="object")throw new TypeError(m+"must be object");Object.keys(m).forEach(function(C){f[C]=m[C]})}}),f}function i(f,$,m){return[].concat(f.slice(0,$),m,f.slice($+1))}function a(f){return!(f>=55296&&f<=57343||f>=64976&&f<=65007||(f&65535)===65535||(f&65535)===65534||f>=0&&f<=8||f===11||f>=14&&f<=31||f>=127&&f<=159||f>1114111)}function c(f){if(f>65535){f-=65536;var $=55296+(f>>10),m=56320+(f&1023);return String.fromCharCode($,m)}return String.fromCharCode(f)}var l=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,u=/&([a-z#][a-z0-9]{1,31});/gi,h=new RegExp(l.source+"|"+u.source,"gi"),d=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,p=_o;function g(f,$){var m=0;return r(p,$)?p[$]:$.charCodeAt(0)===35&&d.test($)&&(m=$[1].toLowerCase()==="x"?parseInt($.slice(2),16):parseInt($.slice(1),10),a(m))?c(m):f}function v(f){return f.indexOf("\\")<0?f:f.replace(l,"$1")}function k(f){return f.indexOf("\\")<0&&f.indexOf("&")<0?f:f.replace(h,function($,m,C){return m||g($,C)})}var y=/[&<>"]/,E=/[&<>"]/g,M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function _(f){return M[f]}function D(f){return y.test(f)?f.replace(E,_):f}var A=/[.?*+^$[\]\\(){}|-]/g;function b(f){return f.replace(A,"\\$&")}function V(f){switch(f){case 9:case 32:return!0}return!1}function I(f){if(f>=8192&&f<=8202)return!0;switch(f){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var N=ys;function R(f){return N.test(f)}function ee(f){switch(f){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function K(f){return f=f.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(f=f.replace(//g,"")),f.toLowerCase().toUpperCase()}e.lib={},e.lib.mdurl=jt,e.lib.ucmicro=zW(),e.assign=s,e.isString=n,e.has=r,e.unescapeMd=v,e.unescapeAll=k,e.isValidEntityCode=a,e.fromCodePoint=c,e.escapeHtml=D,e.arrayReplaceAt=i,e.isSpace=V,e.isWhiteSpace=I,e.isMdAsciiPunct=ee,e.isPunctChar=R,e.escapeRE=b,e.normalizeReference=K})(le);var Uo={},IW=function(t,n,o){var r,s,i,a,c=-1,l=t.posMax,u=t.pos;for(t.pos=n+1,r=1;t.pos<l;){if(i=t.src.charCodeAt(t.pos),i===93&&(r--,r===0)){s=!0;break}if(a=t.pos,t.md.inline.skipToken(t),i===91){if(a===t.pos-1)r++;else if(o)return t.pos=u,-1}}return s&&(c=t.pos),t.pos=u,c},Zi=le.unescapeAll,PW=function(t,n,o){var r,s,i=0,a=n,c={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(n)===60){for(n++;n<o;){if(r=t.charCodeAt(n),r===10||r===60)return c;if(r===62)return c.pos=n+1,c.str=Zi(t.slice(a+1,n)),c.ok=!0,c;if(r===92&&n+1<o){n+=2;continue}n++}return c}for(s=0;n<o&&(r=t.charCodeAt(n),!(r===32||r<32||r===127));){if(r===92&&n+1<o){if(t.charCodeAt(n+1)===32)break;n+=2;continue}if(r===40&&(s++,s>32))return c;if(r===41){if(s===0)break;s--}n++}return a===n||s!==0||(c.str=Zi(t.slice(a,n)),c.lines=i,c.pos=n,c.ok=!0),c},OW=le.unescapeAll,FW=function(t,n,o){var r,s,i=0,a=n,c={ok:!1,pos:0,lines:0,str:""};if(n>=o||(s=t.charCodeAt(n),s!==34&&s!==39&&s!==40))return c;for(n++,s===40&&(s=41);n<o;){if(r=t.charCodeAt(n),r===s)return c.pos=n+1,c.lines=i,c.str=OW(t.slice(a+1,n)),c.ok=!0,c;if(r===40&&s===41)return c;r===10?i++:r===92&&n+1<o&&(n++,t.charCodeAt(n)===10&&i++),n++}return c};Uo.parseLinkLabel=IW;Uo.parseLinkDestination=PW;Uo.parseLinkTitle=FW;var BW=le.assign,RW=le.unescapeAll,Dt=le.escapeHtml,Ye={};Ye.code_inline=function(e,t,n,o,r){var s=e[t];return"<code"+r.renderAttrs(s)+">"+Dt(e[t].content)+"</code>"};Ye.code_block=function(e,t,n,o,r){var s=e[t];return"<pre"+r.renderAttrs(s)+"><code>"+Dt(e[t].content)+`</code></pre>
`};Ye.fence=function(e,t,n,o,r){var s=e[t],i=s.info?RW(s.info).trim():"",a="",c="",l,u,h,d,p;return i&&(h=i.split(/(\s+)/g),a=h[0],c=h.slice(2).join("")),n.highlight?l=n.highlight(s.content,a,c)||Dt(s.content):l=Dt(s.content),l.indexOf("<pre")===0?l+`
`:i?(u=s.attrIndex("class"),d=s.attrs?s.attrs.slice():[],u<0?d.push(["class",n.langPrefix+a]):(d[u]=d[u].slice(),d[u][1]+=" "+n.langPrefix+a),p={attrs:d},"<pre><code"+r.renderAttrs(p)+">"+l+`</code></pre>
`):"<pre><code"+r.renderAttrs(s)+">"+l+`</code></pre>
`};Ye.image=function(e,t,n,o,r){var s=e[t];return s.attrs[s.attrIndex("alt")][1]=r.renderInlineAsText(s.children,n,o),r.renderToken(e,t,n)};Ye.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};Ye.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Ye.text=function(e,t){return Dt(e[t].content)};Ye.html_block=function(e,t){return e[t].content};Ye.html_inline=function(e,t){return e[t].content};function Yt(){this.rules=BW({},Ye)}Yt.prototype.renderAttrs=function(t){var n,o,r;if(!t.attrs)return"";for(r="",n=0,o=t.attrs.length;n<o;n++)r+=" "+Dt(t.attrs[n][0])+'="'+Dt(t.attrs[n][1])+'"';return r};Yt.prototype.renderToken=function(t,n,o){var r,s="",i=!1,a=t[n];return a.hidden?"":(a.block&&a.nesting!==-1&&n&&t[n-1].hidden&&(s+=`
`),s+=(a.nesting===-1?"</":"<")+a.tag,s+=this.renderAttrs(a),a.nesting===0&&o.xhtmlOut&&(s+=" /"),a.block&&(i=!0,a.nesting===1&&n+1<t.length&&(r=t[n+1],(r.type==="inline"||r.hidden||r.nesting===-1&&r.tag===a.tag)&&(i=!1))),s+=i?`>
`:">",s)};Yt.prototype.renderInline=function(e,t,n){for(var o,r="",s=this.rules,i=0,a=e.length;i<a;i++)o=e[i].type,typeof s[o]<"u"?r+=s[o](e,i,t,n,this):r+=this.renderToken(e,i,t);return r};Yt.prototype.renderInlineAsText=function(e,t,n){for(var o="",r=0,s=e.length;r<s;r++)e[r].type==="text"?o+=e[r].content:e[r].type==="image"?o+=this.renderInlineAsText(e[r].children,t,n):e[r].type==="softbreak"&&(o+=`
`);return o};Yt.prototype.render=function(e,t,n){var o,r,s,i="",a=this.rules;for(o=0,r=e.length;o<r;o++)s=e[o].type,s==="inline"?i+=this.renderInline(e[o].children,t,n):typeof a[s]<"u"?i+=a[e[o].type](e,o,t,n,this):i+=this.renderToken(e,o,t,n);return i};var LW=Yt;function Be(){this.__rules__=[],this.__cache__=null}Be.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Be.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(o){t.indexOf(o)<0&&t.push(o)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(o){o.enabled&&(n&&o.alt.indexOf(n)<0||e.__cache__[n].push(o.fn))})})};Be.prototype.at=function(e,t,n){var o=this.__find__(e),r=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=t,this.__rules__[o].alt=r.alt||[],this.__cache__=null};Be.prototype.before=function(e,t,n,o){var r=this.__find__(e),s=o||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Be.prototype.after=function(e,t,n,o){var r=this.__find__(e),s=o||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Be.prototype.push=function(e,t,n){var o=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null};Be.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(o){var r=this.__find__(o);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[r].enabled=!0,n.push(o)},this),this.__cache__=null,n};Be.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};Be.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(o){var r=this.__find__(o);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[r].enabled=!1,n.push(o)},this),this.__cache__=null,n};Be.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};var _s=Be,VW=/\r\n?|\n/g,HW=/\0/g,UW=function(t){var n;n=t.src.replace(VW,`
`),n=n.replace(HW,""),t.src=n},GW=function(t){var n;t.inlineMode?(n=new t.Token("inline","",0),n.content=t.src,n.map=[0,1],n.children=[],t.tokens.push(n)):t.md.block.parse(t.src,t.md,t.env,t.tokens)},jW=function(t){var n=t.tokens,o,r,s;for(r=0,s=n.length;r<s;r++)o=n[r],o.type==="inline"&&t.md.inline.parse(o.content,t.md,t.env,o.children)},YW=le.arrayReplaceAt;function XW(e){return/^<a[>\s]/i.test(e)}function ZW(e){return/^<\/a\s*>/i.test(e)}var WW=function(t){var n,o,r,s,i,a,c,l,u,h,d,p,g,v,k,y,E=t.tokens,M;if(t.md.options.linkify){for(o=0,r=E.length;o<r;o++)if(!(E[o].type!=="inline"||!t.md.linkify.pretest(E[o].content)))for(s=E[o].children,g=0,n=s.length-1;n>=0;n--){if(a=s[n],a.type==="link_close"){for(n--;s[n].level!==a.level&&s[n].type!=="link_open";)n--;continue}if(a.type==="html_inline"&&(XW(a.content)&&g>0&&g--,ZW(a.content)&&g++),!(g>0)&&a.type==="text"&&t.md.linkify.test(a.content)){for(u=a.content,M=t.md.linkify.match(u),c=[],p=a.level,d=0,M.length>0&&M[0].index===0&&n>0&&s[n-1].type==="text_special"&&(M=M.slice(1)),l=0;l<M.length;l++)v=M[l].url,k=t.md.normalizeLink(v),t.md.validateLink(k)&&(y=M[l].text,M[l].schema?M[l].schema==="mailto:"&&!/^mailto:/i.test(y)?y=t.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):y=t.md.normalizeLinkText(y):y=t.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),h=M[l].index,h>d&&(i=new t.Token("text","",0),i.content=u.slice(d,h),i.level=p,c.push(i)),i=new t.Token("link_open","a",1),i.attrs=[["href",k]],i.level=p++,i.markup="linkify",i.info="auto",c.push(i),i=new t.Token("text","",0),i.content=y,i.level=p,c.push(i),i=new t.Token("link_close","a",-1),i.level=--p,i.markup="linkify",i.info="auto",c.push(i),d=M[l].lastIndex);d<u.length&&(i=new t.Token("text","",0),i.content=u.slice(d),i.level=p,c.push(i)),E[o].children=s=YW(s,n,c)}}}},ll=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,KW=/\((c|tm|r)\)/i,QW=/\((c|tm|r)\)/ig,JW={c:"",r:"",tm:""};function eK(e,t){return JW[t.toLowerCase()]}function tK(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!o&&(n.content=n.content.replace(QW,eK)),n.type==="link_open"&&n.info==="auto"&&o--,n.type==="link_close"&&n.info==="auto"&&o++}function nK(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!o&&ll.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),n.type==="link_open"&&n.info==="auto"&&o--,n.type==="link_close"&&n.info==="auto"&&o++}var oK=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type==="inline"&&(KW.test(t.tokens[n].content)&&tK(t.tokens[n].children),ll.test(t.tokens[n].content)&&nK(t.tokens[n].children))},Wi=le.isWhiteSpace,Ki=le.isPunctChar,Qi=le.isMdAsciiPunct,rK=/['"]/,Ji=/['"]/g,ea="";function Ln(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function sK(e,t){var n,o,r,s,i,a,c,l,u,h,d,p,g,v,k,y,E,M,_,D,A;for(_=[],n=0;n<e.length;n++){for(o=e[n],c=e[n].level,E=_.length-1;E>=0&&!(_[E].level<=c);E--);if(_.length=E+1,o.type==="text"){r=o.content,i=0,a=r.length;e:for(;i<a&&(Ji.lastIndex=i,s=Ji.exec(r),!!s);){if(k=y=!0,i=s.index+1,M=s[0]==="'",u=32,s.index-1>=0)u=r.charCodeAt(s.index-1);else for(E=n-1;E>=0&&!(e[E].type==="softbreak"||e[E].type==="hardbreak");E--)if(e[E].content){u=e[E].content.charCodeAt(e[E].content.length-1);break}if(h=32,i<a)h=r.charCodeAt(i);else for(E=n+1;E<e.length&&!(e[E].type==="softbreak"||e[E].type==="hardbreak");E++)if(e[E].content){h=e[E].content.charCodeAt(0);break}if(d=Qi(u)||Ki(String.fromCharCode(u)),p=Qi(h)||Ki(String.fromCharCode(h)),g=Wi(u),v=Wi(h),v?k=!1:p&&(g||d||(k=!1)),g?y=!1:d&&(v||p||(y=!1)),h===34&&s[0]==='"'&&u>=48&&u<=57&&(y=k=!1),k&&y&&(k=d,y=p),!k&&!y){M&&(o.content=Ln(o.content,s.index,ea));continue}if(y){for(E=_.length-1;E>=0&&(l=_[E],!(_[E].level<c));E--)if(l.single===M&&_[E].level===c){l=_[E],M?(D=t.md.options.quotes[2],A=t.md.options.quotes[3]):(D=t.md.options.quotes[0],A=t.md.options.quotes[1]),o.content=Ln(o.content,s.index,A),e[l.token].content=Ln(e[l.token].content,l.pos,D),i+=A.length-1,l.token===n&&(i+=D.length-1),r=o.content,a=r.length,_.length=E;continue e}}k?_.push({token:n,pos:s.index,single:M,level:c}):y&&M&&(o.content=Ln(o.content,s.index,ea))}}}}var iK=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type!=="inline"||!rK.test(t.tokens[n].content)||sK(t.tokens[n].children,t)},aK=function(t){var n,o,r,s,i,a,c=t.tokens;for(n=0,o=c.length;n<o;n++)if(c[n].type==="inline"){for(r=c[n].children,i=r.length,s=0;s<i;s++)r[s].type==="text_special"&&(r[s].type="text");for(s=a=0;s<i;s++)r[s].type==="text"&&s+1<i&&r[s+1].type==="text"?r[s+1].content=r[s].content+r[s+1].content:(s!==a&&(r[a]=r[s]),a++);s!==a&&(r.length=a)}};function Xt(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Xt.prototype.attrIndex=function(t){var n,o,r;if(!this.attrs)return-1;for(n=this.attrs,o=0,r=n.length;o<r;o++)if(n[o][0]===t)return o;return-1};Xt.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Xt.prototype.attrSet=function(t,n){var o=this.attrIndex(t),r=[t,n];o<0?this.attrPush(r):this.attrs[o]=r};Xt.prototype.attrGet=function(t){var n=this.attrIndex(t),o=null;return n>=0&&(o=this.attrs[n][1]),o};Xt.prototype.attrJoin=function(t,n){var o=this.attrIndex(t);o<0?this.attrPush([t,n]):this.attrs[o][1]=this.attrs[o][1]+" "+n};var bs=Xt,cK=bs;function ul(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}ul.prototype.Token=cK;var lK=ul,uK=_s,vr=[["normalize",UW],["block",GW],["inline",jW],["linkify",WW],["replacements",oK],["smartquotes",iK],["text_join",aK]];function ws(){this.ruler=new uK;for(var e=0;e<vr.length;e++)this.ruler.push(vr[e][0],vr[e][1])}ws.prototype.process=function(e){var t,n,o;for(o=this.ruler.getRules(""),t=0,n=o.length;t<n;t++)o[t](e)};ws.prototype.State=lK;var dK=ws,yr=le.isSpace;function _r(e,t){var n=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(n,o)}function ta(e){var t=[],n=0,o=e.length,r,s=!1,i=0,a="";for(r=e.charCodeAt(n);n<o;)r===124&&(s?(a+=e.substring(i,n-1),i=n):(t.push(a+e.substring(i,n)),a="",i=n+1)),s=r===92,n++,r=e.charCodeAt(n);return t.push(a+e.substring(i)),t}var hK=function(t,n,o,r){var s,i,a,c,l,u,h,d,p,g,v,k,y,E,M,_,D,A;if(n+2>o||(u=n+1,t.sCount[u]<t.blkIndent)||t.sCount[u]-t.blkIndent>=4||(a=t.bMarks[u]+t.tShift[u],a>=t.eMarks[u])||(D=t.src.charCodeAt(a++),D!==124&&D!==45&&D!==58)||a>=t.eMarks[u]||(A=t.src.charCodeAt(a++),A!==124&&A!==45&&A!==58&&!yr(A))||D===45&&yr(A))return!1;for(;a<t.eMarks[u];){if(s=t.src.charCodeAt(a),s!==124&&s!==45&&s!==58&&!yr(s))return!1;a++}for(i=_r(t,n+1),h=i.split("|"),g=[],c=0;c<h.length;c++){if(v=h[c].trim(),!v){if(c===0||c===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;v.charCodeAt(v.length-1)===58?g.push(v.charCodeAt(0)===58?"center":"right"):v.charCodeAt(0)===58?g.push("left"):g.push("")}if(i=_r(t,n).trim(),i.indexOf("|")===-1||t.sCount[n]-t.blkIndent>=4||(h=ta(i),h.length&&h[0]===""&&h.shift(),h.length&&h[h.length-1]===""&&h.pop(),d=h.length,d===0||d!==g.length))return!1;if(r)return!0;for(E=t.parentType,t.parentType="table",_=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),p.map=k=[n,0],p=t.push("thead_open","thead",1),p.map=[n,n+1],p=t.push("tr_open","tr",1),p.map=[n,n+1],c=0;c<h.length;c++)p=t.push("th_open","th",1),g[c]&&(p.attrs=[["style","text-align:"+g[c]]]),p=t.push("inline","",0),p.content=h[c].trim(),p.children=[],p=t.push("th_close","th",-1);for(p=t.push("tr_close","tr",-1),p=t.push("thead_close","thead",-1),u=n+2;u<o&&!(t.sCount[u]<t.blkIndent);u++){for(M=!1,c=0,l=_.length;c<l;c++)if(_[c](t,u,o,!0)){M=!0;break}if(M||(i=_r(t,u).trim(),!i)||t.sCount[u]-t.blkIndent>=4)break;for(h=ta(i),h.length&&h[0]===""&&h.shift(),h.length&&h[h.length-1]===""&&h.pop(),u===n+2&&(p=t.push("tbody_open","tbody",1),p.map=y=[n+2,0]),p=t.push("tr_open","tr",1),p.map=[u,u+1],c=0;c<d;c++)p=t.push("td_open","td",1),g[c]&&(p.attrs=[["style","text-align:"+g[c]]]),p=t.push("inline","",0),p.content=h[c]?h[c].trim():"",p.children=[],p=t.push("td_close","td",-1);p=t.push("tr_close","tr",-1)}return y&&(p=t.push("tbody_close","tbody",-1),y[1]=u),p=t.push("table_close","table",-1),k[1]=u,t.parentType=E,t.line=u,!0},fK=function(t,n,o){var r,s,i;if(t.sCount[n]-t.blkIndent<4)return!1;for(s=r=n+1;r<o;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,s=r;continue}break}return t.line=s,i=t.push("code_block","code",0),i.content=t.getLines(n,s,4+t.blkIndent,!1)+`
`,i.map=[n,t.line],!0},pK=function(t,n,o,r){var s,i,a,c,l,u,h,d=!1,p=t.bMarks[n]+t.tShift[n],g=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||p+3>g||(s=t.src.charCodeAt(p),s!==126&&s!==96)||(l=p,p=t.skipChars(p,s),i=p-l,i<3)||(h=t.src.slice(l,p),a=t.src.slice(p,g),s===96&&a.indexOf(String.fromCharCode(s))>=0))return!1;if(r)return!0;for(c=n;c++,!(c>=o||(p=l=t.bMarks[c]+t.tShift[c],g=t.eMarks[c],p<g&&t.sCount[c]<t.blkIndent));)if(t.src.charCodeAt(p)===s&&!(t.sCount[c]-t.blkIndent>=4)&&(p=t.skipChars(p,s),!(p-l<i)&&(p=t.skipSpaces(p),!(p<g)))){d=!0;break}return i=t.sCount[n],t.line=c+(d?1:0),u=t.push("fence","code",0),u.info=a,u.content=t.getLines(n+1,c,i,!0),u.markup=h,u.map=[n,t.line],!0},na=le.isSpace,gK=function(t,n,o,r){var s,i,a,c,l,u,h,d,p,g,v,k,y,E,M,_,D,A,b,V,I=t.lineMax,N=t.bMarks[n]+t.tShift[n],R=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(N++)!==62)return!1;if(r)return!0;for(c=p=t.sCount[n]+1,t.src.charCodeAt(N)===32?(N++,c++,p++,s=!1,_=!0):t.src.charCodeAt(N)===9?(_=!0,(t.bsCount[n]+p)%4===3?(N++,c++,p++,s=!1):s=!0):_=!1,g=[t.bMarks[n]],t.bMarks[n]=N;N<R&&(i=t.src.charCodeAt(N),na(i));){i===9?p+=4-(p+t.bsCount[n]+(s?1:0))%4:p++;N++}for(v=[t.bsCount[n]],t.bsCount[n]=t.sCount[n]+1+(_?1:0),u=N>=R,E=[t.sCount[n]],t.sCount[n]=p-c,M=[t.tShift[n]],t.tShift[n]=N-t.bMarks[n],A=t.md.block.ruler.getRules("blockquote"),y=t.parentType,t.parentType="blockquote",d=n+1;d<o&&(V=t.sCount[d]<t.blkIndent,N=t.bMarks[d]+t.tShift[d],R=t.eMarks[d],!(N>=R));d++){if(t.src.charCodeAt(N++)===62&&!V){for(c=p=t.sCount[d]+1,t.src.charCodeAt(N)===32?(N++,c++,p++,s=!1,_=!0):t.src.charCodeAt(N)===9?(_=!0,(t.bsCount[d]+p)%4===3?(N++,c++,p++,s=!1):s=!0):_=!1,g.push(t.bMarks[d]),t.bMarks[d]=N;N<R&&(i=t.src.charCodeAt(N),na(i));){i===9?p+=4-(p+t.bsCount[d]+(s?1:0))%4:p++;N++}u=N>=R,v.push(t.bsCount[d]),t.bsCount[d]=t.sCount[d]+1+(_?1:0),E.push(t.sCount[d]),t.sCount[d]=p-c,M.push(t.tShift[d]),t.tShift[d]=N-t.bMarks[d];continue}if(u)break;for(D=!1,a=0,l=A.length;a<l;a++)if(A[a](t,d,o,!0)){D=!0;break}if(D){t.lineMax=d,t.blkIndent!==0&&(g.push(t.bMarks[d]),v.push(t.bsCount[d]),M.push(t.tShift[d]),E.push(t.sCount[d]),t.sCount[d]-=t.blkIndent);break}g.push(t.bMarks[d]),v.push(t.bsCount[d]),M.push(t.tShift[d]),E.push(t.sCount[d]),t.sCount[d]=-1}for(k=t.blkIndent,t.blkIndent=0,b=t.push("blockquote_open","blockquote",1),b.markup=">",b.map=h=[n,0],t.md.block.tokenize(t,n,d),b=t.push("blockquote_close","blockquote",-1),b.markup=">",t.lineMax=I,t.parentType=y,h[1]=t.line,a=0;a<M.length;a++)t.bMarks[a+n]=g[a],t.tShift[a+n]=M[a],t.sCount[a+n]=E[a],t.bsCount[a+n]=v[a];return t.blkIndent=k,!0},mK=le.isSpace,vK=function(t,n,o,r){var s,i,a,c,l=t.bMarks[n]+t.tShift[n],u=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(s=t.src.charCodeAt(l++),s!==42&&s!==45&&s!==95))return!1;for(i=1;l<u;){if(a=t.src.charCodeAt(l++),a!==s&&!mK(a))return!1;a===s&&i++}return i<3?!1:(r||(t.line=n+1,c=t.push("hr","hr",0),c.map=[n,t.line],c.markup=Array(i+1).join(String.fromCharCode(s))),!0)},dl=le.isSpace;function oa(e,t){var n,o,r,s;return o=e.bMarks[t]+e.tShift[t],r=e.eMarks[t],n=e.src.charCodeAt(o++),n!==42&&n!==45&&n!==43||o<r&&(s=e.src.charCodeAt(o),!dl(s))?-1:o}function ra(e,t){var n,o=e.bMarks[t]+e.tShift[t],r=o,s=e.eMarks[t];if(r+1>=s||(n=e.src.charCodeAt(r++),n<48||n>57))return-1;for(;;){if(r>=s)return-1;if(n=e.src.charCodeAt(r++),n>=48&&n<=57){if(r-o>=10)return-1;continue}if(n===41||n===46)break;return-1}return r<s&&(n=e.src.charCodeAt(r),!dl(n))?-1:r}function yK(e,t){var n,o,r=e.level+2;for(n=t+2,o=e.tokens.length-2;n<o;n++)e.tokens[n].level===r&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}var _K=function(t,n,o,r){var s,i,a,c,l,u,h,d,p,g,v,k,y,E,M,_,D,A,b,V,I,N,R,ee,K,f,$,m,C=!1,T=!0;if(t.sCount[n]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[n]-t.listIndent>=4&&t.sCount[n]<t.blkIndent)return!1;if(r&&t.parentType==="paragraph"&&t.sCount[n]>=t.blkIndent&&(C=!0),(R=ra(t,n))>=0){if(h=!0,K=t.bMarks[n]+t.tShift[n],y=Number(t.src.slice(K,R-1)),C&&y!==1)return!1}else if((R=oa(t,n))>=0)h=!1;else return!1;if(C&&t.skipSpaces(R)>=t.eMarks[n])return!1;if(k=t.src.charCodeAt(R-1),r)return!0;for(v=t.tokens.length,h?(m=t.push("ordered_list_open","ol",1),y!==1&&(m.attrs=[["start",y]])):m=t.push("bullet_list_open","ul",1),m.map=g=[n,0],m.markup=String.fromCharCode(k),M=n,ee=!1,$=t.md.block.ruler.getRules("list"),A=t.parentType,t.parentType="list";M<o;){for(N=R,E=t.eMarks[M],u=_=t.sCount[M]+R-(t.bMarks[n]+t.tShift[n]);N<E;){if(s=t.src.charCodeAt(N),s===9)_+=4-(_+t.bsCount[M])%4;else if(s===32)_++;else break;N++}if(i=N,i>=E?l=1:l=_-u,l>4&&(l=1),c=u+l,m=t.push("list_item_open","li",1),m.markup=String.fromCharCode(k),m.map=d=[n,0],h&&(m.info=t.src.slice(K,R-1)),I=t.tight,V=t.tShift[n],b=t.sCount[n],D=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=c,t.tight=!0,t.tShift[n]=i-t.bMarks[n],t.sCount[n]=_,i>=E&&t.isEmpty(n+1)?t.line=Math.min(t.line+2,o):t.md.block.tokenize(t,n,o,!0),(!t.tight||ee)&&(T=!1),ee=t.line-n>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=D,t.tShift[n]=V,t.sCount[n]=b,t.tight=I,m=t.push("list_item_close","li",-1),m.markup=String.fromCharCode(k),M=n=t.line,d[1]=M,i=t.bMarks[n],M>=o||t.sCount[M]<t.blkIndent||t.sCount[n]-t.blkIndent>=4)break;for(f=!1,a=0,p=$.length;a<p;a++)if($[a](t,M,o,!0)){f=!0;break}if(f)break;if(h){if(R=ra(t,M),R<0)break;K=t.bMarks[M]+t.tShift[M]}else if(R=oa(t,M),R<0)break;if(k!==t.src.charCodeAt(R-1))break}return h?m=t.push("ordered_list_close","ol",-1):m=t.push("bullet_list_close","ul",-1),m.markup=String.fromCharCode(k),g[1]=M,t.line=M,t.parentType=A,T&&yK(t,v),!0},bK=le.normalizeReference,Vn=le.isSpace,wK=function(t,n,o,r){var s,i,a,c,l,u,h,d,p,g,v,k,y,E,M,_,D=0,A=t.bMarks[n]+t.tShift[n],b=t.eMarks[n],V=n+1;if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(A)!==91)return!1;for(;++A<b;)if(t.src.charCodeAt(A)===93&&t.src.charCodeAt(A-1)!==92){if(A+1===b||t.src.charCodeAt(A+1)!==58)return!1;break}for(c=t.lineMax,M=t.md.block.ruler.getRules("reference"),g=t.parentType,t.parentType="reference";V<c&&!t.isEmpty(V);V++)if(!(t.sCount[V]-t.blkIndent>3)&&!(t.sCount[V]<0)){for(E=!1,u=0,h=M.length;u<h;u++)if(M[u](t,V,c,!0)){E=!0;break}if(E)break}for(y=t.getLines(n,V,t.blkIndent,!1).trim(),b=y.length,A=1;A<b;A++){if(s=y.charCodeAt(A),s===91)return!1;if(s===93){p=A;break}else s===10?D++:s===92&&(A++,A<b&&y.charCodeAt(A)===10&&D++)}if(p<0||y.charCodeAt(p+1)!==58)return!1;for(A=p+2;A<b;A++)if(s=y.charCodeAt(A),s===10)D++;else if(!Vn(s))break;if(v=t.md.helpers.parseLinkDestination(y,A,b),!v.ok||(l=t.md.normalizeLink(v.str),!t.md.validateLink(l)))return!1;for(A=v.pos,D+=v.lines,i=A,a=D,k=A;A<b;A++)if(s=y.charCodeAt(A),s===10)D++;else if(!Vn(s))break;for(v=t.md.helpers.parseLinkTitle(y,A,b),A<b&&k!==A&&v.ok?(_=v.str,A=v.pos,D+=v.lines):(_="",A=i,D=a);A<b&&(s=y.charCodeAt(A),!!Vn(s));)A++;if(A<b&&y.charCodeAt(A)!==10&&_)for(_="",A=i,D=a;A<b&&(s=y.charCodeAt(A),!!Vn(s));)A++;return A<b&&y.charCodeAt(A)!==10||(d=bK(y.slice(1,p)),!d)?!1:(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[d]>"u"&&(t.env.references[d]={title:_,href:l}),t.parentType=g,t.line=n+D+1),!0)},xK=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Go={},kK="[a-zA-Z_:][a-zA-Z0-9:._-]*",EK="[^\"'=<>`\\x00-\\x20]+",CK="'[^']*'",SK='"[^"]*"',AK="(?:"+EK+"|"+CK+"|"+SK+")",$K="(?:\\s+"+kK+"(?:\\s*=\\s*"+AK+")?)",hl="<[A-Za-z][A-Za-z0-9\\-]*"+$K+"*\\s*\\/?>",fl="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",DK="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",NK="<[?][\\s\\S]*?[?]>",MK="<![A-Z]+\\s+[^>]*>",TK="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",qK=new RegExp("^(?:"+hl+"|"+fl+"|"+DK+"|"+NK+"|"+MK+"|"+TK+")"),zK=new RegExp("^(?:"+hl+"|"+fl+")");Go.HTML_TAG_RE=qK;Go.HTML_OPEN_CLOSE_TAG_RE=zK;var IK=xK,PK=Go.HTML_OPEN_CLOSE_TAG_RE,Tt=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+IK.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(PK.source+"\\s*$"),/^$/,!1]],OK=function(t,n,o,r){var s,i,a,c,l=t.bMarks[n]+t.tShift[n],u=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(l)!==60)return!1;for(c=t.src.slice(l,u),s=0;s<Tt.length&&!Tt[s][0].test(c);s++);if(s===Tt.length)return!1;if(r)return Tt[s][2];if(i=n+1,!Tt[s][1].test(c)){for(;i<o&&!(t.sCount[i]<t.blkIndent);i++)if(l=t.bMarks[i]+t.tShift[i],u=t.eMarks[i],c=t.src.slice(l,u),Tt[s][1].test(c)){c.length!==0&&i++;break}}return t.line=i,a=t.push("html_block","",0),a.map=[n,i],a.content=t.getLines(n,i,t.blkIndent,!0),!0},sa=le.isSpace,FK=function(t,n,o,r){var s,i,a,c,l=t.bMarks[n]+t.tShift[n],u=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(s=t.src.charCodeAt(l),s!==35||l>=u))return!1;for(i=1,s=t.src.charCodeAt(++l);s===35&&l<u&&i<=6;)i++,s=t.src.charCodeAt(++l);return i>6||l<u&&!sa(s)?!1:(r||(u=t.skipSpacesBack(u,l),a=t.skipCharsBack(u,35,l),a>l&&sa(t.src.charCodeAt(a-1))&&(u=a),t.line=n+1,c=t.push("heading_open","h"+String(i),1),c.markup="########".slice(0,i),c.map=[n,t.line],c=t.push("inline","",0),c.content=t.src.slice(l,u).trim(),c.map=[n,t.line],c.children=[],c=t.push("heading_close","h"+String(i),-1),c.markup="########".slice(0,i)),!0)},BK=function(t,n,o){var r,s,i,a,c,l,u,h,d,p=n+1,g,v=t.md.block.ruler.getRules("paragraph");if(t.sCount[n]-t.blkIndent>=4)return!1;for(g=t.parentType,t.parentType="paragraph";p<o&&!t.isEmpty(p);p++)if(!(t.sCount[p]-t.blkIndent>3)){if(t.sCount[p]>=t.blkIndent&&(l=t.bMarks[p]+t.tShift[p],u=t.eMarks[p],l<u&&(d=t.src.charCodeAt(l),(d===45||d===61)&&(l=t.skipChars(l,d),l=t.skipSpaces(l),l>=u)))){h=d===61?1:2;break}if(!(t.sCount[p]<0)){for(s=!1,i=0,a=v.length;i<a;i++)if(v[i](t,p,o,!0)){s=!0;break}if(s)break}}return h?(r=t.getLines(n,p,t.blkIndent,!1).trim(),t.line=p+1,c=t.push("heading_open","h"+String(h),1),c.markup=String.fromCharCode(d),c.map=[n,t.line],c=t.push("inline","",0),c.content=r,c.map=[n,t.line-1],c.children=[],c=t.push("heading_close","h"+String(h),-1),c.markup=String.fromCharCode(d),t.parentType=g,!0):!1},RK=function(t,n){var o,r,s,i,a,c,l=n+1,u=t.md.block.ruler.getRules("paragraph"),h=t.lineMax;for(c=t.parentType,t.parentType="paragraph";l<h&&!t.isEmpty(l);l++)if(!(t.sCount[l]-t.blkIndent>3)&&!(t.sCount[l]<0)){for(r=!1,s=0,i=u.length;s<i;s++)if(u[s](t,l,h,!0)){r=!0;break}if(r)break}return o=t.getLines(n,l,t.blkIndent,!1).trim(),t.line=l,a=t.push("paragraph_open","p",1),a.map=[n,t.line],a=t.push("inline","",0),a.content=o,a.map=[n,t.line],a.children=[],a=t.push("paragraph_close","p",-1),t.parentType=c,!0},pl=bs,jo=le.isSpace;function Xe(e,t,n,o){var r,s,i,a,c,l,u,h;for(this.src=e,this.md=t,this.env=n,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",s=this.src,h=!1,i=a=l=u=0,c=s.length;a<c;a++){if(r=s.charCodeAt(a),!h)if(jo(r)){l++,r===9?u+=4-u%4:u++;continue}else h=!0;(r===10||a===c-1)&&(r!==10&&a++,this.bMarks.push(i),this.eMarks.push(a),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),h=!1,l=0,u=0,i=a+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Xe.prototype.push=function(e,t,n){var o=new pl(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o};Xe.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Xe.prototype.skipEmptyLines=function(t){for(var n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Xe.prototype.skipSpaces=function(t){for(var n,o=this.src.length;t<o&&(n=this.src.charCodeAt(t),!!jo(n));t++);return t};Xe.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!jo(this.src.charCodeAt(--t)))return t+1;return t};Xe.prototype.skipChars=function(t,n){for(var o=this.src.length;t<o&&this.src.charCodeAt(t)===n;t++);return t};Xe.prototype.skipCharsBack=function(t,n,o){if(t<=o)return t;for(;t>o;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Xe.prototype.getLines=function(t,n,o,r){var s,i,a,c,l,u,h,d=t;if(t>=n)return"";for(u=new Array(n-t),s=0;d<n;d++,s++){for(i=0,h=c=this.bMarks[d],d+1<n||r?l=this.eMarks[d]+1:l=this.eMarks[d];c<l&&i<o;){if(a=this.src.charCodeAt(c),jo(a))a===9?i+=4-(i+this.bsCount[d])%4:i++;else if(c-h<this.tShift[d])i++;else break;c++}i>o?u[s]=new Array(i-o+1).join(" ")+this.src.slice(c,l):u[s]=this.src.slice(c,l)}return u.join("")};Xe.prototype.Token=pl;var LK=Xe,VK=_s,Hn=[["table",hK,["paragraph","reference"]],["code",fK],["fence",pK,["paragraph","reference","blockquote","list"]],["blockquote",gK,["paragraph","reference","blockquote","list"]],["hr",vK,["paragraph","reference","blockquote","list"]],["list",_K,["paragraph","reference","blockquote"]],["reference",wK],["html_block",OK,["paragraph","reference","blockquote"]],["heading",FK,["paragraph","reference","blockquote"]],["lheading",BK],["paragraph",RK]];function Yo(){this.ruler=new VK;for(var e=0;e<Hn.length;e++)this.ruler.push(Hn[e][0],Hn[e][1],{alt:(Hn[e][2]||[]).slice()})}Yo.prototype.tokenize=function(e,t,n){for(var o,r,s=this.ruler.getRules(""),i=s.length,a=t,c=!1,l=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n||e.sCount[a]<e.blkIndent));){if(e.level>=l){e.line=n;break}for(r=0;r<i&&(o=s[r](e,a,n,!1),!o);r++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),a=e.line,a<n&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}};Yo.prototype.parse=function(e,t,n,o){var r;e&&(r=new this.State(e,t,n,o),this.tokenize(r,r.line,r.lineMax))};Yo.prototype.State=LK;var HK=Yo;function UK(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var GK=function(t,n){for(var o=t.pos;o<t.posMax&&!UK(t.src.charCodeAt(o));)o++;return o===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,o)),t.pos=o,!0)},jK=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,YK=function(t,n){var o,r,s,i,a,c,l,u;return!t.md.options.linkify||t.linkLevel>0||(o=t.pos,r=t.posMax,o+3>r)||t.src.charCodeAt(o)!==58||t.src.charCodeAt(o+1)!==47||t.src.charCodeAt(o+2)!==47||(s=t.pending.match(jK),!s)||(i=s[1],a=t.md.linkify.matchAtStart(t.src.slice(o-i.length)),!a)||(c=a.url,c=c.replace(/\*+$/,""),l=t.md.normalizeLink(c),!t.md.validateLink(l))?!1:(n||(t.pending=t.pending.slice(0,-i.length),u=t.push("link_open","a",1),u.attrs=[["href",l]],u.markup="linkify",u.info="auto",u=t.push("text","",0),u.content=t.md.normalizeLinkText(c),u=t.push("link_close","a",-1),u.markup="linkify",u.info="auto"),t.pos+=c.length-i.length,!0)},XK=le.isSpace,ZK=function(t,n){var o,r,s,i=t.pos;if(t.src.charCodeAt(i)!==10)return!1;if(o=t.pending.length-1,r=t.posMax,!n)if(o>=0&&t.pending.charCodeAt(o)===32)if(o>=1&&t.pending.charCodeAt(o-1)===32){for(s=o-1;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(i++;i<r&&XK(t.src.charCodeAt(i));)i++;return t.pos=i,!0},WK=le.isSpace,xs=[];for(var ia=0;ia<256;ia++)xs.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){xs[e.charCodeAt(0)]=1});var KK=function(t,n){var o,r,s,i,a,c=t.pos,l=t.posMax;if(t.src.charCodeAt(c)!==92||(c++,c>=l))return!1;if(o=t.src.charCodeAt(c),o===10){for(n||t.push("hardbreak","br",0),c++;c<l&&(o=t.src.charCodeAt(c),!!WK(o));)c++;return t.pos=c,!0}return i=t.src[c],o>=55296&&o<=56319&&c+1<l&&(r=t.src.charCodeAt(c+1),r>=56320&&r<=57343&&(i+=t.src[c+1],c++)),s="\\"+i,n||(a=t.push("text_special","",0),o<256&&xs[o]!==0?a.content=i:a.content=s,a.markup=s,a.info="escape"),t.pos=c+1,!0},QK=function(t,n){var o,r,s,i,a,c,l,u,h=t.pos,d=t.src.charCodeAt(h);if(d!==96)return!1;for(o=h,h++,r=t.posMax;h<r&&t.src.charCodeAt(h)===96;)h++;if(s=t.src.slice(o,h),l=s.length,t.backticksScanned&&(t.backticks[l]||0)<=o)return n||(t.pending+=s),t.pos+=l,!0;for(a=c=h;(a=t.src.indexOf("`",c))!==-1;){for(c=a+1;c<r&&t.src.charCodeAt(c)===96;)c++;if(u=c-a,u===l)return n||(i=t.push("code_inline","code",0),i.markup=s,i.content=t.src.slice(h,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=c,!0;t.backticks[u]=a}return t.backticksScanned=!0,n||(t.pending+=s),t.pos+=l,!0},Xo={};Xo.tokenize=function(t,n){var o,r,s,i,a,c=t.pos,l=t.src.charCodeAt(c);if(n||l!==126||(r=t.scanDelims(t.pos,!0),i=r.length,a=String.fromCharCode(l),i<2))return!1;for(i%2&&(s=t.push("text","",0),s.content=a,i--),o=0;o<i;o+=2)s=t.push("text","",0),s.content=a+a,t.delimiters.push({marker:l,length:0,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0};function aa(e,t){var n,o,r,s,i,a=[],c=t.length;for(n=0;n<c;n++)r=t[n],r.marker===126&&r.end!==-1&&(s=t[r.end],i=e.tokens[r.token],i.type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",i=e.tokens[s.token],i.type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="",e.tokens[s.token-1].type==="text"&&e.tokens[s.token-1].content==="~"&&a.push(s.token-1));for(;a.length;){for(n=a.pop(),o=n+1;o<e.tokens.length&&e.tokens[o].type==="s_close";)o++;o--,n!==o&&(i=e.tokens[o],e.tokens[o]=e.tokens[n],e.tokens[n]=i)}}Xo.postProcess=function(t){var n,o=t.tokens_meta,r=t.tokens_meta.length;for(aa(t,t.delimiters),n=0;n<r;n++)o[n]&&o[n].delimiters&&aa(t,o[n].delimiters)};var Zo={};Zo.tokenize=function(t,n){var o,r,s,i=t.pos,a=t.src.charCodeAt(i);if(n||a!==95&&a!==42)return!1;for(r=t.scanDelims(t.pos,a===42),o=0;o<r.length;o++)s=t.push("text","",0),s.content=String.fromCharCode(a),t.delimiters.push({marker:a,length:r.length,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0};function ca(e,t){var n,o,r,s,i,a,c=t.length;for(n=c-1;n>=0;n--)o=t[n],!(o.marker!==95&&o.marker!==42)&&o.end!==-1&&(r=t[o.end],a=n>0&&t[n-1].end===o.end+1&&t[n-1].marker===o.marker&&t[n-1].token===o.token-1&&t[o.end+1].token===r.token+1,i=String.fromCharCode(o.marker),s=e.tokens[o.token],s.type=a?"strong_open":"em_open",s.tag=a?"strong":"em",s.nesting=1,s.markup=a?i+i:i,s.content="",s=e.tokens[r.token],s.type=a?"strong_close":"em_close",s.tag=a?"strong":"em",s.nesting=-1,s.markup=a?i+i:i,s.content="",a&&(e.tokens[t[n-1].token].content="",e.tokens[t[o.end+1].token].content="",n--))}Zo.postProcess=function(t){var n,o=t.tokens_meta,r=t.tokens_meta.length;for(ca(t,t.delimiters),n=0;n<r;n++)o[n]&&o[n].delimiters&&ca(t,o[n].delimiters)};var JK=le.normalizeReference,br=le.isSpace,eQ=function(t,n){var o,r,s,i,a,c,l,u,h,d="",p="",g=t.pos,v=t.posMax,k=t.pos,y=!0;if(t.src.charCodeAt(t.pos)!==91||(a=t.pos+1,i=t.md.helpers.parseLinkLabel(t,t.pos,!0),i<0))return!1;if(c=i+1,c<v&&t.src.charCodeAt(c)===40){for(y=!1,c++;c<v&&(r=t.src.charCodeAt(c),!(!br(r)&&r!==10));c++);if(c>=v)return!1;if(k=c,l=t.md.helpers.parseLinkDestination(t.src,c,t.posMax),l.ok){for(d=t.md.normalizeLink(l.str),t.md.validateLink(d)?c=l.pos:d="",k=c;c<v&&(r=t.src.charCodeAt(c),!(!br(r)&&r!==10));c++);if(l=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<v&&k!==c&&l.ok)for(p=l.str,c=l.pos;c<v&&(r=t.src.charCodeAt(c),!(!br(r)&&r!==10));c++);}(c>=v||t.src.charCodeAt(c)!==41)&&(y=!0),c++}if(y){if(typeof t.env.references>"u")return!1;if(c<v&&t.src.charCodeAt(c)===91?(k=c+1,c=t.md.helpers.parseLinkLabel(t,c),c>=0?s=t.src.slice(k,c++):c=i+1):c=i+1,s||(s=t.src.slice(a,i)),u=t.env.references[JK(s)],!u)return t.pos=g,!1;d=u.href,p=u.title}return n||(t.pos=a,t.posMax=i,h=t.push("link_open","a",1),h.attrs=o=[["href",d]],p&&o.push(["title",p]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,h=t.push("link_close","a",-1)),t.pos=c,t.posMax=v,!0},tQ=le.normalizeReference,wr=le.isSpace,nQ=function(t,n){var o,r,s,i,a,c,l,u,h,d,p,g,v,k="",y=t.pos,E=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(c=t.pos+2,a=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),a<0))return!1;if(l=a+1,l<E&&t.src.charCodeAt(l)===40){for(l++;l<E&&(r=t.src.charCodeAt(l),!(!wr(r)&&r!==10));l++);if(l>=E)return!1;for(v=l,h=t.md.helpers.parseLinkDestination(t.src,l,t.posMax),h.ok&&(k=t.md.normalizeLink(h.str),t.md.validateLink(k)?l=h.pos:k=""),v=l;l<E&&(r=t.src.charCodeAt(l),!(!wr(r)&&r!==10));l++);if(h=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<E&&v!==l&&h.ok)for(d=h.str,l=h.pos;l<E&&(r=t.src.charCodeAt(l),!(!wr(r)&&r!==10));l++);else d="";if(l>=E||t.src.charCodeAt(l)!==41)return t.pos=y,!1;l++}else{if(typeof t.env.references>"u")return!1;if(l<E&&t.src.charCodeAt(l)===91?(v=l+1,l=t.md.helpers.parseLinkLabel(t,l),l>=0?i=t.src.slice(v,l++):l=a+1):l=a+1,i||(i=t.src.slice(c,a)),u=t.env.references[tQ(i)],!u)return t.pos=y,!1;k=u.href,d=u.title}return n||(s=t.src.slice(c,a),t.md.inline.parse(s,t.md,t.env,g=[]),p=t.push("image","img",0),p.attrs=o=[["src",k],["alt",""]],p.children=g,p.content=s,d&&o.push(["title",d])),t.pos=l,t.posMax=E,!0},oQ=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,rQ=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,sQ=function(t,n){var o,r,s,i,a,c,l=t.pos;if(t.src.charCodeAt(l)!==60)return!1;for(a=t.pos,c=t.posMax;;){if(++l>=c||(i=t.src.charCodeAt(l),i===60))return!1;if(i===62)break}return o=t.src.slice(a+1,l),rQ.test(o)?(r=t.md.normalizeLink(o),t.md.validateLink(r)?(n||(s=t.push("link_open","a",1),s.attrs=[["href",r]],s.markup="autolink",s.info="auto",s=t.push("text","",0),s.content=t.md.normalizeLinkText(o),s=t.push("link_close","a",-1),s.markup="autolink",s.info="auto"),t.pos+=o.length+2,!0):!1):oQ.test(o)?(r=t.md.normalizeLink("mailto:"+o),t.md.validateLink(r)?(n||(s=t.push("link_open","a",1),s.attrs=[["href",r]],s.markup="autolink",s.info="auto",s=t.push("text","",0),s.content=t.md.normalizeLinkText(o),s=t.push("link_close","a",-1),s.markup="autolink",s.info="auto"),t.pos+=o.length+2,!0):!1):!1},iQ=Go.HTML_TAG_RE;function aQ(e){return/^<a[>\s]/i.test(e)}function cQ(e){return/^<\/a\s*>/i.test(e)}function lQ(e){var t=e|32;return t>=97&&t<=122}var uQ=function(t,n){var o,r,s,i,a=t.pos;return!t.md.options.html||(s=t.posMax,t.src.charCodeAt(a)!==60||a+2>=s)||(o=t.src.charCodeAt(a+1),o!==33&&o!==63&&o!==47&&!lQ(o))||(r=t.src.slice(a).match(iQ),!r)?!1:(n||(i=t.push("html_inline","",0),i.content=t.src.slice(a,a+r[0].length),aQ(i.content)&&t.linkLevel++,cQ(i.content)&&t.linkLevel--),t.pos+=r[0].length,!0)},la=_o,dQ=le.has,hQ=le.isValidEntityCode,ua=le.fromCodePoint,fQ=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,pQ=/^&([a-z][a-z0-9]{1,31});/i,gQ=function(t,n){var o,r,s,i,a=t.pos,c=t.posMax;if(t.src.charCodeAt(a)!==38||a+1>=c)return!1;if(o=t.src.charCodeAt(a+1),o===35){if(s=t.src.slice(a).match(fQ),s)return n||(r=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),i=t.push("text_special","",0),i.content=hQ(r)?ua(r):ua(65533),i.markup=s[0],i.info="entity"),t.pos+=s[0].length,!0}else if(s=t.src.slice(a).match(pQ),s&&dQ(la,s[1]))return n||(i=t.push("text_special","",0),i.content=la[s[1]],i.markup=s[0],i.info="entity"),t.pos+=s[0].length,!0;return!1};function da(e,t){var n,o,r,s,i,a,c,l,u={},h=t.length;if(h){var d=0,p=-2,g=[];for(n=0;n<h;n++)if(r=t[n],g.push(0),(t[d].marker!==r.marker||p!==r.token-1)&&(d=n),p=r.token,r.length=r.length||0,!!r.close){for(u.hasOwnProperty(r.marker)||(u[r.marker]=[-1,-1,-1,-1,-1,-1]),i=u[r.marker][(r.open?3:0)+r.length%3],o=d-g[d]-1,a=o;o>i;o-=g[o]+1)if(s=t[o],s.marker===r.marker&&s.open&&s.end<0&&(c=!1,(s.close||r.open)&&(s.length+r.length)%3===0&&(s.length%3!==0||r.length%3!==0)&&(c=!0),!c)){l=o>0&&!t[o-1].open?g[o-1]+1:0,g[n]=n-o+l,g[o]=l,r.open=!1,s.end=n,s.close=!1,a=-1,p=-2;break}a!==-1&&(u[r.marker][(r.open?3:0)+(r.length||0)%3]=a)}}}var mQ=function(t){var n,o=t.tokens_meta,r=t.tokens_meta.length;for(da(t,t.delimiters),n=0;n<r;n++)o[n]&&o[n].delimiters&&da(t,o[n].delimiters)},vQ=function(t){var n,o,r=0,s=t.tokens,i=t.tokens.length;for(n=o=0;n<i;n++)s[n].nesting<0&&r--,s[n].level=r,s[n].nesting>0&&r++,s[n].type==="text"&&n+1<i&&s[n+1].type==="text"?s[n+1].content=s[n].content+s[n+1].content:(n!==o&&(s[o]=s[n]),o++);n!==o&&(s.length=o)},ks=bs,ha=le.isWhiteSpace,fa=le.isPunctChar,pa=le.isMdAsciiPunct;function $n(e,t,n,o){this.src=e,this.env=n,this.md=t,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}$n.prototype.pushPending=function(){var e=new ks("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};$n.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new ks(e,t,n),r=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(r),o};$n.prototype.scanDelims=function(e,t){var n=e,o,r,s,i,a,c,l,u,h,d=!0,p=!0,g=this.posMax,v=this.src.charCodeAt(e);for(o=e>0?this.src.charCodeAt(e-1):32;n<g&&this.src.charCodeAt(n)===v;)n++;return s=n-e,r=n<g?this.src.charCodeAt(n):32,l=pa(o)||fa(String.fromCharCode(o)),h=pa(r)||fa(String.fromCharCode(r)),c=ha(o),u=ha(r),u?d=!1:h&&(c||l||(d=!1)),c?p=!1:l&&(u||h||(p=!1)),t?(i=d,a=p):(i=d&&(!p||l),a=p&&(!d||h)),{can_open:i,can_close:a,length:s}};$n.prototype.Token=ks;var yQ=$n,ga=_s,xr=[["text",GK],["linkify",YK],["newline",ZK],["escape",KK],["backticks",QK],["strikethrough",Xo.tokenize],["emphasis",Zo.tokenize],["link",eQ],["image",nQ],["autolink",sQ],["html_inline",uQ],["entity",gQ]],kr=[["balance_pairs",mQ],["strikethrough",Xo.postProcess],["emphasis",Zo.postProcess],["fragments_join",vQ]];function Dn(){var e;for(this.ruler=new ga,e=0;e<xr.length;e++)this.ruler.push(xr[e][0],xr[e][1]);for(this.ruler2=new ga,e=0;e<kr.length;e++)this.ruler2.push(kr[e][0],kr[e][1])}Dn.prototype.skipToken=function(e){var t,n,o=e.pos,r=this.ruler.getRules(""),s=r.length,i=e.md.options.maxNesting,a=e.cache;if(typeof a[o]<"u"){e.pos=a[o];return}if(e.level<i)for(n=0;n<s&&(e.level++,t=r[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,a[o]=e.pos};Dn.prototype.tokenize=function(e){for(var t,n,o=this.ruler.getRules(""),r=o.length,s=e.posMax,i=e.md.options.maxNesting;e.pos<s;){if(e.level<i)for(n=0;n<r&&(t=o[n](e,!1),!t);n++);if(t){if(e.pos>=s)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Dn.prototype.parse=function(e,t,n,o){var r,s,i,a=new this.State(e,t,n,o);for(this.tokenize(a),s=this.ruler2.getRules(""),i=s.length,r=0;r<i;r++)s[r](a)};Dn.prototype.State=yQ;var _Q=Dn,Er,ma;function bQ(){return ma||(ma=1,Er=function(e){var t={};e=e||{},t.src_Any=il().source,t.src_Cc=al().source,t.src_Z=cl().source,t.src_P=ys.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var n="[><]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}),Er}function Yr(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(n){n&&Object.keys(n).forEach(function(o){e[o]=n[o]})}),e}function Wo(e){return Object.prototype.toString.call(e)}function wQ(e){return Wo(e)==="[object String]"}function xQ(e){return Wo(e)==="[object Object]"}function kQ(e){return Wo(e)==="[object RegExp]"}function va(e){return Wo(e)==="[object Function]"}function EQ(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var gl={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function CQ(e){return Object.keys(e||{}).reduce(function(t,n){return t||gl.hasOwnProperty(n)},!1)}var SQ={"http:":{validate:function(e,t,n){var o=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(o)?o.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var o=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(o)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:o.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var o=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(o)?o.match(n.re.mailto)[0].length:0}}},AQ="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",$Q="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function DQ(e){e.__index__=-1,e.__text_cache__=""}function NQ(e){return function(t,n){var o=t.slice(n);return e.test(o)?o.match(e)[0].length:0}}function ya(){return function(e,t){t.normalize(e)}}function wo(e){var t=e.re=bQ()(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(AQ),n.push(t.src_xn),t.src_tlds=n.join("|");function o(a){return a.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(o(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(o(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(o(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(o(t.tpl_host_fuzzy_test),"i");var r=[];e.__compiled__={};function s(a,c){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+c)}Object.keys(e.__schemas__).forEach(function(a){var c=e.__schemas__[a];if(c!==null){var l={validate:null,link:null};if(e.__compiled__[a]=l,xQ(c)){kQ(c.validate)?l.validate=NQ(c.validate):va(c.validate)?l.validate=c.validate:s(a,c),va(c.normalize)?l.normalize=c.normalize:c.normalize?s(a,c):l.normalize=ya();return}if(wQ(c)){r.push(a);return}s(a,c)}}),r.forEach(function(a){e.__compiled__[e.__schemas__[a]]&&(e.__compiled__[a].validate=e.__compiled__[e.__schemas__[a]].validate,e.__compiled__[a].normalize=e.__compiled__[e.__schemas__[a]].normalize)}),e.__compiled__[""]={validate:null,normalize:ya()};var i=Object.keys(e.__compiled__).filter(function(a){return a.length>0&&e.__compiled__[a]}).map(EQ).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+i+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+i+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),DQ(e)}function MQ(e,t){var n=e.__index__,o=e.__last_index__,r=e.__text_cache__.slice(n,o);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=o+t,this.raw=r,this.text=r,this.url=r}function Xr(e,t){var n=new MQ(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Ne(e,t){if(!(this instanceof Ne))return new Ne(e,t);t||CQ(e)&&(t=e,e={}),this.__opts__=Yr({},gl,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Yr({},SQ,e),this.__compiled__={},this.__tlds__=$Q,this.__tlds_replaced__=!1,this.re={},wo(this)}Ne.prototype.add=function(t,n){return this.__schemas__[t]=n,wo(this),this};Ne.prototype.set=function(t){return this.__opts__=Yr(this.__opts__,t),this};Ne.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var n,o,r,s,i,a,c,l,u;if(this.re.schema_test.test(t)){for(c=this.re.schema_search,c.lastIndex=0;(n=c.exec(t))!==null;)if(s=this.testSchemaAt(t,n[2],c.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(o=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(i=o.index+o[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=o.index+o[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=t.indexOf("@"),u>=0&&(r=t.match(this.re.email_fuzzy))!==null&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a))),this.__index__>=0};Ne.prototype.pretest=function(t){return this.re.pretest.test(t)};Ne.prototype.testSchemaAt=function(t,n,o){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,o,this):0};Ne.prototype.match=function(t){var n=0,o=[];this.__index__>=0&&this.__text_cache__===t&&(o.push(Xr(this,n)),n=this.__last_index__);for(var r=n?t.slice(n):t;this.test(r);)o.push(Xr(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return o.length?o:null};Ne.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;var n=this.re.schema_at_start.exec(t);if(!n)return null;var o=this.testSchemaAt(t,n[2],n[0].length);return o?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o,Xr(this,0)):null};Ne.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(o,r,s){return o!==s[r-1]}).reverse(),wo(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,wo(this),this)};Ne.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Ne.prototype.onCompile=function(){};var TQ=Ne;const qQ={},zQ=Object.freeze(Object.defineProperty({__proto__:null,default:qQ},Symbol.toStringTag,{value:"Module"})),IQ=Ol(zQ);var PQ={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},OQ={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},FQ={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},un=le,BQ=Uo,RQ=LW,LQ=dK,VQ=HK,HQ=_Q,UQ=TQ,wt=jt,ml=IQ,GQ={default:PQ,zero:OQ,commonmark:FQ},jQ=/^(vbscript|javascript|file|data):/,YQ=/^data:image\/(gif|png|jpeg|webp);/;function XQ(e){var t=e.trim().toLowerCase();return jQ.test(t)?!!YQ.test(t):!0}var vl=["http:","https:","mailto:"];function ZQ(e){var t=wt.parse(e,!0);if(t.hostname&&(!t.protocol||vl.indexOf(t.protocol)>=0))try{t.hostname=ml.toASCII(t.hostname)}catch{}return wt.encode(wt.format(t))}function WQ(e){var t=wt.parse(e,!0);if(t.hostname&&(!t.protocol||vl.indexOf(t.protocol)>=0))try{t.hostname=ml.toUnicode(t.hostname)}catch{}return wt.decode(wt.format(t),wt.decode.defaultChars+"%")}function qe(e,t){if(!(this instanceof qe))return new qe(e,t);t||un.isString(e)||(t=e||{},e="default"),this.inline=new HQ,this.block=new VQ,this.core=new LQ,this.renderer=new RQ,this.linkify=new UQ,this.validateLink=XQ,this.normalizeLink=ZQ,this.normalizeLinkText=WQ,this.utils=un,this.helpers=un.assign({},BQ),this.options={},this.configure(e),t&&this.set(t)}qe.prototype.set=function(e){return un.assign(this.options,e),this};qe.prototype.configure=function(e){var t=this,n;if(un.isString(e)&&(n=e,e=GQ[n],!e))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(o){e.components[o].rules&&t[o].ruler.enableOnly(e.components[o].rules),e.components[o].rules2&&t[o].ruler2.enableOnly(e.components[o].rules2)}),this};qe.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var o=e.filter(function(r){return n.indexOf(r)<0});if(o.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this};qe.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var o=e.filter(function(r){return n.indexOf(r)<0});if(o.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this};qe.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};qe.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};qe.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};qe.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};qe.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var KQ=qe;(function(e){e.exports=KQ})(Q1);const QQ=Fl(jr),JQ={class:"project"},eJ=["innerHTML"],tJ=de({__name:"ProjectInfo",props:{name:{type:String,default:" ",required:!1},note:{type:String,default:"",required:!1}},setup(e){const t=e,n=new QQ({html:!0,linkify:!0,typographer:!0}),o=r=>n.render(r);return(r,s)=>(j(),J("div",JQ,[ie("h4",null,": "+we(t.name),1),ie("div",{innerHTML:o(t.note.value)},null,8,eJ)]))}}),nJ={class:"aside-panel comp-layer f-col"},oJ={class:"content comp-layer f-col"},aJ=de({__name:"ViewPage",setup(e){const t=ht(),o=(i=>{try{return Bl.parse(i)}catch(a){console.error("Can`t parse dbml",a)}})(t.dbmlRaw),[r,s]=Y1.convertDbmlStructToVueFlow(o);return t.applyExtraData(r,s),t.initTags(r),console.log(r),(i,a)=>{var c,l;return j(),J("div",{class:be(["middle",{"edit-mode":x(t).settings.editMode}])},[ie("div",nJ,[ce(L1,{class:"widget"}),ce(I1,{class:"widget"}),ce(G1,{class:"widget"})]),ie("div",oJ,[ce(tJ,{name:(c=x(o).project)==null?void 0:c.name,note:((l=x(o).project)==null?void 0:l.note)||""},null,8,["name","note"]),ce(K1),ce(w1,{initialNodes:x(r),initialEdges:x(s)},null,8,["initialNodes","initialEdges"])])],2)}}});export{aJ as default};
